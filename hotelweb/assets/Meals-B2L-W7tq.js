import{e as b,c as le,B as ae,j as _,k as i,l as r,m as o,C as d,D,y as l,E as p,u as E,F as oe,G as se,x as u,t as x,q as V,H as M,I as C}from"./@vue-_x7nCA0A.js";import{g as ne,f as ie,h as de,i as re,o as ue}from"./@mdi-B1UCcPAh.js";import{u as ce}from"./vue-router-Dl416FTG.js";import{u as me}from"./vuex-TZZnsCVb.js";const pe={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},fe={class:"grid grid-cols-1 lg:grid-cols-1 gap-6 new-table"},ge={class:"mt-3 table-sec"},he={key:0},_e=l("caption",null,null,-1),be=l("thead",{class:"bg-white dark:bg-gray-900/80 dark:backdrop-blur-md"},[l("tr",null,[l("th",null,"Sl.No."),l("th",null,"Image"),l("th",null,"Name"),l("th",null,"Price"),l("th",null,"Discount %"),l("th",null,"Ratting"),l("th",null,"Status"),l("th",{class:"lg:flex lg:justify-center"},"Action")])],-1),ye={"data-label":"Sr.No"},ke={key:0,"data-label":"image"},De=["src"],ve={key:1,"data-label":"image"},Ee=l("img",{src:"https://kreditstorage.b-cdn.net/logo/noimage.png",class:"h-8"},null,-1),Ve=[Ee],Me={"data-label":"Name"},Ce={"data-label":"Price"},Ie={"data-label":"Discount"},xe={"data-label":"Rating"},Se={"data-label":"Status"},Ne={key:0},Ue={key:1},Te={key:2},we={key:3},je={key:4},Ae={key:0,class:"flex justify-center items-center"},Pe=l("div",{class:"spinner-dual-ring"},[l("div",{class:"ldio"},[l("div"),l("div",null,[l("div")])])],-1),Le=[Pe],Re={key:0},$e={class:"flex justify-center"},Be={class:"form-check form-check-inline"},Fe={class:"form-check-label inline-block text-gray-800 dark:text-slate-300 mr-2 cursor-pointer"},Ge={class:"form-check form-check-inline"},Oe={class:"form-check-label inline-block text-gray-800 dark:text-slate-300 mr-2 cursor-pointer"},He={class:"form-check form-check-inline"},qe={class:"form-check-label inline-block text-gray-800 dark:text-slate-300 mr-2 cursor-pointer"},ze={class:"form-check form-check-inline"},Ye={class:"form-check-label inline-block text-gray-800 dark:text-slate-300 mr-2 cursor-pointer"},Ke={class:"form-check form-check-inline"},Je={class:"form-check-label inline-block text-gray-800 dark:text-slate-300 mr-2 cursor-pointer"},Qe={class:"grid grid-cols-1 lg:grid-cols-2 gap-2"},We=l("p",{class:"text-slate-600 dark:text-white/75 pb-5 text-xl flex justify-center"}," Are you sure, you want to Delete ? ",-1),Xe={class:"h-48 cursor-pointer relative flex justify-center items-center border-2 rounded-md bg-gray-200"},Ze={class:"absolute flex justify-center items-center gap-2"},et=["src"],tt={key:1,class:"text-center text-neutral-400 font-bold"},it={__name:"Meals",setup(lt){const f=me(),$=ce(),g=b(()=>f.state.Meals),S=[{id:"ACTIVE",name:"ACTIVE"},{id:"DEACTIVE",name:"DEACTIVE"},{id:"PENDING",name:"PENDING"},{id:"SUSPENDED",name:"SUSPENDED"},{id:"DELETED",name:"DELETED"}],e=le({limit:10,offset:0,search:"",status:S[0],statusChange:S[0],id:null,submit:!1,statusModal:!1,addModal:!1,addAddressModal:!1,deleteModelStatus:!1,editMode:!1,mealsId:null,imgModal:!1,logoImage:null,name:null,rating:null,price:null,discount:null,shortDesc:null,desc:null});ae(()=>{v()});const B=()=>{var s;v(e.limit,e.offset,e.search,(s=e.status)==null?void 0:s.id)};function v(){f.dispatch("Meals/getMeals",{limit:e.limit,offset:e.offset,keyword:e.search,status:e.status.id})}function F(){if(U.value||T.value||w.value||j.value||A.value||P.value){e.submit=!0;return}e.submit=!1,e.editMode?(f.dispatch("Meals/updateMeals",{id:e.id,name:e.name,price:e.price,discount:e.discount,rating:e.rating,shortDesc:e.shortDesc,desc:e.desc}),e.addModal=!1):(f.dispatch("Meals/saveMeals",{name:e.name,price:e.price,discount:e.discount,rating:e.rating,shortDesc:e.shortDesc,desc:e.desc}),e.addModal=!1)}function G(){e.id&&f.dispatch("Meals/setMealsStatus",{id:e.id,status:e.status}),e.statusModal=!1}function O(){var s;e.offset=e.offset+e.limit,v(e.limit,e.offset,e.search,(s=e.status)==null?void 0:s.id)}function H(){f.dispatch("Meals/oneMealsDelete",{id:e.mealsId}),e.deleteModelStatus=!1}function q(s){var t,h;e.offset=0,s.length>2?v(e.limit,e.offset,s,(t=e.status)==null?void 0:t.id):s.length<=0&&v(e.limit,e.offset,e.search,(h=e.status)==null?void 0:h.id)}function z(){e.addModal=!0,e.id=null,e.name=null,e.price=null,e.discount=null,e.rating=null,e.shortDesc=null,e.desc=null}function Y(s,t){e.id=s,e.name=t.name,e.price=t.price,e.discount=t.discount,e.rating=t.rating,e.shortDesc=t.shortDesc,e.desc=t.desc,e.editMode=!0,e.addModal=!0}function K(s,t,h){$.push({path:s,query:{id:t,name:h}})}function J(s,t){e.imgModal=!0,e.id=s,e.logoImage=t}async function Q(s){if(s){const t=await s.target;if(t.files[0].type==="image/png"||t.files[0].type==="image/jpg"||t.files[0].type==="image/jpeg")if(t.files[0].size<=1e6){if(t.files){const h=new FileReader;h.onload=m=>{e.logoImage=m.target.result},e.imageFile=t.files[0],h.readAsDataURL(t.files[0])}}else f.dispatch("Alert/error",{msg:"Image too big (max 1 Mb allowed)"});else f.dispatch("Alert/error",{msg:"Upload image in png format."})}}function W(){e.imageFile&&(f.dispatch("Meals/setMealsImage",{id:e.id,file:e.imageFile}),e.imgModal=!1)}function X(s,t){e.statusModal=!0,e.id=s,e.status=t}const U=b(()=>{if(!e.name)return"Enter Hotel Name!"}),T=b(()=>{if(!e.price)return"Enter Price!"}),w=b(()=>{if(!e.discount)return"Enter discount!"}),j=b(()=>{if(!e.rating)return"Enter rating!"}),A=b(()=>{if(!e.shortDesc)return"Enter Short Description!"}),P=b(()=>{if(!e.desc)return"Enter Description!"});return(s,t)=>{const h=_("hero-bar"),m=_("control"),c=_("base-button"),y=_("base-buttons"),Z=_("new-card"),ee=_("card-component"),te=_("main-section"),I=_("modal-box"),k=_("field");return i(),r("section",null,[o(h,null,{default:d(()=>[D("Meals")]),_:1}),o(te,null,{default:d(()=>[l("div",pe,[o(m,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=a=>e.search=a),onKeyup:t[1]||(t[1]=a=>q(a.target.value)),type:"text",placeholder:"Search by : Name"},null,8,["modelValue"]),o(m,{modelValue:e.status,"onUpdate:modelValue":t[2]||(t[2]=a=>e.status=a),options:S},null,8,["modelValue"]),o(c,{type:"button",color:"themeColor",small:"",label:"SUBMIT",onClick:t[3]||(t[3]=p(a=>B(),["prevent"]))})]),l("div",fe,[o(ee,{class:"mb-6",title:"List (Total: "+g.value.totalMeals+")",onHeaderIconClicked:z,headerIcon:E(ne),iconText:"Add New Meal","has-table":""},{default:d(()=>{var a,L;return[l("div",ge,[((a=g.value.mealsData)==null?void 0:a.length)>0?(i(),r("table",he,[_e,be,l("tbody",null,[(i(!0),r(oe,null,se(g.value.mealsData,(n,R)=>(i(),r("tr",{key:R},[l("td",ye,C(R+1),1),n.image?(i(),r("td",ke,[l("img",{src:n.image,class:"h-8 w-14"},null,8,De)])):(i(),r("td",ve,Ve)),l("td",Me,C(n.name),1),l("td",Ce,"â‚¹"+C(n.price),1),l("td",Ie,C(n.discount),1),l("td",xe,C(n.rating),1),l("td",Se,[n.status=="ACTIVE"?(i(),r("span",Ne,"ACTIVE")):u("",!0),n.status=="DEACTIVE"?(i(),r("span",Ue,"DEACTIVE")):u("",!0),n.status=="PENDING"?(i(),r("span",Te,"PENDING")):u("",!0),n.status=="SUSPENDED"?(i(),r("span",we,"SUSPENDED")):u("",!0),n.status=="DELETED"?(i(),r("span",je,"DELETED")):u("",!0)]),l("td",null,[o(y,{type:"justify-start lg:justify-center","no-wrap":""},{default:d(()=>[o(c,{type:"button",title:"View Meal",color:"orange",icon:E(ie),small:"",rounded:"",onClick:p(N=>K("/meals/details",n.id,n.name),["prevent"])},null,8,["icon","onClick"]),o(c,{type:"button",title:"Update Meal",color:"info",icon:E(de),small:"",rounded:"",onClick:p(N=>Y(n.id,n),["prevent"])},null,8,["icon","onClick"]),o(c,{type:"button",title:"Change Status",color:"purple",icon:E(re),small:"",rounded:"",onClick:p(N=>X(n.id,n.status),["prevent"])},null,8,["icon","onClick"]),o(c,{color:"success",title:"Change Image",small:"",rounded:"",icon:E(ue),onClick:p(N=>J(n.id,n.image),["prevent"])},null,8,["icon","onClick"])]),_:2},1024)])]))),128))])])):u("",!0)]),((L=g.value.mealsData)==null?void 0:L.length)<=0?(i(),x(Z,{key:0,empty:""})):u("",!0)]}),_:1},8,["title","headerIcon"])]),g.value.dataLoader?(i(),r("div",Ae,Le)):u("",!0),g.value.loadMore&&!g.value.dataLoader?(i(),x(y,{key:1,type:"justify-center lg:justify-center"},{default:d(()=>[o(c,{type:"button",color:"themeColor",label:"Load More",onClick:t[4]||(t[4]=p(a=>O(),["prevent"]))})]),_:1})):u("",!0)]),_:1}),o(I,{modelValue:e.statusModal,"onUpdate:modelValue":t[10]||(t[10]=a=>e.statusModal=a),title:"Meal status"},{default:d(()=>[e.id?(i(),r("section",Re,[l("div",$e,[l("div",Be,[l("label",Fe,[V(l("input",{class:"form-check-input ml-2",type:"radio",name:"inlineRadioOptions","onUpdate:modelValue":t[5]||(t[5]=a=>e.status=a),value:"ACTIVE"},null,512),[[M,e.status]]),D(" ACTIVE ")])]),l("div",Ge,[l("label",Oe,[V(l("input",{class:"form-check-input ml-2",type:"radio",name:"inlineRadioOptions","onUpdate:modelValue":t[6]||(t[6]=a=>e.status=a),value:"DEACTIVE"},null,512),[[M,e.status]]),D(" DEACTIVE")])]),l("div",He,[l("label",qe,[V(l("input",{class:"form-check-input ml-2",type:"radio",name:"inlineRadioOptions","onUpdate:modelValue":t[7]||(t[7]=a=>e.status=a),value:"PENDING"},null,512),[[M,e.status]]),D(" PENDING")])]),l("div",ze,[l("label",Ye,[V(l("input",{class:"form-check-input ml-2",type:"radio",name:"inlineRadioOptions","onUpdate:modelValue":t[8]||(t[8]=a=>e.status=a),value:"SUSPENDED"},null,512),[[M,e.status]]),D(" SUSPENDED")])]),l("div",Ke,[l("label",Je,[V(l("input",{class:"form-check-input ml-2",type:"radio",name:"inlineRadioOptions","onUpdate:modelValue":t[9]||(t[9]=a=>e.status=a),value:"DELETED"},null,512),[[M,e.status]]),D(" DELETED")])])]),o(y,{type:"justify-center lg:justify-center pt-5"},{default:d(()=>[g.value.loaderNew?u("",!0):(i(),x(c,{key:0,type:"button",color:"info",small:"",label:"Change Status",onClick:p(G,["prevent"])}))]),_:1})])):u("",!0)]),_:1},8,["modelValue"]),o(I,{modelValue:e.addModal,"onUpdate:modelValue":t[17]||(t[17]=a=>e.addModal=a),title:"Add Hotel"},{default:d(()=>[l("div",Qe,[o(k,{label:"Meals Name *",help:e.submit?U.value:""},{default:d(()=>[o(m,{modelValue:e.name,"onUpdate:modelValue":t[11]||(t[11]=a=>e.name=a),type:"text",name:"name",autocomplete:"name",placeholder:"Enter Meals Name"},null,8,["modelValue"])]),_:1},8,["help"]),o(k,{label:"Price *",help:e.submit?T.value:""},{default:d(()=>[o(m,{modelValue:e.price,"onUpdate:modelValue":t[12]||(t[12]=a=>e.price=a),type:"text",name:"price",autocomplete:"price",placeholder:"Enter Price"},null,8,["modelValue"])]),_:1},8,["help"]),o(k,{label:"Discount *",help:e.submit?w.value:""},{default:d(()=>[o(m,{modelValue:e.discount,"onUpdate:modelValue":t[13]||(t[13]=a=>e.discount=a),type:"text",name:"discount",autocomplete:"discount",placeholder:"Enter Discount"},null,8,["modelValue"])]),_:1},8,["help"]),o(k,{label:"Rating *",help:e.submit?j.value:""},{default:d(()=>[o(m,{modelValue:e.rating,"onUpdate:modelValue":t[14]||(t[14]=a=>e.rating=a),type:"text",name:"rating",autocomplete:"rating",placeholder:"Enter Rating"},null,8,["modelValue"])]),_:1},8,["help"]),o(k,{label:"Short Description *",help:e.submit?A.value:""},{default:d(()=>[o(m,{modelValue:e.shortDesc,"onUpdate:modelValue":t[15]||(t[15]=a=>e.shortDesc=a),type:"text",name:"shortDesc",autocomplete:"shortDesc",placeholder:"Enter Short Description"},null,8,["modelValue"])]),_:1},8,["help"]),o(k,{label:"Description *",help:e.submit?P.value:""},{default:d(()=>[o(m,{modelValue:e.desc,"onUpdate:modelValue":t[16]||(t[16]=a=>e.desc=a),type:"textarea",name:"desc",autocomplete:"desc",placeholder:"Enter Description"},null,8,["modelValue"])]),_:1},8,["help"])]),o(y,{type:"justify-center lg:justify-center pt-5"},{default:d(()=>[g.value.loaderNew?u("",!0):(i(),x(c,{key:0,type:"button",color:"info",small:"",label:"Submit",onClick:p(F,["prevent"])}))]),_:1})]),_:1},8,["modelValue"]),o(I,{modelValue:e.deleteModelStatus,"onUpdate:modelValue":t[19]||(t[19]=a=>e.deleteModelStatus=a),title:"Logout",class:"backdrop-blur-sm"},{default:d(()=>[We,o(y,{class:"flex justify-center"},{default:d(()=>[o(c,{onClick:H,color:"danger",small:"",label:"Yes"}),o(c,{onClick:t[18]||(t[18]=a=>e.deleteModelStatus=!1),color:"info",small:"",label:"No"})]),_:1})]),_:1},8,["modelValue"]),o(I,{modelValue:e.imgModal,"onUpdate:modelValue":t[22]||(t[22]=a=>e.imgModal=a),title:"Update Image"},{default:d(()=>[l("section",null,[l("div",Xe,[l("input",{type:"file",name:"logo",id:"image_input",accept:"image/*",onChange:t[20]||(t[20]=a=>Q(a)),class:"z-20 opacity-0 cursor-pointer h-full w-full"},null,32),l("div",Ze,[e.logoImage?(i(),r("img",{key:0,class:"h-48 opacity-1",src:e.logoImage},null,8,et)):u("",!0),e.logoImage?u("",!0):(i(),r("span",tt,"Upload Image"))])]),o(y,{type:"justify-center lg:justify-center pt-5"},{default:d(()=>[o(c,{type:"button",color:"danger",small:"",label:"Upload",onClick:p(W,["prevent"])}),o(c,{type:"button",color:"info",small:"",label:"Cancel",onClick:t[21]||(t[21]=p(a=>e.imgModal=!1,["prevent"]))})]),_:1})])]),_:1},8,["modelValue"])])}}};export{it as default};
