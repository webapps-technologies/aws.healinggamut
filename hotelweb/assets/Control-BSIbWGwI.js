import{e as c,r as p,o as x,a as F,k as r,l as o,q as f,O as w,J as y,F as S,G as B,I as b,u as g,P as q,M as V}from"./@vue-_x7nCA0A.js";import{h as v}from"./moment-Cl4UOzQZ.js";import{u as E}from"./vuex-TZZnsCVb.js";const D={class:"relative"},M=["id","name","disabled"],A=["value"],U=["id","name","placeholder","required","disabled"],C=["id","name","maxlength","autocomplete","required","placeholder","type","min","disabled"],R={__name:"Control",props:{name:{type:String,default:null},id:{type:String,default:null},autocomplete:{type:String,default:null},placeholder:{type:String,default:null},options:{type:Array,default:null},type:{type:String,default:"text"},maxlength:{type:String,default:null},disabled:{type:Boolean,default:!1},modelValue:{type:[String,Number,Boolean,Array,Object],default:""},min:{validator:function(e){return e===null||e instanceof Date||!isNaN(Date.parse(e))},default:null},required:Boolean,borderless:Boolean,transparent:Boolean,ctrlKFocus:Boolean},emits:["update:modelValue","right-icon-click"],setup(e,{emit:h}){const l=e,k=h,d=c({get:()=>l.modelValue,set:n=>{k("update:modelValue",n)}}),u=c(()=>["px-3 py-2 max-w-full focus:ring ring-blue-300 focus:outline-none dark:border-gray-700 rounded w-full","dark:placeholder-gray-400 select",s.value==="textarea"?"h-20":"h-10",l.borderless?"border-0":"border",l.transparent?"bg-transparent":"bg-white dark:bg-gray-800",l.disabled?"border-gray-300 text-gray-400":"border-blue-300"]),s=c(()=>l.options?"select":l.type),i=E(),m=p(null);if(l.ctrlKFocus){const n=a=>{a.ctrlKey&&a.key==="k"?(a.preventDefault(),m.value.focus()):a.key==="Escape"&&m.value.blur()};x(()=>{i.state.isFieldFocusRegistered||(window.addEventListener("keydown",n),i.commit("basic",{key:"isFieldFocusRegistered",value:!0}))}),F(()=>{window.removeEventListener("keydown",n),i.commit("basic",{key:"isFieldFocusRegistered",value:!1})})}return(n,a)=>(r(),o("div",D,[s.value==="select"?f((r(),o("select",{key:0,id:e.id,"onUpdate:modelValue":a[0]||(a[0]=t=>d.value=t),name:e.name,class:y(u.value),disabled:e.disabled},[(r(!0),o(S,null,B(e.options,t=>(r(),o("option",{key:t.id??t,value:t},b(t.label??t.name)+" "+b(t.time_start?"("+g(v)(t.time_start,"h:mm").format("h:mm A")+" - "+g(v)(t.time_end,"h:mm").format("h:mm A")+")":""),9,A))),128))],10,M)),[[w,d.value]]):s.value==="textarea"?f((r(),o("textarea",{key:1,id:e.id,"onUpdate:modelValue":a[1]||(a[1]=t=>d.value=t),class:y(u.value),name:e.name,placeholder:e.placeholder,required:e.required,disabled:e.disabled},null,10,U)),[[q,d.value]]):f((r(),o("input",{key:2,id:e.id,ref_key:"inputEl",ref:m,"onUpdate:modelValue":a[2]||(a[2]=t=>d.value=t),name:e.name,maxlength:e.maxlength,autocomplete:e.autocomplete,required:e.required,placeholder:e.placeholder,type:s.value,min:e.min,class:y(u.value),disabled:e.disabled},null,10,C)),[[V,d.value]])]))}};export{R as default};
