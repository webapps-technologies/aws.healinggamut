import{e as b,c as tt,B as et,j as p,k as c,l as m,m as l,C as r,F as P,y as e,D as g,I as d,u as E,G as st,x as _,t as F,E as x}from"./@vue-_x7nCA0A.js";import{g as at,k as lt}from"./@mdi-B1UCcPAh.js";import{b as ot}from"./vue-router-Dl416FTG.js";import{u as it}from"./vuex-TZZnsCVb.js";import{h as nt}from"./moment-Cl4UOzQZ.js";const dt={class:"grid grid-cols-1 lg:grid-cols-1 gap-6"},rt={class:"grid grid-cols-1 lg:grid-cols-3 gap-6 pb-6"},ct={for:"Name",class:"font-semibold text-slate-800 dark:text-white"},ut=e("span",{class:"text-slate-400/[0.9]"},"Transportation Name : ",-1),mt={for:"Address",class:"font-semibold text-slate-800 dark:text-white"},ft=e("span",{class:"text-slate-400/[0.9]"},"Price : ",-1),pt={for:"State",class:"font-semibold text-slate-800 dark:text-white"},_t=e("span",{class:"text-slate-400/[0.9]"},"Discount : ",-1),gt={class:"grid grid-cols-1 lg:grid-cols-3 gap-6 pb-6"},ht={for:"City",class:"font-semibold text-slate-800 dark:text-white"},bt=e("span",{class:"text-slate-400/[0.9]"},"Ratting : ",-1),yt={for:"Pincode",class:"font-semibold text-slate-800 dark:text-white col-span-2"},xt=e("span",{class:"text-slate-400/[0.9]"},"Short Description : ",-1),vt={class:"grid grid-cols-1 lg:grid-cols-1 gap-6"},kt={for:"Pincode",class:"font-semibold text-slate-800 dark:text-white"},St=e("span",{class:"text-slate-400/[0.9]"},"Description : ",-1),At={class:"grid grid-cols-1 lg:grid-cols-1 gap-6 border"},wt={class:"mt-3 px-6 table-sec"},It={key:0},Vt=e("caption",null,null,-1),Ct=e("thead",{class:"bg-white dark:bg-gray-900/80 dark:backdrop-blur-md"},[e("tr",null,[e("th",null,"Sl.No."),e("th",null,"State Name"),e("th",null,"City Name"),e("th",null,"Area Name"),e("th",null,"Pincode"),e("th",{class:"lg:flex lg:justify-center"},"Action")])],-1),Dt={"data-label":"Sr.No"},Mt={"data-label":"state"},Tt={"data-label":"city"},jt={"data-label":"area"},Nt={"data-label":"pincode"},Lt={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6 new-table"},Ot={class:"flex justify-right md:block"},Ut={key:0,for:"Labtest Status"},Pt=e("span",{class:"text-indigo-500 font-semibold"},"Status :",-1),Et={class:"font-semibold pl-2 text-green-400"},Ft={key:1,for:"Labtest Status"},Bt=e("span",{class:"text-indigo-500 font-semibold"},"Status : ",-1),Yt={class:"font-semibold pl-2 text-red-400"},Rt={key:2,for:"Labtest Status"},$t=e("span",{class:"text-indigo-500 font-semibold"},"Status : ",-1),qt={class:"font-semibold pl-2 text-yellow-600"},zt={class:"mr-6 mb-3 last:mr-0 font-semibold text-slate-800 dark:text-white"},Gt=e("span",{class:"text-indigo-500"},"Created At :",-1),Ht={class:"control-label ml-1"},Jt=e("br",null,null,-1),Kt={class:"mr-6 mb-3 last:mr-0 font-semibold text-slate-800 dark:text-white"},Qt=e("span",{class:"text-indigo-500"},"Updated At :",-1),Wt={class:"control-label ml-1"},Xt={class:"grid grid-cols-1 lg:grid-cols-3 gap-2"},Zt={class:"h-48 cursor-pointer relative flex justify-center items-center border-2 rounded-md bg-gray-200"},te={class:"absolute flex justify-center items-center gap-2"},ee=["src"],se={key:1,class:"text-center text-neutral-400 font-bold"},ae=e("p",{class:"text-slate-600 dark:text-white/75 pb-5 text-xl flex justify-center"},"Are you sure, you want to Delete ?",-1),ue={__name:"TransportationDetails",setup(le){const n=it(),w=ot(),o=b(()=>n.state.Transportation),v=b(()=>n.state.Location),t=tt({limit:10,offset:0,keyword:"",status:!0,submit:!1,id:null,transId:null,addressModel:!1,imgModal:!1,deleteModelStatus:!1,addressId:null,state:null,city:null,area:null,address:null,selectStateId:null,selectCityId:null,image:null,imageFile:null});et(()=>{w.query.id&&(t.transId=w.query.id,B(t.transId),Y())});const B=s=>{n.dispatch("Transportation/getOneTrans",{id:s})};function Y(){n.dispatch("Location/getState",{limit:t.limit,offset:t.offset,keyword:t.keyword,status:t.status})}function R(s){s&&n.dispatch("Location/getState",{limit:t.limit,offset:t.offset,keyword:s,status:t.status})}function $(s){s.id&&(t.selectStateId=s.id,n.dispatch("Location/getCity",{limit:t.limit,offset:t.offset,keyword:t.keyword,status:t.status,stateId:s.id}))}function q(s){var a;t.state?n.dispatch("Location/getCity",{limit:t.limit,offset:t.offset,keyword:s,status:t.status,stateId:(a=t.state)==null?void 0:a.id}):n.dispatch("Alert/error",{msg:"Please Select State"})}function z(s){s.id&&n.dispatch("Location/getArea",{limit:t.limit,offset:t.offset,keyword:t.keyword,status:t.status,cityId:s.id})}function G(s){var a;t.state&&t.city?n.dispatch("Location/getArea",{limit:t.limit,offset:t.offset,keyword:s,status:t.status,cityId:(a=t.city)==null?void 0:a.id}):n.dispatch("Alert/error",{msg:"Please Select City"})}function H(){var s,a,u;if(V.value||C.value||D.value){t.submit=!0;return}t.submit=!1,n.dispatch("Transportation/saveOneTransAddress",{cityId:(s=t.city)==null?void 0:s.id,areaId:(a=t.area)==null?void 0:a.id,stateId:(u=t.state)==null?void 0:u.id,transportationId:t.transId}),t.addressModel=!1}function I(s){return s?nt(s).format("MMM Do YYYY hh:mm A"):"-"}function J(s){t.deleteModelStatus=!0,t.addressId=s}function K(){n.dispatch("Transportation/saveOneTransAddressDelete",{id:t.addressId}),t.deleteModelStatus=!1}function Q(){t.addressModel=!0,t.state=null,t.city=null,t.area=null}async function W(s){if(s){const a=await s.target;if(a.files[0].type==="image/png"||a.files[0].type==="image/jpg"||a.files[0].type==="image/jpeg")if(a.files[0].size<=1e6){if(a.files){const u=new FileReader;u.onload=f=>{t.image=f.target.result},t.imageFile=a.files[0],u.readAsDataURL(a.files[0])}}else n.dispatch("Alert/error",{msg:"Image too big (max 1 Mb allowed)"});else n.dispatch("Alert/error",{msg:"Upload image in png format."})}}function X(){t.imageFile&&(n.dispatch("Transportation/saveOneHotelImage",{transId:t.transId,file:t.imageFile}),t.imgModal=!1)}const V=b(()=>{var s;if(!((s=t.state)!=null&&s.id))return"Select State!"}),C=b(()=>{var s;if(!((s=t.city)!=null&&s.id))return"Select City!"}),D=b(()=>{var s;if(!((s=t.area)!=null&&s.id))return"Select area!"});return(s,a)=>{const u=p("new-card"),f=p("base-button"),y=p("base-buttons"),Z=p("card-component"),M=p("main-section"),k=p("search-select"),S=p("field"),A=p("modal-box");return c(),m(P,null,[l(M,null,{default:r(()=>[e("div",dt,[l(u,{title:"Transportation Details"},{default:r(()=>[e("div",rt,[e("label",ct,[ut,g(d(o.value.name),1)]),e("label",mt,[ft,g(d(o.value.price),1)]),e("label",pt,[_t,g(d(o.value.discounted)+"%",1)])]),e("div",gt,[e("label",ht,[bt,g(d(o.value.rating),1)]),e("label",yt,[xt,g(d(o.value.shortDesc),1)])]),e("div",vt,[e("label",kt,[St,g(d(o.value.desc),1)])])]),_:1}),e("div",At,[l(Z,{class:"mb-6",title:"Address",onHeaderIconClicked:Q,headerIcon:E(at),iconText:"Add Address","has-table":""},{default:r(()=>{var i,T;return[e("div",wt,[((i=o.value.transportationAddress)==null?void 0:i.length)>0?(c(),m("table",It,[Vt,Ct,e("tbody",null,[(c(!0),m(P,null,st(o.value.transportationAddress,(h,j)=>{var N,L,O,U;return c(),m("tr",{key:j},[e("td",Dt,d(j+1),1),e("td",Mt,d((N=h.state)==null?void 0:N.name),1),e("td",Tt,d((L=h.city)==null?void 0:L.name),1),e("td",jt,d((O=h.area)==null?void 0:O.name),1),e("td",Nt,d((U=h.area)==null?void 0:U.pincode),1),e("td",null,[l(y,{type:"justify-start lg:justify-center","no-wrap":""},{default:r(()=>[l(f,{type:"button",title:"Delete Address",color:"danger",icon:E(lt),small:"",rounded:"",onClick:x(oe=>J(h.id),["prevent"])},null,8,["icon","onClick"])]),_:2},1024)])])}),128))])])):_("",!0)]),((T=o.value.transportationAddress)==null?void 0:T.length)<=0?(c(),F(u,{key:0,empty:""})):_("",!0)]}),_:1},8,["headerIcon"])])])]),_:1}),l(M,null,{default:r(()=>[e("div",Lt,[l(u,{title:"Dates"},{default:r(()=>[e("div",Ot,[o.value.status=="ACTIVE"?(c(),m("label",Ut,[Pt,e("span",Et,d(o.value.status),1)])):_("",!0),o.value.status=="PENDING"?(c(),m("label",Ft,[Bt,e("span",Yt,d(o.value.status),1)])):_("",!0),o.value.status=="DEACTIVE"?(c(),m("label",Rt,[$t,e("span",qt,d(o.value.status),1)])):_("",!0)]),e("label",zt,[Gt,e("span",Ht,d(I(o.value.createdAt)),1)]),Jt,e("label",Kt,[Qt,e("span",Wt,d(I(o.value.updatedAt)),1)])]),_:1})]),l(A,{modelValue:t.addressModel,"onUpdate:modelValue":a[3]||(a[3]=i=>t.addressModel=i),title:"Add Address"},{default:r(()=>[e("div",Xt,[l(S,{label:"State *",help:t.submit?V.value:""},{default:r(()=>[l(k,{modelValue:t.state,"onUpdate:modelValue":a[0]||(a[0]=i=>t.state=i),options:v.value.stateData,onOnType:R,onOnSelected:$},null,8,["modelValue","options"])]),_:1},8,["help"]),l(S,{label:"City *",help:t.submit?C.value:""},{default:r(()=>[l(k,{modelValue:t.city,"onUpdate:modelValue":a[1]||(a[1]=i=>t.city=i),options:v.value.cityData,onOnType:q,onOnSelected:z},null,8,["modelValue","options"])]),_:1},8,["help"]),l(S,{label:"Area *",help:t.submit?D.value:""},{default:r(()=>[l(k,{modelValue:t.area,"onUpdate:modelValue":a[2]||(a[2]=i=>t.area=i),options:v.value.areaData,onOnType:G,onOnSelected:s.selectArea},null,8,["modelValue","options","onOnSelected"])]),_:1},8,["help"])]),l(y,{type:"justify-center lg:justify-center pt-5"},{default:r(()=>[o.value.loaderNew?_("",!0):(c(),F(f,{key:0,type:"button",color:"info",small:"",label:"Submit",onClick:x(H,["prevent"])}))]),_:1})]),_:1},8,["modelValue"]),l(A,{modelValue:t.imgModal,"onUpdate:modelValue":a[6]||(a[6]=i=>t.imgModal=i),title:"Add Image"},{default:r(()=>[e("section",null,[e("div",Zt,[e("input",{type:"file",id:"image_input",name:"logo",accept:"image/*",onChange:a[4]||(a[4]=i=>W(i)),class:"z-20 opacity-0 cursor-pointer h-full w-full"},null,32),e("div",te,[t.image?(c(),m("img",{key:0,class:"h-48 opacity-1",src:t.image},null,8,ee)):_("",!0),t.image?_("",!0):(c(),m("span",se,"Upload Image"))])]),l(y,{type:"justify-center lg:justify-center pt-5"},{default:r(()=>[l(f,{type:"button",color:"danger",small:"",label:"Upload",onClick:x(X,["prevent"])}),l(f,{type:"button",color:"info",small:"",label:"Cancel",onClick:a[5]||(a[5]=x(i=>t.imgModal=!1,["prevent"]))})]),_:1})])]),_:1},8,["modelValue"]),l(A,{modelValue:t.deleteModelStatus,"onUpdate:modelValue":a[8]||(a[8]=i=>t.deleteModelStatus=i),title:"Address delete confirmation",class:"backdrop-blur-sm"},{default:r(()=>[ae,l(y,{class:"flex justify-center"},{default:r(()=>[l(f,{onClick:K,color:"danger",small:"",label:"Yes"}),l(f,{onClick:a[7]||(a[7]=i=>t.deleteModelStatus=!1),color:"info",small:"",label:"No"})]),_:1})]),_:1},8,["modelValue"])]),_:1})],64)}}};export{ue as default};
