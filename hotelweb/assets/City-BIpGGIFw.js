import{e as E,c as Q,B as W,j as r,k as n,l as m,m as l,C as i,D as V,I as M,y as a,E as p,u as C,F as X,G as Y,x as c,t as g,q as L,H as w}from"./@vue-_x7nCA0A.js";import{g as tt,h as et,i as at,j as ot}from"./@mdi-B1UCcPAh.js";import"./moment-Cl4UOzQZ.js";import{u as lt,b as st}from"./vue-router-Dl416FTG.js";import{u as nt}from"./vuex-TZZnsCVb.js";const it={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},dt={class:"grid grid-cols-1 lg:grid-cols-1 gap-6 new-table"},ut={class:"mt-3 table-sec"},rt={key:0},ct=a("caption",null,null,-1),mt=a("thead",{class:"bg-white dark:bg-gray-900/80 dark:backdrop-blur-md"},[a("tr",null,[a("th",null,"Sl.No."),a("th",null,"City Name"),a("th",null,"City Status"),a("th",{class:"lg:flex lg:justify-center"},"Action")])],-1),ft={"data-label":"Sr.No"},pt={"data-label":"City Name"},yt={"data-label":"City Status"},_t={key:0,class:"text-green-500 font-bold"},ht={key:1,class:"text-rose-500 font-bold"},bt={key:0,class:"flex justify-center items-center"},Ct=a("div",{class:"spinner-dual-ring"},[a("div",{class:"ldio"},[a("div"),a("div",null,[a("div")])])],-1),gt=[Ct],vt={key:0},kt={class:"flex justify-center"},Vt={class:"form-check form-check-inline"},Mt={class:"form-check-label inline-block text-gray-800 dark:text-slate-300 mr-2 cursor-pointer"},It={class:"form-check form-check-inline"},Nt={class:"form-check-label inline-block text-gray-800 dark:text-slate-300 mr-2 cursor-pointer"},xt={class:"grid grid-cols-1 lg:grid-cols-1 gap-2"},At={__name:"City",setup(St){const A=[{id:10,label:"10"},{id:50,label:"50"},{id:250,label:"250"},{id:1e3,label:"1000"},{id:2500,label:"2500"},{id:5e3,label:"5000"},{id:1e4,label:"10000"}],_=nt(),T=lt(),v=st(),d=E(()=>_.state.Location),I=[{id:!0,name:"ACTIVE"},{id:!1,name:"DEACTIVE"}],t=Q({limit:A[0],offset:0,search:"",status:I[0],statusChange:null,id:null,stateId:null,stateName:null,submit:!1,statusModal:!1,addModal:!1,editMode:!1,name:null});W(()=>{v.query.id&&(t.stateId=v.query.id,t.stateName=v.query.name,h())});const U=()=>{var s;h(t.limit.id,t.offset,t.search,(s=t.status)==null?void 0:s.id,t.stateId)};function h(){_.dispatch("Location/getCity",{limit:t.limit.id,offset:t.offset,keyword:t.search,status:t.status.id,stateId:t.stateId})}function B(){if(N.value){t.submit=!0;return}t.submit=!1,t.editMode?(_.dispatch("Location/updateCity",{id:t.id,name:t.name,stateId:t.stateId}),t.addModal=!1):(_.dispatch("Location/saveCity",{name:t.name,stateId:t.stateId}),t.addModal=!1)}function $(){t.id&&_.dispatch("Location/setCityStatus",{id:t.id,status:t.statusChange}),t.statusModal=!1}function q(){t.offset=t.offset+t.limit.id,h()}function R(s){var e,y;t.offset=0,s.length>2?h(t.limit.id,t.offset,s,(e=t.status)==null?void 0:e.id,t.stateId):s.length<=0&&h(t.limit.id,t.offset,t.search,(y=t.status)==null?void 0:y.id,t.stateId)}function O(){t.addModal=!0,t.name=null}function F(s,e){t.id=s,t.name=e,t.editMode=!0,t.addModal=!0}function H(s,e){t.statusModal=!0,t.id=s,t.statusChange=e}function K(s,e,y){T.push({path:s,query:{id:e,name:y}})}const N=E(()=>{if(!t.name)return"Enter City Name!"});function P(s){let e=String.fromCharCode(s.keyCode);if(/^[a-zA-Z0-9 ]+$/.test(e))return!0;s.preventDefault()}return(s,e)=>{const y=r("hero-bar"),k=r("control"),f=r("base-button"),b=r("base-buttons"),z=r("new-card"),G=r("card-component"),Z=r("main-section"),x=r("modal-box"),J=r("field");return n(),m("section",null,[l(y,null,{default:i(()=>[V(M(t.stateName)+" > City ",1)]),_:1}),l(Z,null,{default:i(()=>[a("div",it,[l(k,{modelValue:t.search,"onUpdate:modelValue":e[0]||(e[0]=o=>t.search=o),onKeyup:e[1]||(e[1]=o=>R(o.target.value)),type:"text",placeholder:"Search by : City Name"},null,8,["modelValue"]),l(k,{modelValue:t.status,"onUpdate:modelValue":e[2]||(e[2]=o=>t.status=o),options:I},null,8,["modelValue"]),l(f,{type:"button",color:"themeColor",small:"",label:"SUBMIT",onClick:e[3]||(e[3]=p(o=>U(),["prevent"]))})]),a("div",dt,[l(G,{class:"mb-6",title:"List (Total: "+d.value.totalCity+")",onHeaderIconClicked:O,headerIcon:C(tt),iconText:"Add New City","has-table":""},{default:i(()=>{var o,S;return[a("div",ut,[((o=d.value.cityData)==null?void 0:o.length)>0?(n(),m("table",rt,[ct,mt,a("tbody",null,[(n(!0),m(X,null,Y(d.value.cityData,(u,j)=>(n(),m("tr",{key:j},[a("td",ft,M(j+1),1),a("td",pt,M(u.name),1),a("td",yt,[u.status?(n(),m("span",_t,"ACTIVE")):c("",!0),u.status?c("",!0):(n(),m("span",ht,"DEACTIVE"))]),a("td",null,[l(b,{type:"justify-start lg:justify-center","no-wrap":""},{default:i(()=>[l(f,{type:"button",title:"Update State",color:"info",icon:C(et),small:"",rounded:"",onClick:p(D=>F(u.id,u.name),["prevent"])},null,8,["icon","onClick"]),l(f,{type:"button",title:"Change Status",color:"purple",icon:C(at),small:"",rounded:"",onClick:p(D=>H(u.id,u.status),["prevent"])},null,8,["icon","onClick"]),l(f,{type:"button",title:"Area List",color:"orange",icon:C(ot),small:"",rounded:"",onClick:p(D=>K("/area/all",u.id,u.name),["prevent"])},null,8,["icon","onClick"])]),_:2},1024)])]))),128))])])):c("",!0)]),((S=d.value.cityData)==null?void 0:S.length)<=0?(n(),g(z,{key:0,empty:""})):c("",!0)]}),_:1},8,["title","headerIcon"])]),d.value.dataLoader?(n(),m("div",bt,gt)):c("",!0),d.value.loadMore&&!d.value.dataLoader?(n(),g(b,{key:1,type:"justify-center lg:justify-center"},{default:i(()=>[l(f,{type:"button",color:"themeColor",label:"Load More",onClick:e[4]||(e[4]=p(o=>q(),["prevent"]))})]),_:1})):c("",!0)]),_:1}),l(x,{modelValue:t.statusModal,"onUpdate:modelValue":e[7]||(e[7]=o=>t.statusModal=o),title:"City status"},{default:i(()=>[t.id?(n(),m("section",vt,[a("div",kt,[a("div",Vt,[a("label",Mt,[L(a("input",{class:"form-check-input ml-2",type:"radio",name:"inlineRadioOptions","onUpdate:modelValue":e[5]||(e[5]=o=>t.statusChange=o),value:!0},null,512),[[w,t.statusChange]]),V(" ACTIVE ")])]),a("div",It,[a("label",Nt,[L(a("input",{class:"form-check-input ml-2",type:"radio",name:"inlineRadioOptions","onUpdate:modelValue":e[6]||(e[6]=o=>t.statusChange=o),value:!1},null,512),[[w,t.statusChange]]),V(" DEACTIVE")])])]),l(b,{type:"justify-center lg:justify-center pt-5"},{default:i(()=>[d.value.loaderNew?c("",!0):(n(),g(f,{key:0,type:"button",color:"info",small:"",label:"Change Status",onClick:p($,["prevent"])}))]),_:1})])):c("",!0)]),_:1},8,["modelValue"]),l(x,{modelValue:t.addModal,"onUpdate:modelValue":e[10]||(e[10]=o=>t.addModal=o),title:"City"},{default:i(()=>[a("div",xt,[l(J,{label:"City Name *",help:t.submit?N.value:""},{default:i(()=>[l(k,{modelValue:t.name,"onUpdate:modelValue":e[8]||(e[8]=o=>t.name=o),type:"text",name:"name",autocomplete:"name",placeholder:"Enter City Name",onKeypress:e[9]||(e[9]=o=>P(o)),maxlength:"30"},null,8,["modelValue"])]),_:1},8,["help"])]),l(b,{type:"justify-center lg:justify-center pt-5"},{default:i(()=>[d.value.loaderNew?c("",!0):(n(),g(f,{key:0,type:"button",color:"info",small:"",label:"Submit",onClick:p(B,["prevent"])}))]),_:1})]),_:1},8,["modelValue"])])}}};export{At as default};
