import{r as m,j as A,S as K,k as l,l as n,y as i,F as _,G as y,D as N,I as b,E as k,u as r,q as j,P as B,U as F,V as w,m as L,x as M,R}from"./@vue-_x7nCA0A.js";import{u as q}from"./vuex-TZZnsCVb.js";import{H as E}from"./@mdi-B1UCcPAh.js";const U={class:"multi-select"},G={class:"tab-input"},H={class:"tabs"},O=["onClick"],P=["placeholder","onKeydown"],Q={key:0,class:"search-results"},$=["onClick"],z={class:"text-red-500"},Z={__name:"MultiSelect",props:{options:{type:Array,required:!0},tabs:{type:Array,default:[]},placeholder:{type:String,default:"Select..."}},emits:["update:modelValue","selected","specific","removed"],setup(h){const x=q(),C=h;let s=m(""),a=m([]),d=m([]),u=m(!1);const p=R(),g=e=>{s.value},S=()=>{s.value=""},T=(e,o)=>{p.emit("removed",e),a.value.splice(o,1),p.emit("selected",a.value)},V=e=>{a.value.findIndex(c=>c.id===e.id)<0?(a.value.push({id:e.id,name:e.name}),p.emit("specific",e),p.emit("selected",a.value),s.value="",d.value=[],u.value=!1):x.dispatch("Alert/error",{msg:"Alredy selected"})},f=e=>{const o=s.value.toLowerCase();d.value=C.options.filter(c=>c.name.toLowerCase().includes(o)),u.value=!0},D=e=>{u.value=!1};return(e,o)=>{const c=A("icon"),I=K("click-outside");return l(),n("div",U,[i("div",G,[i("div",H,[(l(!0),n(_,null,y(r(a),(t,v)=>(l(),n("span",{key:v,class:"tab"},[N(b(t.name)+" ",1),i("button",{class:"text-red-400",onClick:k(J=>T(t,v),["prevent"])},"â¤«",8,O)]))),128))]),j(i("input",{type:"text",class:"clsmulti px-3 py-2 max-w-full focus:ring ring-blue-300 focus:outline-none dark:border-gray-700 rounded w-full dark:placeholder-gray-400 border-blue-300 border","onUpdate:modelValue":o[0]||(o[0]=t=>F(s)?s.value=t:s=t),placeholder:h.placeholder,onInput:f,onFocus:f,onKeydown:w(k(g,["prevent"]),["enter"]),onKeyup:w(S,["enter"])},null,40,P),[[B,r(s)],[I,D]]),L(c,{class:"absolute right-0",path:r(E)},null,8,["path"])]),r(u)&&r(d).length>0?(l(),n("ul",Q,[(l(!0),n(_,null,y(r(d),t=>(l(),n("li",{key:t.id,onClick:v=>V(t)},[i("label",z,b(t.name),1)],8,$))),128))])):M("",!0)])}}};export{Z as default};
