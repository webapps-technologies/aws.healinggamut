import{u as W,c as i,v as Y,D as z,r as y,o as d,a as c,b as e,g as P,d as m,t as n,f as u,x as G,y as H,F as L,E as J,w as X}from"./vendor-5e5c4e37.js";import{_ as Z}from"./delete-f387c4f0.js";const tt={class:"doctor-education-details"},et={class:"row"},at={class:"form-item col-5 mb-16"},ot=e("div",{class:"title"},"State",-1),st={key:0,class:"err-msg"},lt={class:"form-item col-5 mb-16"},nt=e("div",{class:"title"},"City",-1),it={key:0,class:"err-msg"},dt={class:"form-item col-5 mb-16"},ct=e("div",{class:"title"},"Area",-1),rt={key:0,class:"err-msg"},ut={class:"form-item col-5 mb-16"},mt=e("div",{class:"title"},"Pincode",-1),_t={key:0,class:"err-msg"},ft={class:"add-btn"},pt={type:"submit",class:"btn black-btn w-10-r"},vt=e("div",{class:"ststud flex justify-end w-100 mb-16"},null,-1),ht={class:"table-outer w-100"},bt={class:"table"},yt=e("thead",null,[e("th",null,"Sl no"),e("th",null,"State"),e("th",null,"City"),e("th",null,"Area"),e("th",null,"Pincode"),e("th",null,"Action")],-1),gt={class:"text-center"},St={class:"option-btns"},It=["onClick"],At=e("img",{src:Z,alt:""},null,-1),Vt=e("div",{class:"tooltip"},"Delete",-1),kt=[At,Vt],Ct={key:0,class:"table-no-data"},wt=e("div",null,"No records Found!",-1),Pt=[wt],Lt={key:1,class:"table-footer"},Mt=e("div",{class:"redio-section"}," Are Yor Sure Want to Delete ? ",-1),Dt={class:"btns"},qt={__name:"OurAmbulanceLocation",setup(xt){const l=W(),r=i(()=>l.state.Auth),M=i(()=>l.state.States),D=i(()=>l.state.City),x=i(()=>l.state.Area),_=i(()=>l.state.AmbulanceLocation),t=Y({submit:!1,limit:10,offset:0,keyword:"",status:"ACTIVE",cPage:1,stateId:null,cityId:null,areaId:null,locationId:null,city:null,area:null,state:null,pincode:null,editMode:!1,statusModal:!1});z(()=>{E(),g()});function g(){l.dispatch("AmbulanceLocation/getAmbulanceLocation",{limit:t.limit,offset:t.offset,keyword:t.keyword,status:"ACTIVE",ambulanceId:r.value.id})}function U(s){t.cPage=s,t.offset=t.limit*(s-1),g()}function E(){l.dispatch("States/getState",{limit:t.limit,offset:t.offset,keyword:t.keyword,status:!0})}function N(){l.dispatch("City/getCity",{limit:t.limit,offset:t.offset,keyword:t.keyword,status:!0,stateId:t.stateId})}function q(){l.dispatch("Area/getAllArea",{limit:t.limit,offset:t.offset,keyword:t.keyword,status:!0,cityId:t.cityId})}const B=async()=>{if(f.value||p.value||h.value||v.value){t.submit=!0;return}t.submit=!1;const s={state:{id:t.stateId,name:t.state},city:{id:t.cityId,name:t.city},area:{id:t.areaId,name:t.area,pincode:t.pincode}};await l.dispatch("AmbulanceLocation/saveAmbulanceLocation",{cityId:t.cityId,areaId:t.areaId,stateId:t.stateId,ambulanceId:r.value.id,payload:s})};function R(s){t.locationId=s,r.value.statusModal=!0}function F(){l.dispatch("AmbulanceLocation/deleteAmbulanceLocation",{id:t.locationId})}const T=s=>{t.stateId=s.id,N()},$=s=>{t.cityId=s.id,q()},O=s=>{t.pincode=s.pincode,t.areaId=s.id},f=i(()=>t.state?null:"Required."),p=i(()=>t.city?null:"Required."),v=i(()=>t.area?null:"Required."),h=i(()=>t.pincode?null:"Required.");function j(s){let o=String.fromCharCode(s.keyCode);if(/^[0-9]+$/.test(o))return!0;s.preventDefault()}return(s,o)=>{var S,I;const b=y("SingleSelect"),K=y("Pagination"),Q=y("Modal");return d(),c(L,null,[e("section",tt,[e("form",{action:"",class:"form mb-16",onSubmit:P(B,["prevent"])},[e("div",et,[e("div",at,[ot,m(b,{options:M.value.data,onSelected:T,placeholder:t.state?t.state:"Search..",modelValue:t.state,"onUpdate:modelValue":o[0]||(o[0]=a=>t.state=a)},null,8,["options","placeholder","modelValue"]),t.submit&&f.value?(d(),c("div",st,n(f.value),1)):u("",!0)]),e("div",lt,[nt,m(b,{options:D.value.data,placeholder:t.city?t.city:"Search..",modelValue:t.city,"onUpdate:modelValue":o[1]||(o[1]=a=>t.city=a),onSelected:$},null,8,["options","placeholder","modelValue"]),t.submit&&p.value?(d(),c("div",it,n(p.value),1)):u("",!0)]),e("div",dt,[ct,m(b,{options:x.value.data,placeholder:t.area?t.area:"Search..",modelValue:t.area,"onUpdate:modelValue":o[2]||(o[2]=a=>t.area=a),onSelected:O},null,8,["options","placeholder","modelValue"]),t.submit&&v.value?(d(),c("div",rt,n(v.value),1)):u("",!0)]),e("div",ut,[mt,G(e("input",{type:"text","onUpdate:modelValue":o[3]||(o[3]=a=>t.pincode=a),placeholder:"Enter pincode",maxlength:"6",onKeypress:o[4]||(o[4]=a=>j(a))},null,544),[[H,t.pincode]]),t.submit&&h.value?(d(),c("div",_t,n(h.value),1)):u("",!0)])]),e("div",ft,[e("button",pt,n(t.editMode?"Update":"Add"),1)])],32),vt,e("div",ht,[e("table",bt,[yt,e("tbody",null,[(d(!0),c(L,null,J(_.value.ambulanceLocationData,(a,A)=>{var V,k,C,w;return d(),c("tr",{key:A},[e("td",null,n(A+1),1),e("td",null,n((V=a.state)==null?void 0:V.name),1),e("td",null,n((k=a.city)==null?void 0:k.name),1),e("td",null,n((C=a.area)==null?void 0:C.name),1),e("td",null,n((w=a.area)==null?void 0:w.pincode),1),e("td",gt,[e("div",St,[e("div",{class:"action-icon",onClick:Ut=>R(a.id)},kt,8,It)])])])}),128))])])]),((S=_.value.ambulanceLocationData)==null?void 0:S.length)<=0?(d(),c("div",Ct,Pt)):u("",!0),((I=r.value.ambulanceLocationData)==null?void 0:I.length)>0?(d(),c("div",Lt,[m(K,{currentPage:t.cPage,totalItem:_.value.total,itemsPerPage:t.limit,"onUpdate:currentPage":o[5]||(o[5]=a=>U(a))},null,8,["currentPage","totalItem","itemsPerPage"])])):u("",!0)]),m(Q,{show:r.value.statusModal,"onUpdate:show":o[7]||(o[7]=a=>r.value.statusModal=a),class:"confirm-modal",headerClasses:"header-bg"},{default:X(()=>[Mt,e("div",Dt,[e("button",{class:"btn grey-btn cancel-btn",onClick:o[6]||(o[6]=P(a=>r.value.statusModal=!1,["prevent"]))}," Cancel "),e("button",{type:"button",class:"btn confirm-btn",onClick:F}," Confirm ")])]),_:1},8,["show"])],64)}}};export{qt as default};
