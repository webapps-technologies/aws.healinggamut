import{u as w,c as r,v as x,D as A,r as E,o as a,a as i,b as e,d as C,t as l,f as c,x as v,y as b,g,F as D,E as N}from"./vendor-5e5c4e37.js";import{_ as O}from"./delete-f387c4f0.js";const H={class:"dr-expertise"},B={class:"row"},F={class:"form-item mb-16"},I=e("div",{class:"title"},"Hospital Name",-1),M={key:0,class:"err-msg"},U={class:"row"},P={class:"form-item mb-16"},$=e("div",{class:"title"},"Pincode",-1),K={key:0,class:"err-msg"},L={class:"row"},T={class:"form-item mb-16"},j=e("div",{class:"title"},"Address",-1),q={key:0,class:"err-msg"},G=e("div",{class:"save-btn"},[e("button",{type:"submit",class:"btn black-btn w-10-r"},"Add")],-1),J={class:"table-outer box-shadow"},Q={class:"table"},R=e("thead",null,[e("th",null,"Sr no"),e("th",null,"Hospital Name"),e("th",null,"Pincode"),e("th",null,"Address"),e("th",null,"Action")],-1),W={class:"text-center"},X=["onClick"],Y=e("div",{class:"action-icon"},[e("img",{src:O,alt:""}),e("div",{class:"tooltip"},"Delete")],-1),Z=[Y],ee={key:0,class:"table-no-data"},te=e("div",null,"No records Found!",-1),se=[te],le={__name:"OurHospitals",setup(oe){const d=w(),u=r(()=>d.state.Auth),t=x({submit:!1,name:null,pincode:null,address:null,organizationId:null});A(()=>{t.organizationId=null,f("")});const f=s=>{d.dispatch("Auth/getOrganization",{limit:10,offset:0,keyword:s})},V=s=>{d.dispatch("Auth/deleteOrganization",{id:s})},y=()=>{if(m.value||_.value||p.value){t.submit=!0;return}t.submit=!1,t.pincode=t.pincode?t.pincode.toString():null,d.dispatch("Auth/createOrganization",{payload:t})},S=s=>{t.name=s.name,t.pincode=s.pincode,t.address=s.address,t.organizationId=s.id},m=r(()=>{if(!t.name)return"Enter name !"}),_=r(()=>{if(t.pincode){if(t.pincode.length<6)return"Enter Valid pincode"}else return"Enter pincode"}),p=r(()=>{if(!t.address)return"Enter address"});function z(s){let n=String.fromCharCode(s.keyCode);if(/^[0-9]+$/.test(n))return!0;s.preventDefault()}return(s,n)=>{const k=E("SingleSelect");return a(),i("section",H,[e("form",{action:"",class:"form mb-16",onSubmit:g(y,["prevent"])},[e("div",B,[e("div",F,[I,C(k,{options:u.value.organizationData,onSelected:S,modelValue:t.name,"onUpdate:modelValue":n[0]||(n[0]=o=>t.name=o)},null,8,["options","modelValue"]),t.submit&&m.value?(a(),i("div",M,l(m.value),1)):c("",!0)])]),e("div",U,[e("div",P,[$,v(e("input",{type:"number",placeholder:"Enter pincode","onUpdate:modelValue":n[1]||(n[1]=o=>t.pincode=o),maxlength:"6",onKeypress:n[2]||(n[2]=o=>z(o))},null,544),[[b,t.pincode]]),t.submit&&_.value?(a(),i("div",K,l(_.value),1)):c("",!0)])]),e("div",L,[e("div",T,[j,v(e("textarea",{rows:"3",placeholder:"Enter","onUpdate:modelValue":n[3]||(n[3]=o=>t.address=o)},null,512),[[b,t.address]]),t.submit&&p.value?(a(),i("div",q,l(p.value),1)):c("",!0)])]),G],32),e("div",J,[e("table",Q,[R,e("tbody",null,[(a(!0),i(D,null,N(u.value.doctorHospital,(o,h)=>(a(),i("tr",{key:h},[e("td",null,l(h+1),1),e("td",null,l(o.organization.name),1),e("td",null,l(o.organization.pincode),1),e("td",null,l(o.organization.address),1),e("td",W,[e("div",{class:"option-btns",onClick:g(ne=>V(o.id),["prevent"])},Z,8,X)])]))),128))])])]),u.value.doctorHospital.length<=0?(a(),i("div",ee,se)):c("",!0)])}}};export{le as default};
