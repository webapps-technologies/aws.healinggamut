import{u as K,s as n,S as L,o as c,a as i,b as m,F as b,E as g,z as B,t as k,g as C,Q as d,x as F,y as N,V as j,W as T,f as E,U as Q}from"./vendor-5e5c4e37.js";const R={class:"multi-select"},U={class:"tab-input"},q={class:"tabs"},z=["onClick"],O=["placeholder","onKeydown"],W={key:0,class:"search-results"},$=["onClick"],J={__name:"MultiSelect",props:{options:{type:Array,required:!0},tabs:{type:Array,default:[]},placeholder:{type:String,default:"Select"}},emits:["update:modelValue","selected","specific","removed","errorMsg","selectedArr"],setup(y){const w=K(),S=y;let e=n(""),o=n([]),r=n([]),v=n(null),p=n([]),u=n(!1);const t=Q(),A=()=>{e.value!==""&&(o.value.push(e.value),t.emit("specific",{id:null,name:e.value}),t.emit("selected",o.value),e.value="",u.value=!1)},x=()=>{e.value=""},I=(s,l)=>{t.emit("removed",s),o.value.splice(l,1),r.value.splice(l,1),t.emit("selected",o.value),t.emit("selectedArr",r.value)},M=s=>{t.emit("search",s.target.value)},V=s=>{r.value.findIndex(h=>h.labTestId===s.labTestId)<0?(o.value.push(s.name),r.value.push(s)):(v.value="Already Selected!",t.emit("errorMsg",v.value),w.dispatch("Alert/error",{msg:"Already Selected!"})),setTimeout(()=>{v.value=null,t.emit("errorMsg",v.value)},2e3),t.emit("specific",s),t.emit("selected",o.value),t.emit("selectedArr",r.value),e.value="",p.value=[],u.value=!1},_=()=>{const s=e.value.toLowerCase();p.value=S.options.filter(l=>l.name.toLowerCase().includes(s)),u.value=!0},D=()=>{u.value=!1};return(s,l)=>{const h=L("click-outside");return c(),i("div",R,[m("div",U,[m("div",q,[(c(!0),i(b,null,g(d(r),(a,f)=>(c(),i("span",{key:f,class:"tab"},[B(k(a.name)+" ",1),m("button",{onClick:C(G=>I(a,f),["prevent"])},"â¤«",8,z)]))),128))]),F(m("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=a=>j(e)?e.value=a:e=a),placeholder:y.placeholder,onInput:_,onFocus:_,onKeydown:T(C(A,["prevent"]),["enter"]),onKeyup:[T(x,["enter"]),l[1]||(l[1]=a=>M(a))]},null,40,O),[[N,d(e)],[h,D]])]),d(u)&&d(p).length>0?(c(),i("ul",W,[(c(!0),i(b,null,g(d(p),a=>(c(),i("li",{key:a.id,onClick:f=>V(a)},k(a.name),9,$))),128))])):E("",!0)])}}};export{J as default};
