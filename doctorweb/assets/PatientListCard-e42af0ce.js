import{u as Z,c as l,v as ee,m as p,s as te,D as se,r,o as i,a as u,b as e,g as v,z as f,d as _,H as L,t as n,x as oe,y as ae,Q as ne,V as le,F as ie,E as re,e as m,w as k,f as h}from"./vendor-5e5c4e37.js";import{_ as de}from"./search-96d5dcc4.js";import{_ as ce}from"./user-07284fd4.js";const ue={class:"patient-list-card card"},pe={class:"apt-btn"},_e={key:0,class:"icon"},ve={class:"tabs"},fe={class:"val bg-grey"},me=e("div",{class:"text"},"Pending",-1),he={class:"val bg-green"},De=e("div",{class:"text"},"Completed",-1),ge={class:"val bg-red"},Le=e("div",{class:"text"},"Cancelled",-1),ke={class:"searchbar"},ye=e("img",{src:de,alt:""},null,-1),Ae={key:0,class:"patient-list"},be={class:"time"},Ce={class:"info"},Ne={class:"name"},Pe={class:"dr-name"},Me={class:"token"},Be={class:"p-info-card card card1"},we={class:"top"},Ee=e("div",{class:"p-img"},[e("img",{src:ce,alt:""})],-1),Se={class:"p-info"},Ye={class:"name"},Oe={class:"about"},xe={class:"p-id"},Te={class:"amt"},$e={class:"schedule"},Ie={class:"time"},Ve={class:"dr"},Re={class:"message"},Fe={key:1,class:"patient-list"},He=e("div",{class:"title",showHeader:"true"},"Book Appointment",-1),Qe={__name:"PatientListCard",props:{patientList:{type:Object,required:!0},roles:{default:null,type:String}},setup(D){const F=Z(),g=l(()=>F.state.Appointments),s=ee({changeStatus:"PENDING",submit:!1,fromDate:p().format("YYYY-MM-DD"),toDate:p().format("YYYY-MM-DD"),tab:1,name:null,email:null,phone:null,address:null,doctor:null,prefix:null,gender:null,blood:null,state:null,city:null,speciality:null,language:null,dob:null,age:null,limit:100,offset:0,keyword:"",status:"ALL",type:"ALL",mode:"ALL",scheduleType:"ALL",appointmentFor:"ALL",selectFormDate:null,selectToDate:null,roles:null}),d=D;let c=te("");const C=l(()=>d.patientList[s.changeStatus].filter(o=>o.patientDetail.firstName.toLowerCase().includes(c.value.toLowerCase())||o.patientDetail.pid.toLowerCase().includes(c.value.toLowerCase())||o.doctorDetail.name.toLowerCase().includes(c.value.toLowerCase())||o.appointmentId.toLowerCase().includes(c.value.toLowerCase())));function y(o,a){s.tab=o,s.changeStatus=a}function H(o){if(o)return p(o).subtract({hours:4,minutes:30}).format("hh:mm A")}const z=o=>o?p(o).format("DD-MM-YYYY, hh:mm A"):"-";se(()=>{});function N(o){if(o){const a=p(),A=p(o);return`${a.diff(A,"years")}Y`}return"Not Mentioned"}return l(()=>{s.dob&&N(s.dob)}),l(()=>{if(!s.prefix)return"Select prefix!"}),l(()=>{if(!s.name)return"Enter patient name!"}),l(()=>{let o=/^[6-9][0-9]{9}$/;if(s.phone){if(!o.test(s.phone))return"Please enter valid phone no!"}else return"Please enter your phone no!"}),l(()=>{let o=/^([a-z0-9.-]+)@([a-z]{4,12}).([a-z.]{2,20})$/;if(s.email){if(!o.test(s.email))return"Please enter valid email!"}else return"Please enter your email!"}),l(()=>{if(!s.gender)return"Please select gender!"}),l(()=>{if(!s.dob)return"Please enter DOB !"}),l(()=>{if(!s.address)return"Please enter your address !"}),l(()=>{if(!s.speciality)return"Select speciality!"}),l(()=>{if(!s.blood)return"Select blood group!"}),l(()=>{if(!s.language)return"Select language!"}),l(()=>{if(!s.state)return"Please select state!"}),l(()=>{if(!s.city)return"Please select city!"}),l(()=>{if(!s.doctor)return"Please enter doctor!"}),(o,a)=>{const A=r("icon-add"),b=r("router-link"),U=r("NoData"),G=r("icon-cross"),Q=r("BookDoctorApt"),j=r("BookHospitalApt"),q=r("BookLaboratoryApt"),J=r("BookFranchiseApt"),K=r("Modal"),W=r("AptSuccessModal");return i(),u("div",ue,[e("div",pe,[d.roles==="AMBULANCE"?(i(),u("div",_e,"Booking List")):(i(),u("div",{key:1,class:"icon",onClick:a[0]||(a[0]=v(t=>g.value.aptModal=!0,["prevent"]))},[f(" Add Appointment "),_(A)]))]),e("div",ve,[e("div",{class:L(["tab",s.tab===1?"active":""]),onClick:a[1]||(a[1]=v(t=>y(1,"PENDING"),["prevent"]))},[e("div",fe,n(D.patientList.PENDING.length),1),me],2),e("div",{class:L(["tab",s.tab===2?"active":""]),onClick:a[2]||(a[2]=v(t=>y(2,"COMPLETED"),["prevent"]))},[e("div",he,n(D.patientList.COMPLETED.length),1),De],2),e("div",{class:L(["tab",s.tab===3?"active":""]),onClick:a[3]||(a[3]=v(t=>y(3,"CANCELLED"),["prevent"]))},[e("div",ge,n(D.patientList.CANCELLED.length),1),Le],2)]),e("div",ke,[oe(e("input",{type:"text","onUpdate:modelValue":a[4]||(a[4]=t=>le(c)?c.value=t:c=t),placeholder:"Search for Patients"},null,512),[[ae,ne(c)]]),ye]),C.value.length>0?(i(),u("div",Ae,[(i(!0),u(ie,null,re(C.value,(t,X)=>{var P,M,B,w,E,S,Y,O,x,T,$,I,V,R;return i(),u("div",{class:"list-item",key:X},[e("div",be,n(H(t.scheduleOn)),1),e("div",Ce,[e("div",Ne,n(((P=t.patientDetail)==null?void 0:P.firstName)+" "+((M=t.patientDetail)==null?void 0:M.lastName))+" (PID: "+n((B=t.patientDetail)==null?void 0:B.pid)+") ",1),e("div",Pe,n((w=t.doctorDetail)==null?void 0:w.name),1),e("div",Me,"Token : "+n(t.appointmentId),1)]),e("div",{class:L(`apt-status ${t.status}`)},n(t.status),3),e("div",Be,[e("div",we,[Ee,e("div",Se,[e("div",Ye,n(((E=t.patientDetail)==null?void 0:E.firstName)+" "+((S=t.patientDetail)==null?void 0:S.lastName)),1),e("div",Oe,[e("span",null,n((Y=t.patientDetail)==null?void 0:Y.gender),1),f("- "),e("span",null,n(N((O=t.patientDetail)==null?void 0:O.dob)),1),f("- "),e("span",null,n((x=t.patientDetail)==null?void 0:x.group),1)]),e("div",xe,"PID : "+n((T=t.patientDetail)==null?void 0:T.pid),1),e("div",Te,"â‚¹"+n(($=t.doctorDetail)==null?void 0:$.fees),1)])]),e("div",$e,[e("div",Ie,n(z(t.scheduleOn)),1),e("div",Ve,n((I=t.doctorDetail)==null?void 0:I.name),1)]),e("div",Re,[d.roles!=="LABORATORY"&&d.roles!=="AMBULANCE"?(i(),m(b,{key:0,to:`/new-prescription?pid=${(V=t.patientDetail)==null?void 0:V.id}&aid=${t.id}`,class:"span"},{default:k(()=>[f("Prescription")]),_:2},1032,["to"])):h("",!0),_(b,{to:`/patient/profile?id=${(R=t.patientDetail)==null?void 0:R.id}`,class:"span"},{default:k(()=>[f("Profile")]),_:2},1032,["to"])])])])}),128))])):(i(),u("div",Fe,[_(U,{class:"mob"})])),_(K,{show:g.value.aptModal,"onUpdate:show":a[6]||(a[6]=t=>g.value.aptModal=t),class:"book-apt-modal",headerClasses:"header-bg"},{header:k(()=>[He,e("div",{class:"close-btn",onClick:a[5]||(a[5]=v(t=>g.value.aptModal=!1,["prevent"]))},[_(G)])]),default:k(()=>[d.roles==="DOCTOR"||d.roles==="NURSE"?(i(),m(Q,{key:0,doctorId:""})):h("",!0),d.roles==="HOSPITAL"?(i(),m(j,{key:1})):h("",!0),d.roles==="LABORATORY"?(i(),m(q,{key:2})):h("",!0),d.roles==="FRANCHISE"?(i(),m(J,{key:3})):h("",!0)]),_:1},8,["show"]),_(W)])}}};export{Qe as default};
