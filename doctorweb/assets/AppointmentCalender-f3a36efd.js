import{u as h,c as u,v as g,m as _,D as L,r as i,o as y,a as A,b as p,d as l,w,z as Y}from"./vendor-5e5c4e37.js";const k={class:"apt-calender-page"},M={class:"container"},C={class:"calender-page-row"},F=p("div",{class:"other-cards"},null,-1),N={class:"view-btn"},b={__name:"AppointmentCalender",setup(T){const c=h(),m=u(()=>c.state.Appointments),e=g({fromDate:_().format("YYYY-MM-DD"),toDate:_().format("YYYY-MM-DD"),roles:null,limit:10,offset:0,keyword:"",status:"PENDING",type:"ONLINE",mode:"ALL",scheduleType:"ALL",appointmentFor:"ALL"});L(()=>{e.roles=localStorage.getItem("roles"),d()});function d(){c.dispatch("Appointments/getAppointments",{limit:e.limit,offset:e.offset,keyword:e.keyword,status:e.status,type:e.type,fromDate:e.fromDate,toDate:e.toDate,mode:e.mode,scheduleType:e.scheduleType,appointmentFor:e.appointmentFor})}const f=t=>{e.type=t.AppointmentType,e.fromDate=t.fromDate,e.toDate=t.toDate,e.mode=t.AppointmentMode,e.scheduleType=t.ScheduleType,e.status=t.AppointmentStatus,e.appointmentFor=t.AppointmentFor,d()};function D(t){if(t){var o=new Date,s=new Date(t),n=o.getFullYear()-s.getFullYear(),a=o.getMonth()-s.getMonth();if(o.getDay()-s.getDay(),n===0)var r=`${a} M`;else if(n!=0&&a!=0)var r=`${n} Y ${a} M`;else var r=`${n} Y`;return r}else return"-"}return u(()=>{e.dob&&D(e.dob)}),(t,o)=>{const s=i("EventCalender"),n=i("PatientListCard"),a=i("icon-right-arrow"),r=i("router-link");return y(),A("section",k,[p("div",M,[p("div",C,[l(s,{date:e.fromDate,toDate:e.toDate,eventList:m.value.appointmentsData,roles:e.roles,"onUpdate:changeDate":o[0]||(o[0]=v=>f(v))},null,8,["date","toDate","eventList","roles"]),l(n,{patientList:m.value.appointmentList,roles:e.roles},null,8,["patientList","roles"])]),F,p("div",N,[l(r,{to:"/visits",class:"btn black-btn"},{default:w(()=>[Y("View All Bookings "),l(a)]),_:1})])])])}}};export{b as default};
