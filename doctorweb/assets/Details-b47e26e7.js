import{u as M,B as N,C as w,c as i,v as A,D as C,r as U,o as n,a as d,b as t,x as m,y as c,t as u,f as r,d as O,g as R,m as B}from"./vendor-5e5c4e37.js";const F={class:"staff-details-page"},K={class:"row"},L={class:"form-item col-5 mb-16"},Y=t("div",{class:"title"},"Name",-1),H={key:0,class:"err-msg"},z={class:"form-item col-5 mb-16"},G=t("div",{class:"title"},"Phone No",-1),q={key:0,class:"err-msg"},X={class:"row"},$={class:"form-item col-5 mb-16"},j=t("div",{class:"title"},"Email",-1),J={key:0,class:"err-msg"},Q={class:"form-item col-5 mb-16"},W=t("div",{class:"title"},"Gender",-1),Z={key:0,class:"err-msg"},ee={class:"row"},te={class:"form-item col-5 mb-16"},se=t("div",{class:"title"},"Role",-1),le={key:0,class:"err-msg"},ae={class:"form-item col-5 mb-16"},oe=t("div",{class:"title"},"DOB",-1),ie=["max"],ne={key:0,class:"err-msg"},de={class:"row"},ue={class:"form-item col-5 mb-16"},re=t("div",{class:"title"},"Designation",-1),me={key:0,class:"err-msg"},ce=t("div",{class:"save-btn flex justify-center"},[t("button",{type:"submit",class:"btn black-btn w-50"},"Update")],-1),fe={__name:"Details",setup(ve){const v=M(),h=N();w();const e=i(()=>v.state.Staff),o=A({submit:!1,id:null,des:"",speciality:"",imagePreview:"",name:null,email:null,phone:null,gender:null,password:null,signature:null}),P=[{id:"EMPLOYEE",name:"EMPLOYEE"},{id:"DOCTOR",name:"DOCTOR"},{id:"STAFF",name:"STAFF"},{id:"FRONT DESK",name:"FRONT DESK"},{id:"BACK DESK",name:"BACK DESK"},{id:"PATHOLOGIEST",name:"PATHOLOGIEST"}],D=[{id:"MALE",name:"MALE"},{id:"FEMALE",name:"FEMALE"},{id:"UNISEX",name:"UNISEX"},{id:"OTHER",name:"OTHER"}],E=a=>{};C(()=>{h.query.id&&(o.id=h.query.id,T(o.id))});function T(a){v.dispatch("Staff/getOneStaff",{id:a})}const k=()=>{var a;if(p.value||f.value||g.value||b.value||_.value){o.submit=!0;return}o.submit=!1,v.dispatch("Staff/updateStaff",{name:e.value.name,designation:e.value.designation,emailId:e.value.emailId,gender:(a=e.value.gender)==null?void 0:a.id,dob:e.value.dob,id:e.value.staffId})};function I(){return B().format("YYYY-MM-DD")}const p=i(()=>{if(!e.value.name)return"Please enter your name!"}),S=i(()=>{let a=/^[6-9][0-9]{9}$/;if(e.value.mobile){if(!a.test(e.value.mobile))return"Please enter valid phone no!"}else return"Please enter your phone no!"}),f=i(()=>{let a=/^([a-z0-9.-]+)@([a-z]{4,12}).([a-z.]{2,20})$/;if(e.value.emailId){if(!a.test(e.value.emailId))return"Please enter valid email!"}else return"Please enter your email!"}),y=i(()=>{if(!e.value.roles)return"Please select roles!"}),_=i(()=>{if(!e.value.gender)return"Please select gender!"}),b=i(()=>{if(!e.value.dob)return"Please select dob!"}),g=i(()=>{if(!e.value.designation)return"Please enter designation!"});i(()=>{if(!e.value.signature)return"Please enter text signature!"}),i(()=>{if(!o.imagePreview)return"Please upload sign!"});function x(a){let s=String.fromCharCode(a.keyCode);if(/^[0-9]+$/.test(s))return!0;a.preventDefault()}return(a,s)=>{const V=U("Select");return n(),d("section",F,[t("form",{action:"",class:"form",onSubmit:R(k,["prevent"])},[t("div",K,[t("div",L,[Y,m(t("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=l=>e.value.name=l),placeholder:"Enter Name"},null,512),[[c,e.value.name]]),o.submit&&p.value?(n(),d("div",H,u(p.value),1)):r("",!0)]),t("div",z,[G,m(t("input",{type:"number","onUpdate:modelValue":s[1]||(s[1]=l=>e.value.mobile=l),placeholder:"Enter phone no",onKeypress:s[2]||(s[2]=l=>x(l)),onKeyup:s[3]||(s[3]=l=>l.target.value=l.target.value.slice(0,10)),disabled:""},null,544),[[c,e.value.mobile]]),o.submit&&S.value?(n(),d("div",q,u(S.value),1)):r("",!0)])]),t("div",X,[t("div",$,[j,m(t("input",{type:"text","onUpdate:modelValue":s[4]||(s[4]=l=>e.value.emailId=l),placeholder:"Enter Email"},null,512),[[c,e.value.emailId]]),o.submit&&f.value?(n(),d("div",J,u(f.value),1)):r("",!0)]),t("div",Q,[W,O(V,{modelValue:e.value.gender,"onUpdate:modelValue":s[5]||(s[5]=l=>e.value.gender=l),options:D,onSelected:E,placeholder:"Select"},null,8,["modelValue"]),o.submit&&_.value?(n(),d("div",Z,u(_.value),1)):r("",!0)])]),t("div",ee,[t("div",te,[se,O(V,{modelValue:e.value.roles,"onUpdate:modelValue":s[6]||(s[6]=l=>e.value.roles=l),options:P,onSelected:E,placeholder:"Select",disabled:""},null,8,["modelValue"]),o.submit&&y.value?(n(),d("div",le,u(y.value),1)):r("",!0)]),t("div",ae,[oe,m(t("input",{type:"date","onUpdate:modelValue":s[7]||(s[7]=l=>e.value.dob=l),max:I()},null,8,ie),[[c,e.value.dob]]),o.submit&&b.value?(n(),d("div",ne,u(b.value),1)):r("",!0)])]),t("div",de,[t("div",ue,[re,m(t("input",{type:"text","onUpdate:modelValue":s[8]||(s[8]=l=>e.value.designation=l),placeholder:"Enter Designation"},null,512),[[c,e.value.designation]]),o.submit&&g.value?(n(),d("div",me,u(g.value),1)):r("",!0)])]),ce],32)])}}};export{fe as default};
