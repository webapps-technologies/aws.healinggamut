import{s as p,c as g,D as k,G as S,o as r,a as i,x,y as L,Q as _,b as m,V as C,W as V,F as B,E as N,t as q,U as A}from"./vendor-5e5c4e37.js";const E={class:"single-select"},I=["placeholder"],O={class:"dropdown-options"},D=["onClick"],b={__name:"SingleSelectId",props:{modelValue:{type:String,default:""},placeholder:{type:String,default:"Search..."},options:{type:Array,required:!0},outside:{type:Boolean,default:!0}},emits:["update:modelValue","selected"],setup(d){const a=d;let n=p(""),l=p(null);const o=A(),f=g(()=>a.options.filter(e=>e.name.toLowerCase().includes(n.value.toLowerCase()))),y=e=>{n.value=e.name,o.emit("update:modelValue",e.id),o.emit("selected",e),c()},h=()=>{o.emit("selected",{id:null,name:n.value}),c()},v=e=>{o.emit("search",e.target.value),e.target.value===""&&o.emit("update:modelValue",null)},c=()=>{const e=document.querySelector("body").querySelectorAll("input"),t=Array.from(e).indexOf(l.value);e[t].parentNode.classList.remove("show-drop"),t<e.length-1&&(e[t+1].focus(),e[t+1].parentNode.classList.add("show-drop"))},w=()=>{const e=document.querySelector("body").querySelectorAll("input"),t=Array.from(e).indexOf(l.value);t>=0&&e[t].parentNode.classList.add("show-drop")};k(()=>{a.outside&&window.addEventListener("click",u)}),S(()=>{a.outside&&window.removeEventListener("click",u)});const u=e=>{const t=e.target,s=l.value.parentNode;s.contains(t)||s.classList.remove("show-drop")};return(e,t)=>(r(),i("div",E,[x(m("input",{type:"text",ref_key:"inputField",ref:l,"onUpdate:modelValue":t[0]||(t[0]=s=>C(n)?n.value=s:n=s),placeholder:d.placeholder,onKeydown:V(h,["enter"]),onKeyup:t[1]||(t[1]=s=>v(s)),onClick:w},null,40,I),[[L,_(n)]]),m("ul",O,[(r(!0),i(B,null,N(f.value,s=>(r(),i("li",{key:s.id,onClick:F=>y(s)},q(s.name),9,D))),128))])]))}};export{b as default};
