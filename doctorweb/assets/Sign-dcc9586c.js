import{u as m,c as g,v as _,o as i,a as t,b as a,f as n,t as v}from"./vendor-5e5c4e37.js";const h="/assets/sign-f2efa75f.png",b={class:"dr-sign"},w={class:"doc-upload"},y=a("div",{class:"title"},"Upload Signature",-1),P={class:"pic-upload"},k=["src"],F=["src"],S={key:2,src:h,class:"dummy-img pic",alt:""},U=a("label",{for:"signUpload",class:"upload-file-block"}," Upload Sign ",-1),V={key:0,class:"err-msg"},A={key:0,class:"save-btn"},j={__name:"Sign",setup(B){const r=m(),l=g(()=>r.state.Auth),e=_({signPreview:null,submit:!1,signFile:null});async function p(u){if(u){const s=await u.target;if(s.files[0].type==="image/png"){if(s.files){const o=new FileReader;o.onload=f=>{e.signPreview=f.target.result},s.files[0]&&(e.signFile=s.files[0],l.value.signature=null,o.readAsDataURL(s.files[0]))}}else e.signPreview=null,r.dispatch("Alert/error",{msg:"Upload image in png format."})}}function d(){if(c.value){e.submit=!0;return}e.submit=!1,e.signFile&&r.dispatch("Auth/uploadSignImage",{file:e.signFile})}const c=g(()=>{if(!e.signFile)return"Please Select File !"});return(u,s)=>(i(),t("section",b,[a("div",w,[y,a("div",P,[e.signPreview&&!l.value.signature?(i(),t("img",{key:0,src:e.signPreview,class:"preview-image pic",id:"profilePic",alt:""},null,8,k)):n("",!0),l.value.signature?(i(),t("img",{key:1,src:l.value.signature,class:"preview-image pic",id:"profilePic",alt:""},null,8,F)):n("",!0),!e.signPreview&&!l.value.signature?(i(),t("img",S)):n("",!0),U,a("input",{class:"uploadProfileInput",type:"file",name:"sing_pic",id:"signUpload",accept:"image/png, image/jpeg, image/jpg",onChange:s[0]||(s[0]=o=>p(o)),style:{display:"none"}},null,32)]),e.submit&&c.value?(i(),t("div",V,v(c.value),1)):n("",!0)]),e.signFile?(i(),t("div",A,[a("button",{class:"btn black-btn w-10-r",onClick:d},"Save")])):n("",!0)]))}};export{j as default};
