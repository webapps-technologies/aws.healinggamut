import{u as J,c as r,v as X,D as Z,r as f,o as i,a,b as t,g as b,x as m,y as v,t as n,f as c,d as u,F as $,E as ee,w as g,$ as A,z as L}from"./vendor-5e5c4e37.js";import{_ as te}from"./upload-doc2-abc62999.js";import{_ as se}from"./edit-icon-6e27bb0f.js";import{_ as oe}from"./status-icon-ff21b772.js";import{_ as le}from"./img-85a4a537.js";const ie={class:"doctor-education-details"},ae={class:"row"},ne={class:"form-item col-5 mb-16"},de=t("div",{class:"title"},"Test Name",-1),re={key:0,class:"err-msg"},ce={class:"form-item col-5 mb-16"},ue=t("div",{class:"title"},"Lab Category",-1),pe={key:0,class:"err-msg"},me={class:"form-item col-5 mb-16"},_e=t("div",{class:"title"},"Price",-1),ve={key:0,class:"err-msg"},he={class:"row"},be={class:"form-item col-5 mb-16"},ge=t("div",{class:"title"},"Discount (%)",-1),fe={key:0,class:"err-msg"},ye={class:"form-item col-5 mb-16"},Ce=t("div",{class:"title"},"Discount Price",-1),De={class:"form-item col-5 mb-16"},we=t("div",{class:"title"},"Lab Department",-1),Ve={key:0,class:"err-msg"},ke={class:"row"},Pe={class:"form-item col-3 mb-16"},Ie=t("div",{class:"title"},"Report Within",-1),Se={key:0,class:"err-msg"},Te={class:"form-item col-3 mb-16"},Ee=t("div",{class:"title"},"Test Type",-1),Ue={class:"form-item col-3 mb-16"},Me=t("div",{class:"title"},"Home Collection",-1),Ae={class:"form-item col-5 mb-16"},Le=t("div",{class:"title"},"Short Description",-1),Re={key:0,class:"err-msg"},xe={class:"row"},We={class:"form-item col-12 mb-16"},$e=t("div",{class:"title"},"Description",-1),Ne={key:0,class:"err-msg"},qe={class:"add-btn"},Fe={type:"submit",class:"btn black-btn w-10-r"},Oe={class:"table-outer w-100"},Be={class:"table"},je=t("thead",null,[t("th",null,"Sl no"),t("th",null,"Test Name"),t("th",null,"Price"),t("th",null,"Discount"),t("th",null,"Discount Price"),t("th",null,"Report Within"),t("th",null,"Status"),t("th",null,"Image"),t("th",null,"Action")],-1),He=["onClick"],Ke=["src"],Ye={key:1,src:"https://healinggmaut.b-cdn.net/microscope2.png?width=40&height=40"},ze={class:"text-center"},Qe={class:"option-btns"},Ge=["onClick"],Je=t("img",{src:te,alt:""},null,-1),Xe=t("div",{class:"tooltip"},"Upload Image",-1),Ze=[Je,Xe],et=["onClick"],tt=t("img",{src:se,alt:""},null,-1),st=t("div",{class:"tooltip"},"Edit",-1),ot=[tt,st],lt=["onClick"],it=t("img",{src:oe,alt:""},null,-1),at=t("div",{class:"tooltip"},"Status",-1),nt=[it,at],dt={key:0,class:"table-no-data"},rt=t("div",null,"No records Found!",-1),ct=[rt],ut=t("div",{class:"title",showHeader:"true"},"Add Image",-1),pt={class:"doc-upload"},mt={class:"middle-doc"},_t=t("div",{class:"title"},"Upload Test Image",-1),vt={class:"pic-upload"},ht=["src"],bt={key:1,src:le,class:"dummy-img pic",alt:""},gt=t("label",{for:"imgUpload-doc",class:"upload-file-block"}," Upload image ",-1),ft={key:0,class:"err-msg"},yt=t("div",{class:"text text-blue"},"Remove Pic",-1),Ct=t("div",{class:"add-btn"},[t("button",{type:"submit",class:"btn black-btn w-100"},"Add")],-1),Dt=t("div",{class:"title",showHeader:"true"},"Status Change",-1),wt={class:"redio-section"},Vt={class:"radio"},kt={class:""},Pt={class:"radio"},It={class:""},St={class:"radio"},Tt={class:""},Et={class:"btns"},Ut=t("div",{class:"title",showHeader:"true"},"Image",-1),Mt={class:"d-body"},At={key:0,class:"img"},Lt=["src"],Ft={__name:"OurLabTest",setup(Rt){const y=[{id:"Test",name:"Test"},{id:"Panel",name:"Panel"},{id:"Package",name:"Package"},{id:"Pin Master",name:"Pin Master"}],C=[{id:"No",name:"No"},{id:"Yes",name:"Yes"}],N=[{id:"ACTIVE",name:"ACTIVE"},{id:"DEACTIVE",name:"DEACTIVE"}],p=J(),D=r(()=>p.state.Auth),q=r(()=>p.state.LabCategory),F=r(()=>p.state.LabDepartment),e=X({submit:!1,limit:10,offset:0,keyword:"",labStatus:"ACTIVE",status:"VERIFIED",changeStatus:N[0],cStatus:null,cPage:1,addDocModal:!1,qualification:null,college:null,city:null,passingYear:null,imagePreview:null,docFile:null,eduId:null,previewImgLink:null,openPreview:!1,editMode:!1,name:null,title:null,labCategory:null,labDepartment:null,price:null,discount:null,homeCollection:C[0].id,reportWithin:null,type:y[0].id,shortDesc:null,desc:null,labTestId:null,laboratoryId:null,statusModal:!1});Z(()=>{p.dispatch("LabCategory/all"),p.dispatch("LabDepartment/all")});const O=()=>{if(w.value||V.value||S.value||k.value||I.value||E.value||T.value||P.value){e.submit=!0;return}e.submit=!1;const l={id:e.labTestId,title:e.title,labCategory:e.labCategory,labDepartment:e.labDepartment,price:e.price,discount:e.discount,discountPrice:e.discountPrice,homeCollection:e.homeCollection,reportWithin:e.reportWithin,type:e.type,laboratoryId:D.value.id,shortDesc:e.shortDesc,desc:e.desc};e.editMode?p.dispatch("Auth/updateLabtest",{payload:l}):(delete l.id,p.dispatch("Auth/saveLabtest",{payload:l})),e.editMode=!1,e.labTestId=null,e.labCategory=null,e.labDepartment=null,e.homeCollection=C[0].id,e.title=null,e.price=null,e.discount=null,e.discountPrice=null,e.reportWithin=null,e.type=y[0].id,e.laboratoryId=null,e.shortDesc=null,e.desc=null};function B(l){var s;e.editMode=!0,e.labTestId=l.id,e.labCategory=l.labCategory,e.labDepartment=l.labDepartment,e.homeCollection=l.homeCollection,e.title=l.title,e.price=l.price,e.discount=l.discount,e.discountPrice=l.discountPrice,e.reportWithin=l.reportWithin,e.type=l.type,e.laboratoryId=(s=l.laboratory)==null?void 0:s.id,e.shortDesc=l.shortDesc,e.desc=l.desc}function j(l){e.eduId=l,e.addDocModal=!0}function H(){p.dispatch("Auth/updateLogo",{id:e.eduId,file:e.docFile}),e.addDocModal=!1}function K(){e.imagePreview=null,e.docFile=null,document.getElementById("imgUpload-doc").value&&(document.getElementById("imgUpload-doc").value=null)}function Y(l){e.previewImgLink=l,e.openPreview=!0}function z(l,s){e.cStatus=s,e.labTestId=l,e.statusModal=!0}function Q(){p.dispatch("Auth/setLabtestStatus",{id:e.labTestId,status:e.cStatus}),e.statusModal=!1}const w=r(()=>e.title?null:"Required."),V=r(()=>e.price?null:"Required."),k=r(()=>{if(e.shortDesc){if(e.shortDesc.length>50)return"Please enter maximum 50 characters"}else return"Required."}),P=r(()=>e.reportWithin?null:"Required."),I=r(()=>e.desc?null:"Required."),S=r(()=>e.discount?null:"Required."),T=r(()=>e.labCategory?null:"Required."),E=r(()=>e.labDepartment?null:"Required.");async function G(l,s){if(l){const d=await l.target;if(d.files[0].type==="image/png"||d.files[0].type==="image/jpg"||d.files[0].type==="image/jpeg"){if(d.files){const _=new FileReader;_.onload=h=>{e.imagePreview=h.target.result},d.files[0]&&(_.readAsDataURL(d.files[0]),e.docFile=d.files[0])}}else e.imagePreview=null,p.dispatch("Alert/error",{msg:"Upload image in png, jpeg, jpg format."})}}function R(l){let s=String.fromCharCode(l.keyCode);if(/^[0-9]+$/.test(s))return!0;l.preventDefault()}function x(l,s){let d=l*s/100,_=l-d;e.discountPrice=_}return(l,s)=>{const d=f("SingleSelect"),_=f("Select"),h=f("icon-cross"),U=f("Modal");return i(),a($,null,[t("section",ie,[t("form",{action:"",class:"form mb-16",onSubmit:b(O,["prevent"])},[t("div",ae,[t("div",ne,[de,m(t("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=o=>e.title=o),placeholder:"Test Name"},null,512),[[v,e.title]]),e.submit&&w.value?(i(),a("div",re,n(w.value),1)):c("",!0)]),t("div",ce,[ue,u(d,{options:q.value.data,modelValue:e.labCategory,"onUpdate:modelValue":s[1]||(s[1]=o=>e.labCategory=o),placeholder:e.labCategory?e.labCategory:"Search.."},null,8,["options","modelValue","placeholder"]),e.submit&&T.value?(i(),a("div",pe,n(T.value),1)):c("",!0)]),t("div",me,[_e,m(t("input",{type:"text","onUpdate:modelValue":s[2]||(s[2]=o=>e.price=o),placeholder:"Test Price",onKeypress:s[3]||(s[3]=o=>R(o)),onKeyup:s[4]||(s[4]=o=>x(o.target.value,e.discount))},null,544),[[v,e.price]]),e.submit&&V.value?(i(),a("div",ve,n(V.value),1)):c("",!0)])]),t("div",he,[t("div",be,[ge,m(t("input",{type:"text","onUpdate:modelValue":s[5]||(s[5]=o=>e.discount=o),placeholder:"Discount",maxlength:"3",onKeypress:s[6]||(s[6]=o=>R(o)),onKeyup:s[7]||(s[7]=o=>x(e.price,o.target.value))},null,544),[[v,e.discount]]),e.submit&&S.value?(i(),a("div",fe,n(S.value),1)):c("",!0)]),t("div",ye,[Ce,m(t("input",{type:"text","onUpdate:modelValue":s[8]||(s[8]=o=>e.discountPrice=o),placeholder:"Discounted Price",disabled:""},null,512),[[v,e.discountPrice]])]),t("div",De,[we,u(d,{options:F.value.data,modelValue:e.labDepartment,"onUpdate:modelValue":s[9]||(s[9]=o=>e.labDepartment=o),placeholder:e.labDepartment?e.labDepartment:"Search.."},null,8,["options","modelValue","placeholder"]),e.submit&&E.value?(i(),a("div",Ve,n(E.value),1)):c("",!0)])]),t("div",ke,[t("div",Pe,[Ie,m(t("input",{type:"text","onUpdate:modelValue":s[10]||(s[10]=o=>e.reportWithin=o),placeholder:"Test Report Within"},null,512),[[v,e.reportWithin]]),e.submit&&P.value?(i(),a("div",Se,n(P.value),1)):c("",!0)]),t("div",Te,[Ee,u(_,{options:y,modelValue:e.type,"onUpdate:modelValue":s[11]||(s[11]=o=>e.type=o)},null,8,["modelValue"])]),t("div",Ue,[Me,u(_,{options:C,modelValue:e.homeCollection,"onUpdate:modelValue":s[12]||(s[12]=o=>e.homeCollection=o)},null,8,["modelValue"])]),t("div",Ae,[Le,m(t("textarea",{name:"",id:"","onUpdate:modelValue":s[13]||(s[13]=o=>e.shortDesc=o)},null,512),[[v,e.shortDesc]]),e.submit&&k.value?(i(),a("div",Re,n(k.value),1)):c("",!0)])]),t("div",xe,[t("div",We,[$e,m(t("textarea",{name:"",id:"","onUpdate:modelValue":s[14]||(s[14]=o=>e.desc=o),cols:"30",rows:"5"},null,512),[[v,e.desc]]),e.submit&&I.value?(i(),a("div",Ne,n(I.value),1)):c("",!0)])]),t("div",qe,[t("button",Fe,n(e.editMode?"Update":"Add"),1)])],32),t("div",Oe,[t("table",Be,[je,t("tbody",null,[(i(!0),a($,null,ee(D.value.labTest,(o,W)=>(i(),a("tr",{key:W},[t("td",null,n(W+1),1),t("td",null,n(o.title),1),t("td",null,n(o.price),1),t("td",null,n(o.discount)+"%",1),t("td",null,n(o.discountPrice),1),t("td",null,n(o.reportWithin)+" Days",1),t("td",null,n(o.status),1),t("td",null,[t("div",{class:"prof-img pointer",onClick:M=>Y(o.image)},[o.image?(i(),a("img",{key:0,src:`${o.image}?width=40&height=40`,alt:""},null,8,Ke)):(i(),a("img",Ye))],8,He)]),t("td",ze,[t("div",Qe,[t("div",{class:"action-icon",onClick:M=>j(o.id)},Ze,8,Ge),t("div",{class:"action-icon",onClick:M=>B(o)},ot,8,et),t("div",{class:"action-icon",onClick:M=>z(o.id,o.status)},nt,8,lt)])])]))),128))])])]),D.value.labTest.length<=0?(i(),a("div",dt,ct)):c("",!0)]),u(U,{show:e.addDocModal,"onUpdate:show":s[17]||(s[17]=o=>e.addDocModal=o),class:"add-Education-doc",headerClasses:"header-bg"},{header:g(()=>[ut,t("div",{class:"close-btn",onClick:s[15]||(s[15]=b(o=>e.addDocModal=!1,["prevent"]))},[u(h)])]),default:g(()=>[t("form",{action:"",class:"form",onSubmit:b(H,["prevent"])},[t("div",pt,[t("div",mt,[_t,t("div",vt,[e.imagePreview?(i(),a("img",{key:0,src:e.imagePreview,class:"preview-image pic",id:"profilePic",alt:""},null,8,ht)):(i(),a("img",bt)),gt,t("input",{class:"uploadProfileInput",type:"file",name:"profile_pic",id:"imgUpload-doc",accept:"image/*",onChange:s[16]||(s[16]=o=>G(o,l.profilePic)),style:{display:"none"}},null,32)]),e.imagePreview?c("",!0):(i(),a("div",ft,"Please upload image"))]),t("div",{class:"icon",onClick:K},[u(h),yt])]),Ct],32)]),_:1},8,["show"]),u(U,{show:e.statusModal,"onUpdate:show":s[23]||(s[23]=o=>e.statusModal=o),class:"confirm-modal",headerClasses:"header-bg"},{header:g(()=>[Dt,t("div",{class:"close-btn",onClick:s[18]||(s[18]=b(o=>e.statusModal=!1,["prevent"]))},[u(h)])]),default:g(()=>[t("div",wt,[t("div",Vt,[t("label",kt,[m(t("input",{class:"",type:"radio",name:"inlineRadioOptions","onUpdate:modelValue":s[19]||(s[19]=o=>e.cStatus=o),value:"ACTIVE"},null,512),[[A,e.cStatus]]),L(" ACTIVE ")])]),t("div",Pt,[t("label",It,[m(t("input",{class:"",type:"radio",name:"inlineRadioOptions","onUpdate:modelValue":s[20]||(s[20]=o=>e.cStatus=o),value:"DEACTIVE"},null,512),[[A,e.cStatus]]),L(" DEACTIVE ")])]),t("div",St,[t("label",Tt,[m(t("input",{class:"",type:"radio",name:"inlineRadioOptions","onUpdate:modelValue":s[21]||(s[21]=o=>e.cStatus=o),value:"DELETED"},null,512),[[A,e.cStatus]]),L(" DELETED ")])])]),t("div",Et,[t("button",{class:"btn grey-btn cancel-btn",onClick:s[22]||(s[22]=b(o=>e.statusModal=!1,["prevent"]))}," Cancel "),t("button",{type:"button",class:"btn confirm-btn",onClick:Q},"Confirm")])]),_:1},8,["show"]),u(U,{show:e.openPreview,"onUpdate:show":s[25]||(s[25]=o=>e.openPreview=o),class:"image-view-modal",headerClasses:"header-bg"},{header:g(()=>[Ut,t("div",{class:"close-btn",onClick:s[24]||(s[24]=b(o=>e.openPreview=!1,["prevent"]))},[u(h)])]),default:g(()=>[t("div",Mt,[e.previewImgLink?(i(),a("div",At,[t("img",{src:`${e.previewImgLink}?quality=20`,alt:""},null,8,Lt)])):c("",!0)])]),_:1},8,["show"])],64)}}};export{Ft as default};
