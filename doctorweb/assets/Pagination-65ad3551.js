import{s as w,c as C,T as x,r as p,o as i,a as l,b as c,z as g,t as f,d as m,F as _,E as I,H as M,Q as E,U as N}from"./vendor-5e5c4e37.js";const A={class:"entries"},S={class:"pagination"},B={key:0,class:"flex left-arr"},q=["onClick","disabled"],T=["disabled"],V={key:2,class:"flex right-arr"},z={__name:"Pagination",props:{currentPage:{type:Number,required:!0},totalItem:{type:Number,required:!0},itemsPerPage:{type:Number,required:!0},visiblePageCount:{type:Number,default:3},showEllipsisAfter:{type:Boolean,default:!0}},setup(o){const e=o;let n=w(Math.ceil(e.totalItem/e.itemsPerPage));const y=N(),d=s=>{if(s!=".."){if(s<1||s>e.totalItem)return;y.emit("update:currentPage",s)}};function k(s){return e.currentPage===s}const v=()=>{const s=e.totalItem>0?(e.currentPage-1)*e.itemsPerPage+1:0,a=Math.min((e.currentPage-1)*e.itemsPerPage+e.itemsPerPage,e.totalItem);return{displayStart:s,displayEnd:a}},h=C(()=>{n=Math.ceil(e.totalItem/e.itemsPerPage);const s=e.currentPage,a=e.visiblePageCount,u=e.showEllipsisAfter;if(n<=a)return Array.from({length:n},(t,P)=>P+1);const r=[];if(s<=Math.ceil(a/2))for(let t=1;t<=a;t++)r.push(t);else if(s>=n-Math.floor(a/2))for(let t=n-a+1;t<=n;t++)r.push(t);else{const t=s-Math.floor(a/2),P=s+Math.floor(a/2);for(let b=t;b<=P;b++)r.push(b)}return u&&s>1&&r.unshift(".."),u&&s+1<n&&r.push(".."),r});return x(()=>e.currentPage,()=>{n=Math.ceil(e.totalItem/e.itemsPerPage),h.value.includes(e.currentPage)||d(h.value[0])}),(s,a)=>{const u=p("icon-left-double-arrow"),r=p("icon-right-double-arrow");return i(),l(_,null,[c("div",A,[g(" Showing "),c("span",null,f(v().displayStart),1),g(" to "),c("span",null,f(v().displayEnd),1),g(" of "),c("span",null,f(o.totalItem),1),g(" entries ")]),c("div",S,[o.currentPage===1?(i(),l("div",B,[m(u)])):(i(),l("span",{key:1,class:"flex",onClick:a[0]||(a[0]=t=>d(o.currentPage-1))},[m(u)])),(i(!0),l(_,null,I(h.value,t=>(i(),l("div",{class:"page-name flex",key:t,onClick:P=>d(t),disabled:o.currentPage===t},[c("button",{class:M(["page-name-button",{active:k(t)}]),type:"button",disabled:t.isDisabled},f(t),11,T)],8,q))),128)),o.currentPage===E(n)?(i(),l("div",V,[m(r)])):(i(),l("span",{key:3,class:"flex",onClick:a[1]||(a[1]=t=>d(o.currentPage+1))},[m(r)]))])],64)}}};export{z as default};
