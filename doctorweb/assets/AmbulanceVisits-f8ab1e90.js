import{u as I,B as S,C as A,c as w,v as B,D as P,r as y,o as v,a as r,b as t,t as a,f as p,d as C,w as T,m as $,g as F,x as L,y as q}from"./vendor-5e5c4e37.js";const H={class:"total-visits-page"},R={class:"container"},G={class:"name-card-header mb-16"},O={class:"top-details"},j={class:"left"},z={class:"top"},J={class:"name grade-text"},K={class:"id"},Q={class:"options"},W={key:0},X={key:1},Z=t("button",{class:"btn grade-btn"},"Upload Price",-1),tt=[Z],st={class:"visit-btn btn"},ot={class:"bottom-details"},et={class:"row"},at={class:"data col-5 mb-16"},it=t("div",{class:"title"},"Gender :",-1),nt={class:"val"},lt={class:"data col-5 mb-16"},dt=t("div",{class:"title"},"Age :",-1),ct={class:"val"},_t={class:"row"},vt={class:"data col-5 mb-16"},rt=t("div",{class:"title"},"Mobile No :",-1),ut={class:"val"},ht={class:"data col-5 mb-16"},mt=t("div",{class:"title"},"Email :",-1),pt={class:"val"},bt={class:"row"},ft={class:"data col-5 mb-16"},gt=t("div",{class:"title"},"Date & Time :",-1),Dt={class:"val"},kt={class:"data col-5 mb-16"},Mt=t("div",{class:"title"},"Mode :",-1),wt={class:"val"},yt={class:"row"},Ct={class:"data col-5 mb-16"},Tt=t("div",{class:"title"},"Type :",-1),Yt={class:"val"},Ut={class:"data col-5 mb-16"},Et=t("div",{class:"title"},"Status :",-1),Nt={class:"val"},Vt={class:"row"},xt={class:"data col-5 mb-16"},It=t("div",{class:"title"},"Token :",-1),St={class:"val"},At={class:"data col-5 mb-16"},Bt=t("div",{class:"title"},"Payment Status :",-1),Pt={class:"val"},$t={class:"row"},Ft={class:"data col-5 mb-16"},Lt=t("div",{class:"title"},"Booking From :",-1),qt={class:"val"},Ht={class:"data col-5 mb-16"},Rt=t("div",{class:"title"},"Destination :",-1),Gt={class:"val"},Ot=t("div",{class:"title",showHeader:"true"},"Change Destination",-1),jt={class:"form"},zt={class:"form-item-two"},Jt=t("div",{class:"title"},"Destination",-1),Kt={class:"form-input mb-10"},Qt={key:0,class:"err-msg"},Zt={__name:"AmbulanceVisits",setup(Wt){const u=I(),h=S();A();const e=w(()=>u.state.Prescription),s=B({limit:10,offset:0,keyword:"",id:null,appointmentId:null,roles:null,bookUpdateModal:!1,bookingTo:null});P(()=>{h.query.pid&&(s.id=h.query.pid,s.appointmentId=h.query.aid,s.roles=localStorage.getItem("roles"),Y(s.id,s.limit,s.offset,s.keyword,s.appointmentId))});function Y(i,o,d,n,l){u.dispatch("Prescription/getPrescription",{id:i,limit:o,offset:d,keyword:n,appointmentId:l})}function U(i){if(i){var o=new Date,d=new Date(i),n=o.getFullYear()-d.getFullYear(),l=o.getMonth()-d.getMonth();if(o.getDay()-d.getDay(),n===0)var c=`${l} M`;else if(n!=0&&l!=0)var c=`${n} Y ${l} M`;else var c=`${n} Y`;return c}else return"-"}function E(){var i=new Date,o=i.getDate(),d=i.getFullYear(),n=i.getMonth()+1;n<10&&(n="0"+n),o<10&&(o="0"+o);var l=d+"-"+n+"-"+o;return l}function N(i){s.appointmentId=i,s.bookUpdateModal=!0}function V(){if(m.value)return s.submit=!0,null;u.dispatch("Prescription/changeDestination",{id:s.appointmentId,bookingTo:s.bookingTo}),s.bookUpdateModal=!1}function x(i){if(i)return $(i).subtract({hours:4,minutes:30}).format("MMM Do YYYY, h:mm A")}const m=w(()=>{if(!s.bookingTo)return"Enter destination!"});return(i,o)=>{var l,c,b,f,g,D,k,M;const d=y("icon-cross"),n=y("Modal");return v(),r("section",H,[t("div",R,[t("div",G,[t("div",O,[t("div",j,[t("div",z,[t("h3",J,a((l=e.value.patientDetail)==null?void 0:l.firstName)+" "+a((c=e.value.patientDetail)==null?void 0:c.lastName),1),t("div",K,"("+a((b=e.value.patientDetail)==null?void 0:b.pid)+")",1)])]),t("div",Q,[e.value.status!=="CANCELLED"?(v(),r("div",W,[t("button",{class:"btn grade-btn",onClick:o[0]||(o[0]=_=>N(e.value.id))},"Change Destination")])):p("",!0),e.value.status!=="CANCELLED"?(v(),r("div",X,tt)):p("",!0),t("div",st,[t("span",null,"Since "+a(E()),1)])])]),t("div",ot,[t("div",et,[t("div",at,[it,t("div",nt,a((f=e.value.patientDetail)==null?void 0:f.gender),1)]),t("div",lt,[dt,t("div",ct,a(U((g=e.value.patientDetail)==null?void 0:g.dob)),1)])]),t("div",_t,[t("div",vt,[rt,t("div",ut,"+91 "+a((D=e.value.patientDetail)==null?void 0:D.mobile),1)]),t("div",ht,[mt,t("div",pt,a((k=e.value.patientDetail)==null?void 0:k.email),1)])]),t("div",bt,[t("div",ft,[gt,t("div",Dt,a(x(e.value.scheduleOn)),1)]),t("div",kt,[Mt,t("div",wt,a(e.value.mode),1)])]),t("div",yt,[t("div",Ct,[Tt,t("div",Yt,a(e.value.type),1)]),t("div",Ut,[Et,t("div",Nt,a(e.value.status),1)])]),t("div",Vt,[t("div",xt,[It,t("div",St,a(e.value.appointmentId),1)]),t("div",At,[Bt,t("div",Pt,a((M=e.value.paymentHistory)==null?void 0:M.status),1)])]),t("div",$t,[t("div",Ft,[Lt,t("div",qt,a(e.value.bookingFrom),1)]),t("div",Ht,[Rt,t("div",Gt,a(e.value.bookingTo),1)])])])])]),C(n,{show:s.bookUpdateModal,"onUpdate:show":o[3]||(o[3]=_=>s.bookUpdateModal=_),class:"",headerClasses:"header-bg"},{header:T(()=>[Ot,t("div",{class:"close-btn",onClick:o[1]||(o[1]=F(_=>s.bookUpdateModal=!1,["prevent"]))},[C(d)])]),default:T(()=>[t("form",jt,[t("div",zt,[Jt,t("div",Kt,[L(t("input",{type:"text","onUpdate:modelValue":o[2]||(o[2]=_=>s.bookingTo=_),placeholder:"Enter Destination"},null,512),[[q,s.bookingTo]]),s.submit&&m.value?(v(),r("div",Qt,a(m.value),1)):p("",!0)])]),t("div",{class:"save-btn"},[t("button",{type:"button",class:"btn black-btn",onClick:V},"Save")])])]),_:1},8,["show"])])}}};export{Zt as default};
