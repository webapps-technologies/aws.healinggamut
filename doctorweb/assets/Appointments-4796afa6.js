import{u as U,B as x,C as B,c as d,v as P,m as b,D as S,r as k,o as l,a as i,b as t,x as L,y as A,F as q,E as G,f as c,d as O,t as n,w as R}from"./vendor-5e5c4e37.js";import{_ as C}from"./calender-9d47370a.js";import{_ as W}from"./eye-cf19e0ab.js";const H={class:"apt-page bills-page"},$={class:"card"},j={class:"card-body"},z={class:"bill-table"},J={class:"title-header"},K=t("div",{class:"title"},"Appointments",-1),Q={class:"search"},X={class:"date-input"},Z=t("div",{class:"icon"},[t("img",{src:C,alt:""})],-1),tt={class:"date-input"},et=t("div",{class:"icon"},[t("img",{src:C,alt:""})],-1),st=t("button",{class:"btn yellow-btn"},"All APT",-1),ot={class:"table-body p-0"},at={class:"table-outer"},nt={class:"table"},lt=t("thead",null,[t("th",null,"Sr. No."),t("th",null,"#Token"),t("th",null,"Name"),t("th",null,"Email"),t("th",null,"#Visits"),t("th",null,"Time"),t("th",null,"Status"),t("th",null,"Purpose"),t("th",{class:"text-center"},"Actions")],-1),it={class:"token"},dt={key:0,class:"tag green-tag"},rt={key:1,class:"tag yellow-tag"},ct={key:0,class:"text-center"},ut={class:"option-btns"},pt=t("img",{src:W,alt:""},null,-1),_t=t("div",{class:"tooltip"},"Details",-1),mt={key:0,class:"table-no-data"},ht=t("div",null,"No records Found!",-1),ft=[ht],Dt={key:1,class:"table-footer"},gt={__name:"Appointments",setup(vt){const N=U(),f=x(),F=B(),D=d(()=>N.state.Appointments),M=[{id:"PENDING",label:"PENDING"},{id:"COMPLETED",label:"COMPLETED"},{id:"CANCELLED",label:"CANCELLED"}],T=[{id:"NEW",label:"NEW"},{id:"FOLLOW UP",label:"FOLLOW UP"}],Y=[{id:"ONLINE",label:"ONLINE"},{id:"OFFLINE",label:"OFFLINE"}],e=P({limit:10,offset:0,keyword:"",status:M[0],type:Y[0],mode:T[0],scheduleType:"REGULAR",appointmentFor:"Doctor Appointment",fromDate:b().format("YYYY-MM-DD"),toDate:b().add(30,"days").format("YYYY-MM-DD"),submit:!1,doctor:"",service:"",time:"",duration:"",dob:null,id:null,aid:null});P([{date:"12-05-2023",time:"12:45",doctor_name:"Dr. Harish Verma",service:"ENT"}]),S(()=>{var o;f.query.id&&(e.id=f.query.id,e.aid=f.query.aid,E(e.limit,e.offset,e.keyword,e.status.id,(o=e.type)==null?void 0:o.id,e.fromDate,e.toDate,e.mode.id,e.scheduleType,e.appointmentFor,e.id))});function E(o,a,r,v,u,p,s,y,_,m,h){N.dispatch("Appointments/getUserAppointments",{limit:o,offset:a,keyword:r,status:v,type:u,fromDate:p,toDate:s,mode:y,scheduleType:_,appointmentFor:m,id:h})}function I(){var o;E(e.limit,e.offset,e.keyword,e.status.id,(o=e.type)==null?void 0:o.id,e.fromDate,e.toDate,e.mode.id,e.scheduleType,e.appointmentFor,e.aid)}function V(o,a,r){F.push({path:o,query:{pid:a,aid:r}})}function w(o){return o?b(o).format("MMM Do YYYY, h:mm A"):"-"}return d(()=>{if(!e.doctor)return"Please select doctor!"}),d(()=>{if(!e.service)return"Please select service!"}),d(()=>{if(!e.time)return"Please select time!"}),d(()=>{if(!e.duration)return"Please select duration!"}),d(()=>{if(!e.dob)return"Please select dob!"}),(o,a)=>{var u,p;const r=k("router-link"),v=k("Pagination");return l(),i("section",H,[t("div",$,[t("div",j,[t("div",z,[t("div",J,[K,t("div",Q,[t("div",X,[L(t("input",{type:"date","onUpdate:modelValue":a[0]||(a[0]=s=>e.fromDate=s)},null,512),[[A,e.fromDate]]),Z]),t("div",tt,[L(t("input",{type:"date","onUpdate:modelValue":a[1]||(a[1]=s=>e.toDate=s)},null,512),[[A,e.toDate]]),et]),st,t("button",{class:"btn black-btn",onClick:I},"Search")])]),t("div",ot,[t("div",at,[t("table",nt,[lt,t("tbody",null,[(l(!0),i(q,null,G(D.value.userAppointmentsData,(s,y)=>{var _,m,h;return l(),i("tr",{key:s},[t("td",null,n(y+1),1),t("td",null,[t("span",it,n(s.appointmentId),1)]),t("td",null,n((_=s.patientDetail)==null?void 0:_.firstName)+" "+n((m=s.patientDetail)==null?void 0:m.lastName),1),t("td",null,n((h=s.patientDetail)==null?void 0:h.email),1),t("td",null,n(s.mode),1),t("td",null,n(w(s.scheduleOn)),1),t("td",null,[s.status==="COMPLETED"?(l(),i("div",dt,n(s.status),1)):c("",!0),s.status==="PENDING"?(l(),i("div",rt,n(s.status),1)):c("",!0)]),t("td",null,n(s.type),1),s.type!=="OFFLINE"?(l(),i("td",ct,[t("div",ut,[O(r,{to:"",class:"action-icon",onClick:yt=>{var g;return V("/visit-summary",(g=s.patientDetail)==null?void 0:g.id,s.id)}},{default:R(()=>[pt,_t]),_:2},1032,["onClick"])])])):c("",!0)])}),128))])])]),((u=D.value.userAppointmentsData)==null?void 0:u.length)<=0?(l(),i("div",mt,ft)):c("",!0),((p=D.value.userAppointmentsData)==null?void 0:p.length)<=0?(l(),i("div",Dt,[O(v,{currentPage:1,totalItem:10,itemsPerPage:10,"onUpdate:currentPage":a[2]||(a[2]=s=>o.pageChange(s))})])):c("",!0)])])])])])}}};export{gt as default};
