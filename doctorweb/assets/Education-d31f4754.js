import{u as E,c as m,v as F,m as Q,r as D,o as l,a,b as e,g as _,x as g,y as v,t as d,f as c,F as Y,E as S,d as p,w as f}from"./vendor-5e5c4e37.js";import{_ as L}from"./upload-doc2-abc62999.js";import{_ as B}from"./delete-f387c4f0.js";import{_ as N}from"./img-85a4a537.js";const j={class:"doctor-education-details"},R={class:"row"},H={class:"form-item col-5 mb-16"},K=e("div",{class:"title"},"Qualification",-1),T={key:0,class:"err-msg"},z={class:"form-item col-5 mb-16"},G=e("div",{class:"title"},"College",-1),J={key:0,class:"err-msg"},O={class:"row"},W={class:"form-item col-5 mb-16"},X=e("div",{class:"title"},"City",-1),Z={key:0,class:"err-msg"},ee={class:"form-item col-5 mb-16"},te=e("div",{class:"title"},"Passing Year",-1),se={key:0,class:"err-msg"},ie=e("div",{class:"add-btn"},[e("button",{type:"submit",class:"btn black-btn w-10-r"},"Add")],-1),oe={class:"table-outer w-100"},le={class:"table"},ae=e("thead",null,[e("th",null,"Sl no"),e("th",null,"Qualification"),e("th",null,"College"),e("th",null,"City"),e("th",null,"Passing Year"),e("th",null,"Document"),e("th",null,"Action")],-1),ne=["onClick"],de=["src"],ce={class:"text-center"},re={class:"option-btns"},ue=["onClick"],me=e("img",{src:L,alt:""},null,-1),pe=[me],_e=["onClick"],ge=e("img",{src:B,alt:""},null,-1),ve=[ge],fe={key:0,class:"table-no-data"},he=e("div",null,"No records Found!",-1),ye=[he],be=e("div",{class:"title",showHeader:"true"},"Add Documents",-1),we={class:"doc-upload"},ke={class:"middle-doc"},Pe=e("div",{class:"title"},"Upload Degree Document",-1),Ce={class:"pic-upload"},De=["src"],Ye={key:1,src:N,class:"dummy-img pic",alt:""},Ue=e("label",{for:"imgUpload-doc",class:"upload-file-block"}," Upload Document ",-1),Ie={key:0,class:"err-msg"},Ve=e("div",{class:"text text-blue"},"Remove Pic",-1),qe=e("div",{class:"add-btn"},[e("button",{type:"submit",class:"btn black-btn w-100"},"Add")],-1),xe=e("div",{class:"title",showHeader:"true"},"Documents",-1),Ae={class:"d-body"},Me={key:0,class:"img"},$e=["src"],Be={__name:"Education",setup(Ee){const r=E(),h=m(()=>r.state.Auth),t=F({submit:!1,addDocModal:!1,qualification:null,college:null,city:null,passingYear:null,imagePreview:null,docFile:null,eduId:null,previewImgLink:null,openPreview:!1,currentYr:Q().format("YYYY")}),U=()=>{if(y.value||b.value||w.value||k.value){t.submit=!0;return}t.submit=!1,r.dispatch("Auth/addQualification",{doctorDetailId:h.value.id,qualification:t.qualification,college:t.college,city:t.city,passingYear:t.passingYear}),t.qualification=null,t.college=null,t.city=null,t.passingYear=null};function I(o){r.dispatch("Auth/deleteQualification",{id:o})}function V(o){t.eduId=o,t.addDocModal=!0}function q(){r.dispatch("Auth/uploadQualificationDoc",{id:t.eduId,file:t.docFile}),t.addDocModal=!1}function x(){t.imagePreview=null,t.docFile=null,document.getElementById("imgUpload-doc").value&&(document.getElementById("imgUpload-doc").value=null)}function A(o){t.previewImgLink=o,t.openPreview=!0}const y=m(()=>{if(!t.qualification)return"Please enter qualification!"}),b=m(()=>{if(!t.college)return"Please enter college!"}),w=m(()=>{if(!t.city)return"Please enter city!"}),k=m(()=>{if(t.passingYear){if(t.passingYear>t.currentYr)return"Please enter valid Passing Year!"}else return"Please enter Passing Year!"});async function M(o,i){if(o){const n=await o.target;if(n.files[0].type==="image/png"||n.files[0].type==="image/jpg"||n.files[0].type==="image/jpeg"){if(n.files){const u=new FileReader;u.onload=s=>{t.imagePreview=s.target.result},n.files[0]&&(u.readAsDataURL(n.files[0]),t.docFile=n.files[0])}}else t.imagePreview=null,r.dispatch("Alert/error",{msg:"Upload image in png, jpeg, jpg format."})}}function $(o){let i=String.fromCharCode(o.keyCode);if(/^[0-9]+$/.test(i))return!0;o.preventDefault()}return(o,i)=>{const n=D("icon-cross"),u=D("Modal");return l(),a(Y,null,[e("section",j,[e("form",{action:"",class:"form mb-16",onSubmit:_(U,["prevent"])},[e("div",R,[e("div",H,[K,g(e("input",{type:"text","onUpdate:modelValue":i[0]||(i[0]=s=>t.qualification=s),placeholder:"Qualification"},null,512),[[v,t.qualification]]),t.submit&&y.value?(l(),a("div",T,d(y.value),1)):c("",!0)]),e("div",z,[G,g(e("input",{type:"text","onUpdate:modelValue":i[1]||(i[1]=s=>t.college=s),placeholder:"College"},null,512),[[v,t.college]]),t.submit&&b.value?(l(),a("div",J,d(b.value),1)):c("",!0)])]),e("div",O,[e("div",W,[X,g(e("input",{type:"text","onUpdate:modelValue":i[2]||(i[2]=s=>t.city=s),placeholder:"City"},null,512),[[v,t.city]]),t.submit&&w.value?(l(),a("div",Z,d(w.value),1)):c("",!0)]),e("div",ee,[te,g(e("input",{type:"text","onUpdate:modelValue":i[3]||(i[3]=s=>t.passingYear=s),placeholder:"Passing Year",maxlength:"4",onKeypress:i[4]||(i[4]=s=>$(s))},null,544),[[v,t.passingYear]]),t.submit&&k.value?(l(),a("div",se,d(k.value),1)):c("",!0)])]),ie],32),e("div",oe,[e("table",le,[ae,e("tbody",null,[(l(!0),a(Y,null,S(h.value.doctorEducation,(s,P)=>(l(),a("tr",{key:P},[e("td",null,d(P+1),1),e("td",null,d(s.qualification),1),e("td",null,d(s.college),1),e("td",null,d(s.city),1),e("td",null,d(s.passingYear),1),e("td",null,[e("div",{class:"prof-img pointer",onClick:C=>A(s.proof)},[e("img",{src:`${s.proof}?width=50`,alt:""},null,8,de)],8,ne)]),e("td",ce,[e("div",re,[e("div",{class:"edit-ico",onClick:C=>V(s.id)},pe,8,ue),e("div",{class:"",onClick:C=>I(s.id)},ve,8,_e)])])]))),128))])])]),h.value.doctorEducation.length<=0?(l(),a("div",fe,ye)):c("",!0)]),p(u,{show:t.addDocModal,"onUpdate:show":i[7]||(i[7]=s=>t.addDocModal=s),class:"add-Education-doc",headerClasses:"header-bg"},{header:f(()=>[be,e("div",{class:"close-btn",onClick:i[5]||(i[5]=_(s=>t.addDocModal=!1,["prevent"]))},[p(n)])]),default:f(()=>[e("form",{action:"",class:"form",onSubmit:_(q,["prevent"])},[e("div",we,[e("div",ke,[Pe,e("div",Ce,[t.imagePreview?(l(),a("img",{key:0,src:t.imagePreview,class:"preview-image pic",id:"profilePic",alt:""},null,8,De)):(l(),a("img",Ye)),Ue,e("input",{class:"uploadProfileInput",type:"file",name:"profile_pic",id:"imgUpload-doc",accept:"image/png",onChange:i[6]||(i[6]=s=>M(s,o.profilePic)),style:{display:"none"}},null,32)]),t.imagePreview?c("",!0):(l(),a("div",Ie,"Please upload doc"))]),e("div",{class:"icon",onClick:x},[p(n),Ve])]),qe],32)]),_:1},8,["show"]),p(u,{show:t.openPreview,"onUpdate:show":i[9]||(i[9]=s=>t.openPreview=s),class:"image-view-modal",headerClasses:"header-bg"},{header:f(()=>[xe,e("div",{class:"close-btn",onClick:i[8]||(i[8]=_(s=>t.openPreview=!1,["prevent"]))},[p(n)])]),default:f(()=>[e("div",Ae,[t.previewImgLink?(l(),a("div",Me,[e("img",{src:`${t.previewImgLink}?quality=20`,alt:""},null,8,$e)])):c("",!0)])]),_:1},8,["show"])],64)}}};export{Be as default};
