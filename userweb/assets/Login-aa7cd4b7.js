import{u as P,c as g,r as V,a as C,o,b as n,d as e,e as p,w as u,f as y,g as O,h as b,v as k,t as _,i as l,j as h,F as j,k as N}from"./index-477b0694.js";import{_ as A}from"./logo-c456e4e5.js";import{S as B,C as D}from"./carousel.es-bb30983d.js";/* empty css                 */const L={class:"login-page"},U={class:"login-container"},$={class:"login-content"},E={class:"carousel-section"},F={class:"carousel__item"},G={class:"img"},M=["src"],R={class:"login-form"},H=e("div",{class:"logo"},[e("img",{src:A,alt:""})],-1),K=e("h3",{class:"text-blue"},"Sign In",-1),q=e("div",{class:"text sub-text text-center text-grey mb-10"},"View your reports and upcoming health checkups at one place. ",-1),z={class:"form-item mb-10"},J=e("div",{class:"title"},"Phone Number",-1),Q={class:"input i-input"},W=e("div",{class:"i-tag"},"+91",-1),X={key:0,class:"err-msg"},Y={key:0,class:"mb-10"},Z=e("div",{class:"title"}," Enter OTP ",-1),tt={key:0,class:"err-msg"},et={key:1,class:"send-again"},st={key:0,class:"code-msg"},ot={class:"login-btn form-item"},nt={key:0,type:"submit",class:"btn primary-btn"},it={key:1,type:"submit",class:"btn primary-btn"},at=e("div",{class:"terms"}," By continuing, you agree to HealingGamut's terms policy* ",-1),lt={class:"policy-links"},mt={__name:"Login",setup(rt){const c=P(),a=g(()=>c.state.Auth),t=V({submit:!1,otp:"",loginId:null,countdown:20,activeTimer:!1,timerInterval:null}),w={itemsToShow:1,snapAlign:"center"},I=["https://healinggmaut.b-cdn.net/image%2021.jpg?width=400","https://healinggmaut.b-cdn.net/image%2022.jpg?width=400","https://healinggmaut.b-cdn.net/image%2023.jpg?width=400","https://healinggmaut.b-cdn.net/image%2024.jpg?width=400","https://healinggmaut.b-cdn.net/image%2025.jpg?width=400"],S=()=>{if(a.value.otpStatus){if(m.value){t.submit=!0;return}t.submit=!1,c.dispatch("Auth/verifyOtp",{loginId:t.loginId,otp:t.otp})}else if(!a.value.otpStatus){if(d.value){t.submit=!0;return}t.submit=!1,c.dispatch("Auth/verifyUser",{loginId:t.loginId}),v()}};function T(){if(d.value){t.submit=!0;return}t.submit=!1,t.otp=null,c.dispatch("Auth/verifyUser",{loginId:t.loginId}),v()}function v(){t.activeTimer=!0,t.countdown=20,t.timerInterval=setInterval(()=>{t.countdown>1?t.countdown--:(clearInterval(t.timerInterval),t.activeTimer=!1)},1e3)}const d=g(()=>{let r=/^[6-9][0-9]{9}$/;if(t.loginId){if(!r.test(t.loginId))return"Please enter valid phone no!"}else return"Please enter your phone no!"}),m=g(()=>{if(t.otp){if(t.otp.length!==4)return"Please enter valid OTP!"}else return"Please enter OTP!"});function x(r){let s=String.fromCharCode(r.keyCode);if(/^[0-9]+$/.test(s))return!0;r.preventDefault()}return(r,s)=>{const f=C("router-link");return o(),n("section",L,[e("div",U,[e("div",$,[e("div",E,[p(y(D),{autoplay:3e3,autoplayLoop:!0,"wrap-around":!0,"pause-autoplay-on-hover":"",loop:!0,settings:w},{addons:u(()=>[]),default:u(()=>[(o(),n(j,null,N(I,i=>p(y(B),{key:i,class:""},{default:u(()=>[e("div",F,[e("div",G,[e("img",{src:i,class:"h-9",alt:"image"},null,8,M)])])]),_:2},1024)),64))]),_:1})]),e("div",R,[e("form",{class:"form",onSubmit:O(S,["prevent"])},[H,K,q,e("div",z,[J,e("div",Q,[W,b(e("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=i=>t.loginId=i),onKeypress:s[1]||(s[1]=i=>x(i)),maxlength:"10",placeholder:"8888888888"},null,544),[[k,t.loginId]])]),t.submit&&d.value?(o(),n("div",X,_(d.value),1)):l("",!0)]),a.value.otpStatus?(o(),n("div",Y,[Z,b(e("input",{type:"text","onUpdate:modelValue":s[2]||(s[2]=i=>t.otp=i),placeholder:"OTP"},null,512),[[k,t.otp]]),t.submit&&m.value?(o(),n("div",tt,_(m.value),1)):l("",!0)])):l("",!0),a.value.otpStatus?(o(),n("div",et,[h(" Didn't get it ? "),t.activeTimer?(o(),n("strong",st,"Resend Code in "+_(t.countdown)+" Seconds",1)):(o(),n("strong",{key:1,class:"resend",onClick:s[3]||(s[3]=i=>T())},"Resend OTP"))])):l("",!0),e("div",ot,[a.value.otpStatus?l("",!0):(o(),n("button",nt,"Get OTP ")),a.value.otpStatus?(o(),n("button",it,"Verify ")):l("",!0)]),at,e("div",lt,[p(f,{to:"/tnc",class:"link"},{default:u(()=>[h("Terms & Conditions*")]),_:1}),p(f,{to:"/privacy-policy",class:"link"},{default:u(()=>[h("Privacy Policy*")]),_:1})])],32)])])])])}}};export{mt as default};
