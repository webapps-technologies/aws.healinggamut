import{u as V,q as B,m as H,c as Y,r as O,n as G,a as m,o as s,b as a,d as t,e as u,w as v,F as L,k as T,i as d,j as c,t as i,g as _,y as R}from"./index-477b0694.js";import{_ as U}from"./download-d4dcec17.js";const $={class:"labtest-page"},j={class:"labtest-content"},q={class:"top-btn-row mb-16"},J=t("h3",null,"Labtests",-1),W={class:"table-outer"},z={class:"table"},K=t("thead",null,[t("th",null,"Sr. No."),t("th",null,"Test Name"),t("th",null,"Date"),t("th",null,"Charges"),t("th",null,"Payment Status"),t("th",null,"Status"),t("th",{class:"text-center"},"Option")],-1),Q={key:0},X=["onClick"],Z={class:"text-center"},tt={key:0,class:"option-btns"},et={key:0,class:"table-no-data"},ot=t("div",null,"No records Found!",-1),nt=[ot],st={key:1,class:"table-footer"},at={class:"entries"},lt=t("div",{class:"d-header text-center f-w-bold"},"DOWNLOADING",-1),it=t("div",{class:"d-body"},[t("div",{class:"img"},[t("img",{src:U,alt:""})]),t("div",{class:"text"},"Processing Invoice")],-1),rt=t("h4",null,"Are you sure want to cencel ?",-1),dt={class:"btns"},mt={__name:"Labtest",setup(ct){const p=V();B(),H();const r=Y(()=>p.state.LabTest),e=O({downloadModal:!1,confirmModal:!1,limit:10,offset:0,keyword:"",cPage:1,appointmentFor:"Lab Appointment",deleteId:null});G(()=>{g(e.limit,e.offset,e.keyword,e.appointmentFor,e.cPage)});function g(l,n,b,f,h){p.dispatch("LabTest/getMyLabAppointments",{limit:l,offset:n,keyword:b,appointmentFor:f,cPage:h})}function D(l){e.cPage=l,e.offset=e.limit*(l-1),g(e.limit,e.offset,e.keyword,e.appointmentFor,e.cPage)}function I(l){if(l)return R(l).subtract({hours:4,minutes:30}).format("MMM Do YYYY, h:mm A")}function x(l){p.dispatch("PaymentHistory/makePayment",{id:l})}function E(){e.deleteId&&p.dispatch("LabTest/deleteMyLabTest",{id:e.deleteId}),e.confirmModal=!1}return(l,n)=>{var w,P;const b=m("router-link"),f=m("icon-download"),h=m("Pagination"),k=m("Modal");return s(),a("section",$,[t("div",j,[t("div",q,[J,u(b,{to:"/panel/laboratories",class:"btn primary-btn"},{default:v(()=>[c("Book Test")]),_:1})]),t("div",W,[t("table",z,[K,t("tbody",null,[(s(!0),a(L,null,T(r.value.labAppoinmentData,(o,S)=>{var M,C,A;return s(),a("tr",{key:o},[t("td",null,i(S+1),1),o.appointmentLabtest.length>0?(s(),a("td",Q,[(s(!0),a(L,null,T(o.appointmentLabtest,(y,F)=>{var N;return s(),a("li",{key:F},i((N=y.labTest)==null?void 0:N.title),1)}),128))])):d("",!0),t("td",null,i(I(o.scheduleOn)),1),t("td",null,"â‚¹"+i(((M=o==null?void 0:o.paymentHistory)==null?void 0:M.total)||0),1),t("td",null,[c(i(((C=o.paymentHistory)==null?void 0:C.status)||"N/A")+" ",1),((A=o.paymentHistory)==null?void 0:A.status)=="PENDING"?(s(),a("button",{key:0,class:"pointer bg-blue p-2 radius-4",onClick:_(y=>x(o.paymentHistory.id),["prevent"])}," PAY ",8,X)):d("",!0)]),t("td",null,i(o.status),1),t("td",Z,[o.status!=="REJECTED"?(s(),a("div",tt,[o.status!=="PENDING"&&o.status!=="CANCELLED"?(s(),a("button",{key:0,class:"btn primary-btn",onClick:n[0]||(n[0]=_(y=>e.downloadModal=!0,["prevent"]))},[u(f)])):d("",!0)])):d("",!0)])])}),128))])])]),((w=r.value.labAppoinmentData)==null?void 0:w.length)<=0?(s(),a("div",et,nt)):d("",!0),((P=r.value.labAppoinmentData)==null?void 0:P.length)>0?(s(),a("div",st,[t("div",at,[c(" Showing "),t("span",null,i(e.offset+1),1),c(" to "),t("span",null,i(r.value.labAppoinmentTotal>e.limit+e.offset?e.limit+e.offset:r.value.labAppoinmentTotal),1),c(" of "),t("span",null,i(r.value.labAppoinmentTotal),1),c(" entries ")]),u(h,{currentPage:e.cPage,totalItem:r.value.labAppoinmentTotal,itemsPerPage:e.limit,"onUpdate:currentPage":n[1]||(n[1]=o=>D(o))},null,8,["currentPage","totalItem","itemsPerPage"])])):d("",!0)]),u(k,{show:e.downloadModal,"onUpdate:show":n[2]||(n[2]=o=>e.downloadModal=o),class:"download-modal"},{default:v(()=>[lt,it]),_:1},8,["show"]),u(k,{show:e.confirmModal,"onUpdate:show":n[4]||(n[4]=o=>e.confirmModal=o),class:"confirm-modal"},{default:v(()=>[rt,t("div",dt,[t("button",{class:"btn grey-btn cancel-btn",onClick:n[3]||(n[3]=_(o=>e.confirmModal=!1,["prevent"]))}," Cancel "),t("button",{class:"btn confirm-btn",onClick:_(E,["prevent"])}," Confirm ")])]),_:1},8,["show"])])}}};export{mt as default};
