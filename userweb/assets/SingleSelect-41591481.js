import{z as p,c as g,n as x,D as S,o as d,b as i,h as L,v as B,f as C,d as f,U as b,V,g as m,F as _,k as N,t as q,T as A}from"./index-477b0694.js";const O={class:"single-select"},D=["placeholder","disabled"],E={class:"dropdown-options"},F=["onClick"],M={__name:"SingleSelect",props:{modelValue:{type:String,default:""},placeholder:{type:String,default:"Search..."},options:{type:Array,required:!0},outside:{type:Boolean,default:!0},next:{type:Boolean,default:!0},search:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","selected","search"],setup(r){const o=r;let n=p(o.modelValue||""),l=p(null);const a=A(),y=g(()=>o.options.filter(e=>e.name.toLowerCase().includes(n.value.toLowerCase()))),h=e=>{n.value=e.name,a.emit("update:modelValue",e.name),a.emit("selected",e),o.next&&c()},v=()=>{a.emit("selected",{id:null,name:n.value}),c()},w=e=>{a.emit("search",e.target.value)},c=()=>{const e=document.querySelector("body").querySelectorAll("input"),t=Array.from(e).indexOf(l.value);e[t].parentNode.classList.remove("show-drop"),t<e.length-1&&(e[t+1].focus(),e[t+1].parentNode.classList.add("show-drop"))},k=()=>{const e=document.querySelector("body").querySelectorAll("input"),t=Array.from(e).indexOf(l.value);t>=0&&e[t].parentNode.classList.add("show-drop")};x(()=>{o.outside&&window.addEventListener("click",u)}),S(()=>{o.outside&&window.removeEventListener("click",u)});const u=e=>{const t=e.target,s=l.value.parentNode;s.contains(t)||s.classList.remove("show-drop")};return(e,t)=>(d(),i("div",O,[L(f("input",{type:"text",ref_key:"inputField",ref:l,"onUpdate:modelValue":t[0]||(t[0]=s=>b(n)?n.value=s:n=s),placeholder:r.placeholder,onKeydown:V(v,["enter"]),onKeyup:t[1]||(t[1]=s=>w(s)),onClick:m(k,["prevent"]),disabled:r.disabled},null,40,D),[[B,C(n)]]),f("ul",E,[(d(!0),i(_,null,N(y.value,s=>(d(),i("li",{key:s.id,onClick:m(I=>h(s),["prevent"])},q(s.name),9,F))),128))])]))}};export{M as default};
