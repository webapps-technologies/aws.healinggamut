import{u as no,q as lo,m as io,c as _,r as co,n as ro,a as v,o as i,b as r,d as e,e as u,t as l,g as y,F as mo,k as uo,p as _o,w as U,j as T,B as J,i as p,h as E,v as Y,y as fo}from"./index-477b0694.js";import{_ as $}from"./no-image2-f47ad35c.js";import{_ as G}from"./calender-9d47370a.js";const ho="/assets/Frame 8-2edf07e8.jpg",vo={class:"food-booking"},yo=e("div",{class:"food-booking-banner"},[e("img",{src:ho,alt:""})],-1),po={class:"container"},go={class:"main-card"},Mo={class:"card-header"},Do={class:"left"},bo=e("h4",null,"Our Meal Menu",-1),So={class:"save-btn flex justify-center gap-10"},wo={key:0,class:"card-body"},Io={class:"meal-cards"},ko={key:0,class:"img"},Po=["src"],To={key:1,class:"img"},Vo=e("img",{src:$,alt:""},null,-1),Ao=[Vo],Fo={class:"other-info"},No={class:"top"},xo={class:"name f-w-bold"},Co={class:"rating"},Oo={class:"name f-w-bold"},jo={class:"bottom"},Bo={class:"type"},Ho={class:"price"},Ro={class:"off"},Uo=["onClick"],Jo=["onClick"],Eo=e("div",{class:"title",showHeader:"true"},"Choose Plan",-1),Yo={key:0,class:"slide-left"},$o=e("p",null,"Item Already Added",-1),Go=[$o],zo={action:"",class:"form"},Lo={class:"form-section"},Wo={class:"food-info"},Ko={class:"meal-card card"},Qo={key:0,class:"img"},Xo=["src"],Zo={key:1,class:"img"},qo=e("img",{src:$,alt:""},null,-1),oe=[qo],ee={class:"other-info"},te={class:"top"},se={class:"name f-w-bold"},ae={class:"rating"},de={class:"bottom"},ne={class:"type"},le={class:"price"},ie={class:"off"},ce={class:"inpt-box"},re={class:"form-item mb-16 two-row"},me={class:"inp-row"},ue=e("div",{class:"title"},"From",-1),_e={class:"date-input"},fe=["min"],he=e("div",{class:"icon"},[e("img",{src:G,alt:""})],-1),ve={key:0,class:"err-msg"},ye={class:"inp-row"},pe=e("div",{class:"title"},"To",-1),ge={class:"date-input"},Me=["min"],De=e("div",{class:"icon"},[e("img",{src:G,alt:""})],-1),be={key:0,class:"err-msg"},Se={class:"form-item mb-16"},we=e("div",{class:"title"},"How many times you want",-1),Ie={key:0,class:"err-msg"},ke={class:"form-item mb-16"},Pe=e("div",{class:"title"},"How many persons are there",-1),Te={key:0,class:"err-msg"},Ve={class:"form-item mb-16"},Ae=e("div",{class:"title"},"Select pay mode",-1),Fe={key:0,class:"err-msg"},Ne={class:"save-btn"},Be={__name:"FoodBooking",setup(xe){const b=no();lo();const z=io(),f=_(()=>b.state.Foods),L=[{id:1,name:"1 Time / Day"},{id:2,name:"2 Time / Day"},{id:3,name:"3 Time / Day"},{id:4,name:"4 Time / Day"},{id:5,name:"5 Time / Day"}],W=[{id:1,name:"1"},{id:2,name:"2"},{id:3,name:"3"},{id:4,name:"4"},{id:5,name:"5"}],K=[{id:"UPI",name:"UPI"},{id:"Net Banking",name:"Net Banking"},{id:"Phone Pay",name:"Phone Pay"},{id:"Google Pay",name:"Google Pay"}],o=co({addModal:!1,submit:!1,id:null,limit:10,offset:0,keyword:"",status:"ACTIVE",foodItem:[],foodDesc:null,foodDiscount:null,foodId:null,foodAddressId:null,foodImage:null,foodName:null,foodPrice:null,foodRating:null,foodShortDesc:null,howManyTime:null,howManyPerson:null,paymentMethod:null,howManyTimePerDay:null,mealFrom:null,mealTo:null,alreadyAdded:!1});ro(()=>{Q(o.limit,o.offset,o.keyword,o.status);let s=localStorage.getItem("MealsData");s&&(o.foodItem=JSON.parse(s))});const Q=(s,t,a,d)=>{b.dispatch("Foods/getFoods",{limit:s,offset:t,keyword:a,status:d})};function X(s){var t,a,d,c,M,h,D,g;o.addModal=!0,o.alreadyAdded=!1,o.foodDesc=(t=s.meal)==null?void 0:t.desc,o.foodDiscount=(a=s.meal)==null?void 0:a.discount,o.foodId=(d=s.meal)==null?void 0:d.id,o.foodAddressId=s.id,o.foodImage=(c=s.meal)==null?void 0:c.image,o.foodName=(M=s.meal)==null?void 0:M.name,o.foodPrice=(h=s.meal)==null?void 0:h.price,o.foodRating=(D=s.meal)==null?void 0:D.rating,o.foodShortDesc=(g=s.meal)==null?void 0:g.shortDesc}function Z(s){z.push({path:s})}function q(){localStorage.setItem("MealsData",JSON.stringify([])),o.foodItem=[],f.value.foodData.forEach(s=>{s.addStatus=!1})}function oo(){if(S.value||w.value||I.value||k.value||P.value){o.submit=!0;return}o.submit=!1;let s=[];const t={mealFrom:o.mealFrom,mealTo:o.mealTo,howManyTime:o.howManyTimePerDay,howManyPerson:o.howManyPerson,paymentMethod:o.paymentMethod,foodDesc:o.foodDesc,foodDiscount:o.foodDiscount,foodId:o.foodId,foodAddressId:o.foodAddressId,foodImage:o.foodImage,foodName:o.foodName,foodPrice:o.foodPrice,foodRating:o.foodRating,foodShortDesc:o.foodShortDesc};let a=localStorage.getItem("MealsData");a&&(s=JSON.parse(a)),s.findIndex(c=>c.foodId===t.foodId)>=0?(o.alreadyAdded=!0,setTimeout(()=>{o.alreadyAdded=!1},7e3)):(s.push(t),f.value.foodData.forEach(c=>{c.id===o.foodAddressId&&(c.addStatus=!c.addStatus)}),localStorage.setItem("MealsData",JSON.stringify(s)),b.dispatch("Alert/success",{msg:"Item Added Successful"}),o.foodItem=s,o.addModal=!1)}const V=_(()=>{let s=localStorage.getItem("MealsData"),t=JSON.parse(s);(t==null?void 0:t.length)>0&&f.value.foodData.forEach(a=>{t.findIndex(c=>c.foodAddressId===a.id)>=0&&(a.addStatus=!a.addStatus)})});function eo(s){f.value.foodData.forEach(d=>{d.id===o.foodAddressId&&d.addStatus&&(d.addStatus=!d.addStatus)});let t=localStorage.getItem("MealsData"),a=JSON.parse(t);if((a==null?void 0:a.length)>0){const d=a.findIndex(c=>c.foodAddressId===s.foodAddressId);a.splice(d,1),localStorage.setItem("MealsData",JSON.stringify(a))}}function A(){var s=new Date,t=s.getDate(),a=s.getFullYear(),d=s.getMonth()+1;d<10&&(d="0"+d),t<10&&(t="0"+t);var c=a+"-"+d+"-"+t;return c}const to=s=>{o.howManyTimePerDay=s.id};function so(){o.mealFrom&&(o.mealTo=fo(o.mealFrom).add(1,"days").format("YYYY-MM-DD"))}const S=_(()=>{if(!o.mealFrom)return"Select From Date!"}),w=_(()=>{if(!o.mealTo)return"Select To Date!"}),I=_(()=>{if(!o.howManyTime)return"Select How Many Time you Want!"}),k=_(()=>{if(!o.howManyPerson)return"Select How Many Person!"}),P=_(()=>{if(!o.paymentMethod)return"Select Payment Method!"});return(s,t)=>{var g,F;const a=v("icon-dish"),d=v("icon-star"),c=v("NoData"),M=v("icon-cross"),h=v("Select"),D=v("Modal");return i(),r("section",vo,[yo,e("div",po,[e("div",go,[e("div",Mo,[e("div",Do,[bo,u(a)]),e("div",null,l((g=o.foodItem)==null?void 0:g.length)+" Item Added",1),e("div",So,[e("button",{class:"btn primary-btn",onClick:y(q,["prevent"])},"Remove Item"),e("button",{class:"btn primary-btn",onClick:t[0]||(t[0]=y(n=>Z("/medical-tourism/travel-booking"),["prevent"]))}," Continue ")])]),((F=f.value.foodData)==null?void 0:F.length)>0?(i(),r("div",wo,[e("div",Io,[(i(!0),r(mo,null,uo(f.value.foodData,(n,m)=>{var N,x,C,O,j,B,H,R;return i(),r("div",{class:"meal-card card",key:m},[(N=n.meal)!=null&&N.image?(i(),r("div",ko,[e("img",{src:(x=n.meal)==null?void 0:x.image,alt:""},null,8,Po)])):(i(),r("div",To,Ao)),e("div",Fo,[e("div",No,[e("div",xo,l((C=n.meal)==null?void 0:C.name),1),e("div",Co,[u(d),T(" "+l((O=n.meal)==null?void 0:O.rating.toFixed(1)),1)])]),e("span",null,[T("City : "),e("span",Oo,l((j=n.city)==null?void 0:j.name),1)]),e("div",jo,[e("div",Bo,l((B=n.meal)==null?void 0:B.shortDesc),1),e("div",Ho,"₹"+l((H=n.meal)==null?void 0:H.price)+" for one",1)])]),e("div",Ro,"₹"+l((R=n.meal)==null?void 0:R.discount)+" Off",1),e("div",null,[n.addStatus?(i(),r("div",{key:0,class:J(["btn primary-btn",{"selected-btn":n.addStatus}]),onClick:y(ao=>eo(n),["prevent"])},l(V.value)+" Selected ",11,Uo)):(i(),r("div",{key:1,class:J(["btn primary-btn",{"selected-btn":n.addStatus}]),onClick:y(ao=>X(n),["prevent"])},l(V.value)+" Select ",11,Jo))])])}),128))])])):(i(),_o(c,{key:1}))])]),u(D,{show:o.addModal,"onUpdate:show":t[8]||(t[8]=n=>o.addModal=n),class:"food-modal",headerClasses:"header-bg"},{header:U(()=>[Eo,e("div",{class:"close-btn",onClick:t[1]||(t[1]=y(n=>o.addModal=!1,["prevent"]))},[u(M)])]),default:U(()=>{var n;return[o.alreadyAdded?(i(),r("div",Yo,Go)):p("",!0),e("form",zo,[e("div",Lo,[e("div",Wo,[e("div",Ko,[o.foodImage?(i(),r("div",Qo,[e("img",{src:o.foodImage,alt:""},null,8,Xo)])):(i(),r("div",Zo,oe)),e("div",ee,[e("div",te,[e("div",se,l(o.foodName),1),e("div",ae,[u(d),T(" "+l((n=o.foodRating)==null?void 0:n.toFixed(1)),1)])]),e("div",de,[e("div",ne,l(o.foodShortDesc),1),e("div",le,"₹"+l(o.foodPrice)+" for one",1)])]),e("div",ie,"₹"+l(o.foodDiscount)+" Off",1)])]),e("div",ce,[e("div",re,[e("div",me,[ue,e("div",_e,[E(e("input",{type:"date","onUpdate:modelValue":t[2]||(t[2]=m=>o.mealFrom=m),min:A(),onChange:t[3]||(t[3]=m=>so())},null,40,fe),[[Y,o.mealFrom]]),he]),o.submit&&S.value?(i(),r("div",ve,l(S.value),1)):p("",!0)]),e("div",ye,[pe,e("div",ge,[E(e("input",{type:"date","onUpdate:modelValue":t[4]||(t[4]=m=>o.mealTo=m),min:o.mealFrom?o.mealFrom:A()},null,8,Me),[[Y,o.mealTo]]),De]),o.submit&&w.value?(i(),r("div",be,l(w.value),1)):p("",!0)])]),e("div",Se,[we,u(h,{modelValue:o.howManyTime,"onUpdate:modelValue":t[5]||(t[5]=m=>o.howManyTime=m),options:L,onSelected:to,placeholder:"How Many People"},null,8,["modelValue"]),o.submit&&I.value?(i(),r("div",Ie,l(I.value),1)):p("",!0)]),e("div",ke,[Pe,u(h,{modelValue:o.howManyPerson,"onUpdate:modelValue":t[6]||(t[6]=m=>o.howManyPerson=m),options:W,placeholder:"How Many Person"},null,8,["modelValue"]),o.submit&&k.value?(i(),r("div",Te,l(k.value),1)):p("",!0)]),e("div",Ve,[Ae,u(h,{modelValue:o.paymentMethod,"onUpdate:modelValue":t[7]||(t[7]=m=>o.paymentMethod=m),options:K,placeholder:"Select Payment Method",next:!1},null,8,["modelValue"]),o.submit&&P.value?(i(),r("div",Fe,l(P.value),1)):p("",!0)])])]),e("div",Ne,[e("button",{type:"button",class:"btn primary-btn",onClick:y(oo,["prevent"])}," Add to my Plan ")])])]}),_:1},8,["show"])])}}};export{Be as default};
