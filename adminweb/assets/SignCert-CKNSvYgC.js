import{a1 as m}from"./@mdi-CZk6uuAL.js";import{b as f}from"./vue-router-D5J0r3Gc.js";import{u as _}from"./vuex-DHdsu8jA.js";import{e as h,c as v,j as a,k as y,l as S,m as n,A as j,u as k,y as l}from"./@vue-bQO0P59g.js";const A={class:"grid grid-cols-1 lg:grid-cols-1 gap-6"},C={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},b={for:"fileInput1"},I={__name:"SignCert",setup(V){const s=_(),g=f(),c=h(()=>s.state.Doctor),t=v({id:null,sign:null,cert:null,certFile:null,crtModal:!1}),u=async r=>{if(c.value.user.status&&r){const e=r.target;if(e.files[0].type==="image/png"||e.files[0].type==="image/jpeg"||e.files[0].type==="image/jpg"){if(e.files[0].size>512e3)return t.sign=null,s.dispatch("Alert/error",{msg:"Sign image size must be less than 500kb."});if(e.files){const i=new FileReader;i.onload=o=>{t.sign=o.target.result},e.files[0]&&(i.readAsDataURL(e.files[0]),s.dispatch("Doctor/signImage",{data:e.files[0],link:t.sign,id:g.query.id}))}}else t.sign=null,s.dispatch("Alert/error",{msg:"Sign image in png, jpeg, jpg format."})}};return(r,e)=>{const i=a("user-avatar"),o=a("divider"),d=a("card-component");return y(),S("div",A,[n(d,{title:"Signature",icon:k(m)},{default:j(()=>[l("div",C,[l("label",b,[n(i,{classess:"rounded-lg -mt-4 cursor-pointer",image:c.value.user.signature},null,8,["image"])])]),l("input",{name:"photo1",id:"fileInput1",accept:"image/*",class:"hidden",type:"file",onChange:e[0]||(e[0]=p=>u(p))},null,32),n(o)]),_:1},8,["icon"])])}}};export{I as default};
