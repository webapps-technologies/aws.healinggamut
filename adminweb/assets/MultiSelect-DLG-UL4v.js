import{r as m,j as N,U as A,k as l,l as n,y as i,F as _,I as y,B,E as b,H as k,u as r,q as K,N as j,V as F,W as w,m as L,x as M,S as q}from"./@vue-bQO0P59g.js";import{u as E}from"./vuex-DHdsu8jA.js";import{ao as R}from"./@mdi-CZk6uuAL.js";const U={class:"multi-select"},H={class:"tab-input"},O={class:"tabs"},Q=["onClick"],W=["placeholder","onKeydown"],$={key:0,class:"search-results"},z=["onClick"],G={class:"text-red-500"},Z={__name:"MultiSelect",props:{options:{type:Array,required:!0},tabs:{type:Array,default:[]},placeholder:{type:String,default:"Select..."}},emits:["update:modelValue","selected","specific","removed"],setup(h){const x=E(),C=h;let s=m(""),a=m([]),d=m([]),u=m(!1);const p=q(),g=e=>{s.value},S=()=>{s.value=""},T=(e,o)=>{p.emit("removed",e),a.value.splice(o,1),p.emit("selected",a.value)},V=e=>{a.value.findIndex(c=>c.id===e.id)<0?(a.value.push({id:e.id,name:e.name}),p.emit("specific",e),p.emit("selected",a.value),s.value="",d.value=[],u.value=!1):x.dispatch("Alert/error",{msg:"Alredy selected"})},f=e=>{const o=s.value.toLowerCase();d.value=C.options.filter(c=>c.name.toLowerCase().includes(o)),u.value=!0},I=e=>{u.value=!1};return(e,o)=>{const c=N("icon"),D=A("click-outside");return l(),n("div",U,[i("div",H,[i("div",O,[(l(!0),n(_,null,y(r(a),(t,v)=>(l(),n("span",{key:v,class:"tab"},[B(b(t.name)+" ",1),i("button",{class:"text-red-400",onClick:k(J=>T(t,v),["prevent"])},"â¤«",8,Q)]))),128))]),K(i("input",{type:"text",class:"clsmulti px-3 py-2 max-w-full focus:ring ring-blue-300 focus:outline-none dark:border-gray-700 rounded w-full dark:placeholder-gray-400 border-blue-300 border","onUpdate:modelValue":o[0]||(o[0]=t=>F(s)?s.value=t:s=t),placeholder:h.placeholder,onInput:f,onFocus:f,onKeydown:w(k(g,["prevent"]),["enter"]),onKeyup:w(S,["enter"])},null,40,W),[[j,r(s)],[D,I]]),L(c,{class:"absolute right-0",path:r(R)},null,8,["path"])]),r(u)&&r(d).length>0?(l(),n("ul",$,[(l(!0),n(_,null,y(r(d),t=>(l(),n("li",{key:t.id,onClick:v=>V(t)},[i("label",G,b(t.name),1)],8,z))),128))])):M("",!0)])}}};export{Z as default};
