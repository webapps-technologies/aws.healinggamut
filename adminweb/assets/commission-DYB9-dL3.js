import{e as m,c as C,j as s,k as y,l as h,m as t,A as i,u as S,y as x,H as k}from"./@vue-bQO0P59g.js";import{a2 as E}from"./@mdi-CZk6uuAL.js";import{b as R}from"./vue-router-D5J0r3Gc.js";import{u as B}from"./vuex-DHdsu8jA.js";const w={class:"grid grid-cols-1 lg:grid-cols-1 gap-6"},A={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},H={__name:"commission",setup(N){const c=B();R();const e=m(()=>c.state.Ambulance),l=C({finalSubmit:!1}),v=async()=>{if(r.value||u.value){l.finalSubmit=!0;return}const a={id:e.value.user.id,rating:e.value.user.rating,commission:e.value.user.commission};await c.dispatch("Ambulance/updateCommission",a)},r=m(()=>{if(e.value.user.commission){if(e.value.user.commission>100)return"Enter Valid Commission!"}else return"Enter Commission!"}),u=m(()=>{if(e.value.user.rating){if(e.value.user.rating>5)return"Enter Valid Rating!"}else return"Enter Rating!"});function d(a){let o=String.fromCharCode(a.keyCode);if(/^[0-9]+$/.test(o))return!0;a.preventDefault()}return(a,o)=>{const p=s("control"),f=s("field"),g=s("divider"),_=s("base-button"),b=s("base-buttons"),V=s("card-component");return y(),h("div",w,[t(V,{title:"Commission Detail",icon:S(E)},{default:i(()=>[x("div",A,[t(f,{label:"Commission",help:l.finalSubmit&&r.value?r.value:""},{default:i(()=>[t(p,{modelValue:e.value.user.commission,"onUpdate:modelValue":o[0]||(o[0]=n=>e.value.user.commission=n),type:"text",name:"Commission",onKeypress:o[1]||(o[1]=n=>d(n)),maxlength:"3"},null,8,["modelValue"])]),_:1},8,["help"]),t(f,{label:"Rating",help:l.finalSubmit&&u.value?u.value:""},{default:i(()=>[t(p,{modelValue:e.value.user.rating,"onUpdate:modelValue":o[2]||(o[2]=n=>e.value.user.rating=n),type:"text",name:"Rating",onKeypress:o[3]||(o[3]=n=>d(n)),maxlength:"1"},null,8,["modelValue"])]),_:1},8,["help"])]),t(g),t(b,null,{default:i(()=>[t(_,{color:"themeColor",type:"button",label:"Update",onClick:k(v,["prevent"])})]),_:1})]),_:1},8,["icon"])])}}};export{H as default};
