import{e as b,c as Z,z as ee,j as m,k as r,l as f,m as o,A as s,B as C,y as a,H as g,F as te,I as le,E as y,x as c,u as H,t as k,q as A,J as I}from"./@vue-bQO0P59g.js";import{G as oe,E as ae,M as se}from"./@mdi-CZk6uuAL.js";import{u as ne}from"./vue-router-D5J0r3Gc.js";import{u as de}from"./vuex-DHdsu8jA.js";const ie={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},re={class:"grid grid-cols-1 lg:grid-cols-1 gap-6 new-table"},ue={class:"mt-3 px-6 table-sec"},ce={key:0},pe=a("caption",null,null,-1),me=a("thead",{class:"bg-white dark:bg-gray-900/80 dark:backdrop-blur-md"},[a("tr",null,[a("th",null,"Sl.No."),a("th",null,"Name"),a("th",null,"Price Per Day"),a("th",null,"Discount %"),a("th",null,"Ratting"),a("th",null,"Status"),a("th",{class:"lg:flex lg:justify-center"},"Action")])],-1),fe={"data-label":"Sr.No"},he={"data-label":"Name"},ge={"data-label":"Price"},ye={"data-label":"Discount"},be={"data-label":"Rating"},Ve={"data-label":"Status"},De={key:0},ve={key:1},_e={key:2},ke={key:0,class:"flex justify-center items-center"},Ce=a("div",{class:"spinner-dual-ring"},[a("div",{class:"ldio"},[a("div"),a("div",null,[a("div")])])],-1),Ee=[Ce],xe={key:0},Ne={class:"flex justify-center"},Pe={class:"form-check form-check-inline"},Me={class:"form-check-label inline-block text-gray-800 dark:text-slate-300 mr-2 cursor-pointer"},Se={class:"form-check form-check-inline"},Ue={class:"form-check-label inline-block text-gray-800 dark:text-slate-300 mr-2 cursor-pointer"},He={class:"form-check form-check-inline"},Ae={class:"form-check-label inline-block text-gray-800 dark:text-slate-300 mr-2 cursor-pointer"},Ie={class:"grid grid-cols-1 lg:grid-cols-2 gap-2"},je={class:"grid grid-cols-1 lg:grid-cols-2 gap-2"},Ge={__name:"Hotel",setup(Te){const D=de(),L=ne(),p=b(()=>D.state.Hotels),j=[{id:"ACTIVE",name:"ACTIVE"},{id:"DEACTIVE",name:"DEACTIVE"},{id:"PENDING",name:"PENDING"}],e=Z({limit:10,offset:0,search:"",status:j[0],statusChange:null,id:null,submit:!1,statusModal:!1,addModal:!1,addAddressModal:!1,editMode:!1,name:null,rating:null,pricePerDay:null,discount:null,shortDesc:null,desc:null});ee(()=>{v()});const K=()=>{var n;v(e.limit,e.offset,e.search,(n=e.status)==null?void 0:n.id)};function v(){D.dispatch("Hotels/getHotel",{limit:e.limit,offset:e.offset,keyword:e.search,status:e.status.id})}function T(){if(E.value||x.value||N.value||P.value||M.value||S.value){e.submit=!0;return}e.submit=!1,e.editMode?(D.dispatch("Hotels/updateHotel",{id:e.id,name:e.name,pricePerDay:e.pricePerDay,discount:e.discount,rating:e.rating,shortDesc:e.shortDesc,desc:e.desc}),e.addModal=!1):(D.dispatch("Hotels/saveHotel",{name:e.name,pricePerDay:e.pricePerDay,discount:e.discount,rating:e.rating,shortDesc:e.shortDesc,desc:e.desc}),e.addModal=!1)}function O(){e.id&&D.dispatch("Hotels/setHotelStatus",{id:e.id,status:e.statusChange}),e.statusModal=!1}function q(){var n;e.offset=e.offset+e.limit,v(e.limit,e.offset,e.search,(n=e.status)==null?void 0:n.id)}function F(n){var t,V;e.offset=0,n.length>2?v(e.limit,e.offset,n,(t=e.status)==null?void 0:t.id):n.length<=0&&v(e.limit,e.offset,e.search,(V=e.status)==null?void 0:V.id)}function z(n,t){e.id=n,e.name=t.name,e.pricePerDay=t.pricePerDay,e.discount=t.discount,e.rating=t.rating,e.shortDesc=t.shortDesc,e.desc=t.desc,e.editMode=!0,e.addModal=!0}function J(n,t,V){L.push({path:n,query:{id:t,name:V}})}function Q(n,t){e.statusModal=!0,e.id=n,e.statusChange=t}const E=b(()=>{if(!e.name)return"Enter Hotel Name!"}),x=b(()=>{if(!e.pricePerDay)return"Enter Price!"}),N=b(()=>{if(!e.discount)return"Enter discount!"}),P=b(()=>{if(e.rating){if(e.rating>5)return"Please Enter Valid Rating!"}else return"Enter rating!"}),M=b(()=>{if(!e.shortDesc)return"Enter Short Description!"}),S=b(()=>{if(!e.desc)return"Enter Description!"});function w(n){let t=String.fromCharCode(n.keyCode);if(/^[0-9]+$/.test(t))return!0;n.preventDefault()}function R(n){let t=String.fromCharCode(n.keyCode);if(/^[0-9.]+$/.test(t))return!0;n.preventDefault()}return(n,t)=>{const V=m("hero-bar"),i=m("control"),h=m("base-button"),_=m("base-buttons"),W=m("new-card"),X=m("card-component"),Y=m("main-section"),U=m("modal-box"),u=m("field");return r(),f("section",null,[o(V,null,{default:s(()=>[C("Hotel")]),_:1}),o(Y,null,{default:s(()=>[a("div",ie,[o(i,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=l=>e.search=l),onKeyup:t[1]||(t[1]=l=>F(l.target.value)),type:"text",placeholder:"Search by : Username or Name"},null,8,["modelValue"]),o(i,{modelValue:e.status,"onUpdate:modelValue":t[2]||(t[2]=l=>e.status=l),options:j},null,8,["modelValue"]),o(h,{type:"button",color:"themeColor",small:"",label:"SUBMIT",onClick:t[3]||(t[3]=g(l=>K(),["prevent"]))})]),a("div",re,[o(X,{class:"mb-6",title:"List (Total: "+p.value.totalHotel+")","has-table":""},{default:s(()=>{var l,B;return[a("div",ue,[((l=p.value.hotelData)==null?void 0:l.length)>0?(r(),f("table",ce,[pe,me,a("tbody",null,[(r(!0),f(te,null,le(p.value.hotelData,(d,$)=>(r(),f("tr",{key:$},[a("td",fe,y($+1),1),a("td",he,y(d.name),1),a("td",ge,"â‚¹"+y(d.pricePerDay),1),a("td",ye,y(d.discount),1),a("td",be,y(d.rating),1),a("td",Ve,[d.status==="ACTIVE"?(r(),f("span",De,y(d.status),1)):c("",!0),d.status==="DEACTIVE"?(r(),f("span",ve,y(d.status),1)):c("",!0),d.status==="PENDING"?(r(),f("span",_e,y(d.status),1)):c("",!0)]),a("td",null,[o(_,{type:"justify-start lg:justify-center","no-wrap":""},{default:s(()=>[o(h,{type:"button",title:"Update State",color:"info",icon:H(oe),small:"",rounded:"",onClick:g(G=>z(d.id,d),["prevent"])},null,8,["icon","onClick"]),o(h,{type:"button",title:"Change Status",color:"purple",icon:H(ae),small:"",rounded:"",onClick:g(G=>Q(d.id,d.status),["prevent"])},null,8,["icon","onClick"]),o(h,{type:"button",title:"Address Status",color:"orange",icon:H(se),small:"",rounded:"",onClick:g(G=>J("/hotel/details",d.id,d.name),["prevent"])},null,8,["icon","onClick"])]),_:2},1024)])]))),128))])])):c("",!0)]),((B=p.value.hotelData)==null?void 0:B.length)<=0?(r(),k(W,{key:0,empty:""})):c("",!0)]}),_:1},8,["title"])]),p.value.dataLoader?(r(),f("div",ke,Ee)):c("",!0),p.value.loadMore&&!p.value.dataLoader?(r(),k(_,{key:1,type:"justify-center lg:justify-center"},{default:s(()=>[o(h,{type:"button",color:"themeColor",label:"Load More",onClick:t[4]||(t[4]=g(l=>q(),["prevent"]))})]),_:1})):c("",!0)]),_:1}),o(U,{modelValue:e.statusModal,"onUpdate:modelValue":t[8]||(t[8]=l=>e.statusModal=l),title:"State status"},{default:s(()=>[e.id?(r(),f("section",xe,[a("div",Ne,[a("div",Pe,[a("label",Me,[A(a("input",{class:"form-check-input ml-2",type:"radio",name:"inlineRadioOptions","onUpdate:modelValue":t[5]||(t[5]=l=>e.statusChange=l),value:"ACTIVE"},null,512),[[I,e.statusChange]]),C(" ACTIVE ")])]),a("div",Se,[a("label",Ue,[A(a("input",{class:"form-check-input ml-2",type:"radio",name:"inlineRadioOptions","onUpdate:modelValue":t[6]||(t[6]=l=>e.statusChange=l),value:"DEACTIVE"},null,512),[[I,e.statusChange]]),C(" DEACTIVE")])]),a("div",He,[a("label",Ae,[A(a("input",{class:"form-check-input ml-2",type:"radio",name:"inlineRadioOptions","onUpdate:modelValue":t[7]||(t[7]=l=>e.statusChange=l),value:"PENDING"},null,512),[[I,e.statusChange]]),C(" PENDING")])])]),o(_,{type:"justify-center lg:justify-center pt-5"},{default:s(()=>[p.value.loaderNew?c("",!0):(r(),k(h,{key:0,type:"button",color:"info",small:"",label:"Change Status",onClick:g(O,["prevent"])}))]),_:1})])):c("",!0)]),_:1},8,["modelValue"]),o(U,{modelValue:e.addModal,"onUpdate:modelValue":t[18]||(t[18]=l=>e.addModal=l),title:"Add Hotel"},{default:s(()=>[a("div",Ie,[o(u,{label:"Name *",help:e.submit?E.value:""},{default:s(()=>[o(i,{modelValue:e.name,"onUpdate:modelValue":t[9]||(t[9]=l=>e.name=l),type:"text",name:"name",autocomplete:"name",placeholder:"Enter Hotel Name"},null,8,["modelValue"])]),_:1},8,["help"]),o(u,{label:"Price / Day *",help:e.submit?x.value:""},{default:s(()=>[o(i,{modelValue:e.pricePerDay,"onUpdate:modelValue":t[10]||(t[10]=l=>e.pricePerDay=l),type:"text",name:"price",autocomplete:"price",placeholder:"Enter Price",onKeypress:t[11]||(t[11]=l=>w(l)),maxlength:"20"},null,8,["modelValue"])]),_:1},8,["help"]),o(u,{label:"Discount *",help:e.submit?N.value:""},{default:s(()=>[o(i,{modelValue:e.discount,"onUpdate:modelValue":t[12]||(t[12]=l=>e.discount=l),type:"text",name:"discount",autocomplete:"discount",placeholder:"Enter Discount",onKeypress:t[13]||(t[13]=l=>w(l)),maxlength:"2"},null,8,["modelValue"])]),_:1},8,["help"]),o(u,{label:"Rating *",help:e.submit?P.value:""},{default:s(()=>[o(i,{modelValue:e.rating,"onUpdate:modelValue":t[14]||(t[14]=l=>e.rating=l),type:"text",name:"rating",autocomplete:"rating",placeholder:"Enter Rating",onKeypress:t[15]||(t[15]=l=>R(l)),maxlength:"3"},null,8,["modelValue"])]),_:1},8,["help"]),o(u,{label:"Short Description *",help:e.submit?M.value:""},{default:s(()=>[o(i,{modelValue:e.shortDesc,"onUpdate:modelValue":t[16]||(t[16]=l=>e.shortDesc=l),type:"text",name:"shortDesc",autocomplete:"shortDesc",placeholder:"Enter Short Description"},null,8,["modelValue"])]),_:1},8,["help"]),o(u,{label:"Description *",help:e.submit?S.value:""},{default:s(()=>[o(i,{modelValue:e.desc,"onUpdate:modelValue":t[17]||(t[17]=l=>e.desc=l),type:"textarea",name:"desc",autocomplete:"desc",placeholder:"Enter Description"},null,8,["modelValue"])]),_:1},8,["help"])]),o(_,{type:"justify-center lg:justify-center pt-5"},{default:s(()=>[p.value.loaderNew?c("",!0):(r(),k(h,{key:0,type:"button",color:"info",small:"",label:"Submit",onClick:g(T,["prevent"])}))]),_:1})]),_:1},8,["modelValue"]),o(U,{modelValue:e.addAddressModal,"onUpdate:modelValue":t[26]||(t[26]=l=>e.addAddressModal=l),title:"Add Hotel"},{default:s(()=>[a("div",je,[o(u,{label:"Name *",help:e.submit?E.value:""},{default:s(()=>[o(i,{modelValue:e.name,"onUpdate:modelValue":t[19]||(t[19]=l=>e.name=l),type:"text",name:"name",autocomplete:"name",placeholder:"Enter Hotel Name"},null,8,["modelValue"])]),_:1},8,["help"]),o(u,{label:"Price / Day *",help:e.submit?x.value:""},{default:s(()=>[o(i,{modelValue:e.pricePerDay,"onUpdate:modelValue":t[20]||(t[20]=l=>e.pricePerDay=l),type:"text",name:"price",autocomplete:"price",placeholder:"Enter Price"},null,8,["modelValue"])]),_:1},8,["help"]),o(u,{label:"Discount *",help:e.submit?N.value:""},{default:s(()=>[o(i,{modelValue:e.discount,"onUpdate:modelValue":t[21]||(t[21]=l=>e.discount=l),type:"text",name:"discount",autocomplete:"discount",placeholder:"Enter Discount"},null,8,["modelValue"])]),_:1},8,["help"]),o(u,{label:"Rating *",help:e.submit?P.value:""},{default:s(()=>[o(i,{modelValue:e.rating,"onUpdate:modelValue":t[22]||(t[22]=l=>e.rating=l),type:"text",name:"rating",autocomplete:"rating",placeholder:"Enter Ratings",onKeypress:t[23]||(t[23]=l=>R(l)),maxlength:"1"},null,8,["modelValue"])]),_:1},8,["help"]),o(u,{label:"Short Description *",help:e.submit?M.value:""},{default:s(()=>[o(i,{modelValue:e.shortDesc,"onUpdate:modelValue":t[24]||(t[24]=l=>e.shortDesc=l),type:"text",name:"shortDesc",autocomplete:"shortDesc",placeholder:"Enter Short Description"},null,8,["modelValue"])]),_:1},8,["help"]),o(u,{label:"Description *",help:e.submit?S.value:""},{default:s(()=>[o(i,{modelValue:e.desc,"onUpdate:modelValue":t[25]||(t[25]=l=>e.desc=l),type:"textarea",name:"desc",autocomplete:"desc",placeholder:"Enter Description"},null,8,["modelValue"])]),_:1},8,["help"])]),o(_,{type:"justify-center lg:justify-center pt-5"},{default:s(()=>[p.value.loaderNew?c("",!0):(r(),k(h,{key:0,type:"button",color:"info",small:"",label:"Submit",onClick:g(T,["prevent"])}))]),_:1})]),_:1},8,["modelValue"])])}}};export{Ge as default};
