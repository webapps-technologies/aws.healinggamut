import{e as n,c as E,r as F,j as u,k as V,l as D,q as O,v as I,y as t,m as e,A as s,H as r,u as c,G as k,E as G,t as H,x as W,F as Y}from"./@vue-bQO0P59g.js";import{u as J}from"./vuex-DHdsu8jA.js";import{ai as K,aj as Q,W as X,ak as Z,a9 as ee,al as oe,am as le}from"./@mdi-CZk6uuAL.js";import i from"./NavBarItem-Cd-QMP63.js";import y from"./NavBarItemLabel-CiVgu0FL.js";import se from"./NavBarMenu-DROC0tC5.js";import g from"./Icon-DZ9tUcvX.js";import{u as ae}from"./vue-router-D5J0r3Gc.js";const te={class:"flex-1 items-stretch flex h-14 bg-[#ffffff10]"},ne={class:"flex-none items-stretch flex h-14 lg:hidden"},re={class:"max-h-screen-menu overflow-y-auto lg:overflow-visible lg:flex lg:items-stretch lg:justify-end lg:ml-auto"},de=t("p",{class:"text-slate-600 dark:text-white/75 pb-5 text-xl flex justify-center"},"Are you sure, you want to Logout ?",-1),ie={class:"grid grid-cols-1 lg:grid-cols-1 gap-6"},be={__name:"NavBar",props:{name:{type:String,default:"Superadmin"}},setup(M){const C=ae(),d=J(),S=n(()=>d.state.Auth),o=E({oldPassword:null,password:null,confirmPassword:null,passwordModal:!1,deleteModelStatus:!1}),B=n(()=>!d.state.isFullScreen),w=n(()=>d.state.isAsideMobileExpanded),N=n(()=>w.value?K:Q),L=()=>d.dispatch("asideMobileToggle"),m=F(!1),j=n(()=>m.value?X:Z),A=()=>{m.value=!m.value},$=()=>{d.dispatch("asideLgToggle",!0)};function T(){o.passwordModal=!0}async function z(){if(v.value||b.value||h.value)return null;await d.dispatch("Auth/changePass",{oldPassword:o.oldPassword,password:o.password,confirmPassword:o.confirmPassword}),o.passwordModal=!1}const R=()=>{o.deleteModelStatus=!1,localStorage.clear(),C.push({path:"/login"})},v=n(()=>o.oldPassword?null:"Required."),b=n(()=>o.password?null:"Required."),h=n(()=>o.confirmPassword?null:"Required.");function U(){o.deleteModelStatus=!0}return(q,l)=>{const _=u("base-button"),x=u("base-buttons"),P=u("modal-box"),f=u("control"),p=u("field");return V(),D(Y,null,[O(t("nav",{class:k(["top-0 left-0 right-0 fixed flex h-14 bg-[#1670ff20] backdrop-blur-md border-b border-[#1670ff20] shadow-lg shadow-[#1670ff30] dark:shadow-none z-30 w-screen transition-position xl:pl-60 lg:w-auto lg:items-stretch dark:bg-slate-900 dark:border-gray-800",{"ml-60 lg:ml-0":w.value}])},[t("div",te,[e(i,{type:"flex lg:hidden",onClick:r(L,["prevent"])},{default:s(()=>[e(g,{path:N.value,size:"24"},null,8,["path"])]),_:1}),e(i,{type:"hidden lg:flex xl:hidden",onClick:r($,["prevent"])},{default:s(()=>[e(g,{path:c(ee),size:"24"},null,8,["path"])]),_:1}),e(i)]),t("div",ne,[e(i,{onClick:r(A,["prevent"])},{default:s(()=>[e(g,{path:j.value,size:"24"},null,8,["path"])]),_:1})]),t("div",{class:k(["absolute w-screen top-14 left-0 bg-[#ffffff10] lg:w-auto lg:items-stretch lg:flex lg:flex-grow lg:static lg:border-b-0 lg:overflow-visible lg:shadow-none",[m.value?"block":"hidden"]])},[t("div",re,[e(se,{"has-divider":""},{dropdown:s(()=>[e(i,{onClick:l[0]||(l[0]=r(a=>T(),["prevent"]))},{default:s(()=>[e(y,{icon:c(oe),label:"Change Password"},null,8,["icon"])]),_:1})]),default:s(()=>[t("div",null,[t("span",null,G(M.name),1)])]),_:1}),e(i,{"is-desktop-icon-only":"",onClick:r(U,["prevent"])},{default:s(()=>[e(y,{icon:c(le),label:"Log out","is-desktop-icon-only":""},null,8,["icon"])]),_:1})])],2)],2),[[I,B.value]]),e(P,{modelValue:o.deleteModelStatus,"onUpdate:modelValue":l[2]||(l[2]=a=>o.deleteModelStatus=a),title:"Logout",class:"backdrop-blur-sm"},{default:s(()=>[de,e(x,{class:"flex justify-center"},{default:s(()=>[e(_,{onClick:l[1]||(l[1]=a=>R()),color:"danger",small:"",label:"Yes, Log me out !"})]),_:1})]),_:1},8,["modelValue"]),e(P,{modelValue:o.passwordModal,"onUpdate:modelValue":l[6]||(l[6]=a=>o.passwordModal=a),title:"Change Password",form:"",onSubmit:l[7]||(l[7]=r(a=>q.onPassSubmit(),["prevent"]))},{default:s(()=>[t("section",null,[t("div",ie,[e(p,{label:"Old Password *",help:v.value},{default:s(()=>[e(f,{modelValue:o.oldPassword,"onUpdate:modelValue":l[3]||(l[3]=a=>o.oldPassword=a),type:"password",name:"oldPassword",autocomplete:"Old Password"},null,8,["modelValue"])]),_:1},8,["help"]),e(p,{label:"Password *",help:b.value},{default:s(()=>[e(f,{modelValue:o.password,"onUpdate:modelValue":l[4]||(l[4]=a=>o.password=a),type:"password",name:"password",autocomplete:"Password"},null,8,["modelValue"])]),_:1},8,["help"]),e(p,{label:"Confirm Password *",help:h.value},{default:s(()=>[e(f,{modelValue:o.confirmPassword,"onUpdate:modelValue":l[5]||(l[5]=a=>o.confirmPassword=a),type:"password",name:"confirmPassword",autocomplete:"Confirm Password"},null,8,["modelValue"])]),_:1},8,["help"])]),e(x,{type:"justify-center lg:justify-center pt-5"},{default:s(()=>[S.value.loaderNew?W("",!0):(V(),H(_,{key:0,type:"button",color:"info",small:"",label:"Submit",onClick:r(z,["prevent"])}))]),_:1})])]),_:1},8,["modelValue"])],64)}}};export{be as default};
