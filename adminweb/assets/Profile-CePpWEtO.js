import{e as r,c as z,z as O,j as m,k as A,l as T,m as o,A as u,u as x,y as v,t as W,H,x as Q}from"./@vue-bQO0P59g.js";import{a1 as R,$ as Z,G as j}from"./@mdi-CZk6uuAL.js";import"./moment-Cl4UOzQZ.js";import{b as G}from"./vue-router-D5J0r3Gc.js";import{u as L}from"./vuex-DHdsu8jA.js";const F={class:"grid grid-cols-1 lg:grid-cols-1 gap-6"},J={class:"grid grid-cols-1 lg:grid-cols-4 gap-4"},X={class:"grid grid-cols-1 lg:grid-cols-4 gap-4"},Y={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},ee={class:"grid grid-cols-1 lg:grid-cols-1 gap-4"},de={__name:"Profile",setup(le){const U=/^([\w\.\+]{1,})([^\W])(@)([\w]{1,})(\.[\w]{1,})+$/,c=L();G();const l=r(()=>c.state.Ambulance),a=z({editMode:!1,finalSubmit:!1,stateId:null,cityId:null}),_=()=>{a.editMode=!a.editMode};O(()=>{M("")});const I=()=>{var e,d;if(b.value||V.value||g.value||y.value||S.value||C.value||h.value){a.finalSubmit=!0;return}const s={name:l.value.user.name,email:l.value.user.email,shortDesc:l.value.user.shortDesc,desc:l.value.user.desc,address:l.value.user.address,state:(e=l.value.user.state)==null?void 0:e.name,city:(d=l.value.user.city)==null?void 0:d.name,cost:l.value.user.cost,discount:l.value.user.discount,price:l.value.user.price,id:l.value.user.id};c.dispatch("Ambulance/updateProfile",s)},M=s=>{c.dispatch("Ambulance/states",{limit:50,offset:0,search:s,status:!0})},P=s=>{a.stateId=s.id,D("")},D=s=>{c.dispatch("Ambulance/getCity",{limit:50,offset:0,search:s,status:!0,id:a.stateId})};function w(s){let e=String.fromCharCode(s.keyCode);if(/^[a-zA-Z ]+$/.test(e))return!0;s.preventDefault()}function f(s){let e=String.fromCharCode(s.keyCode);if(/^[0-9]+$/.test(e))return!0;s.preventDefault()}function E(s){let e=String.fromCharCode(s.keyCode);if(/^[a-zA-Z0-9@.]+$/.test(e))return!0;s.preventDefault()}const b=r(()=>{if(!l.value.user.name)return"Name required!"}),V=r(()=>{if(!l.value.user.email||!U.test(l.value.user.email))return"Invalid email!"}),g=r(()=>{if(!l.value.user.price)return"Price required!"}),y=r(()=>{if(!l.value.user.cost)return"Cost required!"}),S=r(()=>{if(!l.value.user.discount)return"Discount required!"}),C=r(()=>{if(!l.value.user.state)return"Select State!"}),h=r(()=>{if(!l.value.user.city)return"Select City!"});return(s,e)=>{const d=m("control"),i=m("field"),k=m("search-select"),$=m("QuillEditor"),N=m("divider"),B=m("base-button"),K=m("base-buttons"),q=m("card-component");return A(),T("div",F,[o(q,{title:a.editMode?"Edit Profile":"Profile Detail",icon:x(R),headerIcon:a.editMode?x(Z):x(j),onHeaderIconClicked:e[19]||(e[19]=t=>_())},{default:u(()=>[v("div",J,[o(i,{label:"Name *",help:a.finalSubmit&&b.value?b.value:""},{default:u(()=>[o(d,{modelValue:l.value.user.name,"onUpdate:modelValue":e[0]||(e[0]=t=>l.value.user.name=t),type:"text",name:"name",disabled:!a.editMode,onKeypress:e[1]||(e[1]=t=>w(t)),maxlength:"50"},null,8,["modelValue","disabled"])]),_:1},8,["help"]),o(i,{label:"E-mail *",help:a.finalSubmit&&V.value?V.value:""},{default:u(()=>[o(d,{modelValue:l.value.user.email,"onUpdate:modelValue":e[2]||(e[2]=t=>l.value.user.email=t),type:"email",name:"email",disabled:!a.editMode,onKeypress:e[3]||(e[3]=t=>E(t))},null,8,["modelValue","disabled"])]),_:1},8,["help"]),o(i,{label:"Price *",help:a.finalSubmit&&g.value?g.value:""},{default:u(()=>[o(d,{modelValue:l.value.user.price,"onUpdate:modelValue":e[4]||(e[4]=t=>l.value.user.price=t),type:"text",name:"price",disabled:!a.editMode,onKeypress:e[5]||(e[5]=t=>f(t)),maxlength:"6"},null,8,["modelValue","disabled"])]),_:1},8,["help"]),o(i,{label:"Cost *",help:a.finalSubmit&&y.value?y.value:""},{default:u(()=>[o(d,{modelValue:l.value.user.cost,"onUpdate:modelValue":e[6]||(e[6]=t=>l.value.user.cost=t),type:"text",name:"cost",disabled:!a.editMode,onKeypress:e[7]||(e[7]=t=>f(t)),maxlength:"4"},null,8,["modelValue","disabled"])]),_:1},8,["help"])]),v("div",X,[o(i,{label:"Discount %",help:a.finalSubmit&&S.value?S.value:""},{default:u(()=>[o(d,{modelValue:l.value.user.discount,"onUpdate:modelValue":e[8]||(e[8]=t=>l.value.user.discount=t),type:"text",name:"discount",autocomplete:"Title",maxlength:"3",onKeypress:e[9]||(e[9]=t=>f(t)),disabled:!a.editMode},null,8,["modelValue","disabled"])]),_:1},8,["help"]),o(i,{label:"State",help:a.finalSubmit&&C.value?C.value:""},{default:u(()=>{var t,p;return[o(k,{modelValue:l.value.user.state,"onUpdate:modelValue":e[10]||(e[10]=n=>l.value.user.state=n),options:l.value.dataState,onOnType:e[11]||(e[11]=n=>M(n)),onOnSelected:e[12]||(e[12]=n=>P(n)),disabled:!a.editMode,placeholder:(p=(t=l.value.user)==null?void 0:t.state)==null?void 0:p.name},null,8,["modelValue","options","disabled","placeholder"])]}),_:1},8,["help"]),o(i,{label:"City",help:a.finalSubmit&&h.value?h.value:""},{default:u(()=>{var t,p;return[o(k,{modelValue:l.value.user.city,"onUpdate:modelValue":e[13]||(e[13]=n=>l.value.user.city=n),options:l.value.dataCity,onOnType:e[14]||(e[14]=n=>D(n)),disabled:!a.editMode,placeholder:(p=(t=l.value.user)==null?void 0:t.city)==null?void 0:p.name},null,8,["modelValue","options","disabled","placeholder"])]}),_:1},8,["help"])]),v("div",Y,[o(i,{label:"Address"},{default:u(()=>[o(d,{modelValue:l.value.user.address,"onUpdate:modelValue":e[15]||(e[15]=t=>l.value.user.address=t),type:"textarea",name:"Address",disabled:!a.editMode,maxlength:"250"},null,8,["modelValue","disabled"])]),_:1}),o(i,{label:"Short Desc"},{default:u(()=>[o(d,{modelValue:l.value.user.shortDesc,"onUpdate:modelValue":e[16]||(e[16]=t=>l.value.user.shortDesc=t),type:"textarea",name:"shortDesc",disabled:!a.editMode,maxlength:"250"},null,8,["modelValue","disabled"])]),_:1})]),v("div",ee,[o(i,{label:"Description"},{default:u(()=>[o($,{content:l.value.user.desc,"onUpdate:content":e[17]||(e[17]=t=>l.value.user.desc=t),ref:"targetElement","content-type":"html",theme:"snow",toolbar:"full",maxlength:"500"},null,8,["content"])]),_:1})]),o(N),a.editMode?(A(),W(K,{key:0},{default:u(()=>[o(B,{color:"themeColor",type:"button",label:"Submit",onClick:e[18]||(e[18]=H(t=>I(),["prevent"]))})]),_:1})):Q("",!0)]),_:1},8,["title","icon","headerIcon"])])}}};export{de as default};
