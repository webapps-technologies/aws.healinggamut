import{e as m,c as ke,z as ye,j as p,k as c,l as C,m as a,A as d,B as g,y as o,u as S,F as De,I as Ve,E as b,H as N,x as v,t as _,q as y,J as D}from"./@vue-bQO0P59g.js";import{C as Ee,M as ve,E as Ce}from"./@mdi-CZk6uuAL.js";import{h as L}from"./moment-Cl4UOzQZ.js";import{u as Ne}from"./vue-router-D5J0r3Gc.js";import{u as Le}from"./vuex-DHdsu8jA.js";const Ae={class:"grid grid-cols-2 lg:grid-cols-4 gap-6"},_e={class:"grid grid-cols-1 lg:grid-cols-1 gap-6 new-table"},Oe={class:"mt-3 table-sec"},Te={key:0},Se=o("thead",{class:"bg-white dark:bg-gray-900/80 dark:backdrop-blur-md"},[o("tr",null,[o("th",null,"Sl.No."),o("th",null,"Doctor Name"),o("th",null,"Doctor Phone"),o("th",null,"Patient Name"),o("th",null,"Patient Phone"),o("th",null,"Booking Date"),o("th",null,"Created"),o("th",null,"Status"),o("th",null,"Type"),o("th",{class:"text-center"},"Actions")])],-1),Ue={"data-label":"Sr.No"},Ie={"data-label":"Dr. Name"},Me={"data-label":"Dr. Mobile"},Fe={"data-label":"Patient Name"},Re={"data-label":"Patient Mobile"},xe={"data-label":"Schedule On"},we={"data-label":"Created"},Be={"data-label":"Status",class:"font-bold"},Pe={"data-label":"Type"},Ye={class:"actions-cell"},je={key:0,class:"flex justify-center items-center"},Ge=o("div",{class:"spinner-dual-ring"},[o("div",{class:"ldio"},[o("div"),o("div",null,[o("div")])])],-1),He=[Ge],We={key:0},qe={class:"flex justify-center"},ze={class:"form-check form-check-inline"},$e={for:"pending",class:"form-check-label inline-block text-gray-800 dark:text-slate-300 mr-2 cursor-pointer"},Je={class:"form-check form-check-inline"},Ke={for:"start",class:"form-check-label inline-block text-gray-800 dark:text-slate-300 mr-2 cursor-pointer"},Qe={class:"form-check form-check-inline"},Xe={for:"completed",class:"form-check-label inline-block text-gray-800 dark:text-slate-300 mr-2 cursor-pointer"},Ze={class:"form-check form-check-inline"},et={for:"rejected",class:"form-check-label inline-block text-gray-800 dark:text-slate-300 mr-2 cursor-pointer"},tt={class:"form-check form-check-inline"},lt={for:"cancelled",class:"form-check-label inline-block text-gray-800 dark:text-slate-300 mr-2 cursor-pointer"},ot={class:"form-check form-check-inline"},at={for:"deleted",class:"form-check-label inline-block text-gray-800 dark:text-slate-300 mr-2 cursor-pointer"},nt={class:"model-body"},it={class:"grid grid-cols-1 lg:grid-cols-4 gap-4"},dt={class:"grid grid-cols-1 lg:grid-cols-4 gap-4"},st={class:"flex justify-center w-full col-span-2 p-[0.5rem]"},rt={class:"form-check form-check-inline w-28"},ut={class:"form-check-label inline-block text-gray-800 dark:text-slate-300 cursor-pointer"},mt={class:"form-check form-check-inline w-28"},pt={class:"form-check-label inline-block text-gray-800 dark:text-slate-300 cursor-pointer"},ct={class:"grid grid-cols-1 lg:grid-cols-4 gap-4"},bt={class:"grid grid-cols-1 lg:grid-cols-3 gap-2"},Vt={__name:"All",setup(ft){const h=Le(),le=Ne(),f=m(()=>h.state.Appointment),U=m(()=>h.state.Doctor),I=[{id:"ALL",label:"ALL"},{id:"ONLINE",label:"ONLINE"},{id:"OFFLINE",label:"OFFLINE"},{id:"STUDIO CLINIC",label:"STUDIO CLINIC"},{id:"LAB TEST",label:"LAB TEST"}],M=[{id:"ALL",label:"ALL"},{id:"PENDING",label:"PENDING"},{id:"START",label:"START"},{id:"DELETED",label:"DELETED"},{id:"CANCELLED",label:"CANCELLED"},{id:"COMPLETED",label:"COMPLETED"},{id:"REJECTED",label:"REJECTED"}],F=[{id:"ALL",label:"ALL"},{id:"NEW",label:"NEW"},{id:"FOLLOW UP",label:"FOLLOW UP"}],R=[{id:"ALL",label:"ALL"},{id:"REGULAR",label:"REGULAR"},{id:"RESCHEDULE",label:"RESCHEDULE"}],O=[{id:"Doctor Appointment",label:"Doctor Appointment"},{id:"Ambulance Booking",label:"Ambulance Booking"},{id:"Studio Clinic Appointment",label:"Studio Clinic Appointment"},{id:"Hospital Appointment",label:"Hospital Appointment"},{id:"Nurse Appointment",label:"Nurse Appointment"}],x=[{id:"Male",label:"Male"},{id:"Female",label:"Female"},{id:"Other",label:"Other"}],w=[{id:"ONLINE",label:"ONLINE"},{id:"OFFLINE",label:"OFFLINE"},{id:"STUDIO CLINIC",label:"STUDIO CLINIC"}],B=[{id:"A+",label:"A+"},{id:"A-",label:"A-"},{id:"B+",label:"B+"},{id:"B-",label:"B-"},{id:"O+",label:"O+"},{id:"O-",label:"O-"},{id:"AB+",label:"AB+"},{id:"AB-",label:"AB-"}],oe=[{id:"Father",label:"Father"},{id:"Mother",label:"Mother"},{id:"Brother",label:"Brother"},{id:"Sister",label:"Sister"},{id:"Son",label:"Son"},{id:"Daughter",label:"Daughter"},{id:"Husband",label:"Husband"},{id:"Wife",label:"Wife"},{id:"Myself",label:"Myself"},{id:"Other",label:"Other"}],e=ke({limit:10,offset:0,keyword:"",fromDate:L().subtract(2,"days").format("YYYY-MM-DD"),toDate:L().add(30,"days").format("YYYY-MM-DD"),type:I[0],status:M[0],mode:F[0],scheduleType:R[0],appointmentFor:O[0],submit:!1,statusChange:null,id:null,cModal:!1,statusModal:!1,lockerStatus:null,mobile:null,firstName:null,lastName:null,email:null,gender:x[0],dob:null,group:B[2],relationship:oe[8],address:null,bookingDate:L().format("YYYY-MM-DD"),cmode:w[0],remark:null,orgDetail:[],period:[],doctorDetail:[],eMedicalBoard:[],organization:null,note:null,hospitalFees:0,commission:0,discount:0,gst:0});ye(()=>{A()});function A(){var n,t,u,i,r;h.dispatch("Appointment/getAppointment",{limit:e.limit,offset:e.offset,keyword:e.keyword,fromDate:e.fromDate,toDate:e.toDate,type:(n=e.type)==null?void 0:n.id,status:(t=e.status)==null?void 0:t.id,mode:(u=e.mode)==null?void 0:u.id,scheduleType:(i=e.scheduleType)==null?void 0:i.id,appointmentFor:(r=e.appointmentFor)==null?void 0:r.id})}function ae(){e.cModal=!0}const ne=n=>{h.dispatch("Doctor/all",{limit:10,offset:0,keyword:n,status:"VERIFIED",role:"DOCTOR"})};function T(n){if(n){let t=L(e.bookingDate).format("dddd");h.dispatch("Doctor/docprofile",{id:n,day:t,mode:e.cmode,bookingDate:e.bookingDate})}}function ie(){const n=e.period.organization;e.organization=n==null?void 0:n.name}function de(){var n,t,u,i,r,k,E;if(Y.value||j.value||H.value||W.value||q.value||z.value||$.value||G.value)return null;h.dispatch("Appointment/bookAppointments",{scheduleOn:e.bookingDate,doctorFees:(n=e.doctorDetail)==null?void 0:n.fees,hospitalFees:e.hospitalFees,commission:e.commission,discount:e.discount,gst:e.gst,type:(t=e.cmode)==null?void 0:t.id,appointmentFor:(u=e.appointmentFor)==null?void 0:u.id,mode:"NEW",scheduleType:"REGULAR",lockerStatus:e.lockerStatus,note:null,bookingFrom:null,bookingTo:null,doctorReference:null,collectionAt:null,franchiseId:null,laboratoryId:null,ambulanceId:null,doctorDetailId:(i=e.doctorDetail)==null?void 0:i.id,slotId:null,patientDetail:{firstName:e.firstName,lastName:e.lastName,gender:(r=e.gender)==null?void 0:r.id,group:(k=e.group)==null?void 0:k.id,dob:e.dob,address:e.address,mobile:e.mobile},organizationId:(E=e.period)==null?void 0:E.organizationId,patientDetailId:null,pid:null,labtest:[],appointmentId:null}),e.cModal=!1}function se(){e.limit=e.limit+e.limit,A()}function re(n){n.length>2?A(e.limit,0,n,e.status):n.length<=0&&A()}function V(){var n,t,u,i,r;h.dispatch("Appointment/getAppointment",{limit:e.limit,offset:e.offset,keyword:e.keyword,status:(n=e.status)==null?void 0:n.id,type:(t=e.type)==null?void 0:t.id,fromDate:e.fromDate,toDate:e.toDate,mode:(u=e.mode)==null?void 0:u.id,scheduleType:(i=e.scheduleType)==null?void 0:i.id,appointmentFor:(r=e.appointmentFor)==null?void 0:r.id})}function ue(n,t){le.push({path:n,query:{id:t}})}function P(n){if(n){const t=new Date(n).toString().split(" ");return t[2]+" "+t[1]+", "+t[3]}return"-"}function me(){return L().format("YYYY-MM-DD")}function pe(n,t){e.statusModal=!0,e.id=n,e.statusChange=t}function ce(){e.id&&h.dispatch("Appointment/setAppointmentStatus",{id:e.id,status:e.statusChange}),e.statusModal=!1}const Y=m(()=>{if(e.mobile){if(e.mobile.length<10||e.mobile.length>15)return"Invalid Username!"}else return"Login mobile no required!"}),j=m(()=>{if(!e.firstName)return"First Name required."}),G=m(()=>{if(!e.lastName)return"Last Name required."}),H=m(()=>{const n=/^([\w\.\+]{1,})([^\W])(@)([\w]{1,})(\.[\w]{1,})+$/;if(e.email&&!n.test(e.email))return"Invalid email address!"}),W=m(()=>{if(!e.dob)return"Dob required!"}),q=m(()=>{if(e.address){if(e.address.length<3)return"Enter Valid Location!"}else return"Location required!"}),z=m(()=>{if(!e.doctorDetail.id)return"Doctor required."}),$=m(()=>{if(!e.lockerStatus)return"Locker required."});return(n,t)=>{const u=p("hero-bar"),i=p("control"),r=p("main-section"),k=p("base-button"),E=p("base-buttons"),be=p("new-card"),fe=p("card-component"),J=p("modal-box"),s=p("field"),ge=p("search-select");return c(),C("section",null,[a(u,null,{default:d(()=>[g("Appointment")]),_:1}),a(r,null,{default:d(()=>[o("div",Ae,[a(i,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=l=>e.search=l),onKeyup:t[1]||(t[1]=l=>re(l.target.value)),type:"text",placeholder:"Search "},null,8,["modelValue"]),a(i,{modelValue:e.fromDate,"onUpdate:modelValue":t[2]||(t[2]=l=>e.fromDate=l),onChange:V,type:"date"},null,8,["modelValue"]),a(i,{modelValue:e.toDate,"onUpdate:modelValue":t[3]||(t[3]=l=>e.toDate=l),onChange:V,type:"date"},null,8,["modelValue"]),a(i,{modelValue:e.type,"onUpdate:modelValue":t[4]||(t[4]=l=>e.type=l),options:I,onChange:V},null,8,["modelValue"]),a(i,{modelValue:e.status,"onUpdate:modelValue":t[5]||(t[5]=l=>e.status=l),options:M,onChange:V},null,8,["modelValue"]),a(i,{modelValue:e.mode,"onUpdate:modelValue":t[6]||(t[6]=l=>e.mode=l),options:F,onChange:V},null,8,["modelValue"]),a(i,{modelValue:e.scheduleType,"onUpdate:modelValue":t[7]||(t[7]=l=>e.scheduleType=l),options:R,onChange:V},null,8,["modelValue"]),a(i,{modelValue:e.appointmentFor,"onUpdate:modelValue":t[8]||(t[8]=l=>e.appointmentFor=l),options:O,onChange:V},null,8,["modelValue"])])]),_:1}),a(r,null,{default:d(()=>[o("div",_e,[a(fe,{title:"Bookings (Total: "+f.value.total+")",onHeaderIconClicked:t[9]||(t[9]=l=>ae()),headerIcon:S(Ee),iconText:"Add New Booking","has-table":""},{default:d(()=>[o("div",Oe,[f.value.data.length>0?(c(),C("table",Te,[Se,o("tbody",null,[(c(!0),C(De,null,Ve(f.value.data,(l,K)=>{var Q,X,Z,ee,te;return c(),C("tr",{key:K},[o("td",Ue,b(K+1),1),o("td",Ie,b((Q=l.doctorDetail)==null?void 0:Q.name),1),o("td",Me,b((X=l.doctorDetail)==null?void 0:X.mobile),1),o("td",Fe,b((Z=l.patientDetail)==null?void 0:Z.firstName)+" "+b((ee=l.patientDetail)==null?void 0:ee.lastName),1),o("td",Re,b((te=l.patientDetail)==null?void 0:te.mobile),1),o("td",xe,b(P(l.scheduleOn)),1),o("td",we,b(P(l.createdAt)),1),o("td",Be,b(l.status),1),o("td",Pe,b(l.type),1),o("td",Ye,[a(E,{type:"justify-start lg:justify-center","no-wrap":""},{default:d(()=>[a(k,{color:"info",title:"View",icon:S(ve),small:"",rounded:"",onClick:N(he=>ue("/appointment/viewappointment",l.id),["prevent"])},null,8,["icon","onClick"]),a(k,{type:"button",title:"Change Status",color:"purple",icon:S(Ce),small:"",rounded:"",onClick:N(he=>pe(l.id,l.status),["prevent"])},null,8,["icon","onClick"])]),_:2},1024)])])}),128))])])):v("",!0)]),f.value.data.length<=0?(c(),_(be,{key:0,empty:""})):v("",!0)]),_:1},8,["title","headerIcon"])]),f.value.dataLoader?(c(),C("div",je,He)):v("",!0),f.value.loadMore&&!f.value.dataLoader?(c(),_(E,{key:1,type:"justify-center lg:justify-center"},{default:d(()=>[a(k,{type:"button",color:"info",label:"Load More",onClick:t[10]||(t[10]=N(l=>se(),["prevent"]))})]),_:1})):v("",!0)]),_:1}),a(J,{modelValue:e.statusModal,"onUpdate:modelValue":t[17]||(t[17]=l=>e.statusModal=l),title:"Appointment status"},{default:d(()=>[e.id?(c(),C("section",We,[o("div",qe,[o("div",ze,[o("label",$e,[y(o("input",{class:"form-check-input ml-2",type:"radio",name:"inlineRadioOptions","onUpdate:modelValue":t[11]||(t[11]=l=>e.statusChange=l),value:"PENDING"},null,512),[[D,e.statusChange]]),g(" PENDING ")])]),o("div",Je,[o("label",Ke,[y(o("input",{class:"form-check-input ml-2",type:"radio",name:"inlineRadioOptions","onUpdate:modelValue":t[12]||(t[12]=l=>e.statusChange=l),value:"START"},null,512),[[D,e.statusChange]]),g(" START ")])]),o("div",Qe,[o("label",Xe,[y(o("input",{class:"form-check-input ml-2",type:"radio",name:"inlineRadioOptions","onUpdate:modelValue":t[13]||(t[13]=l=>e.statusChange=l),value:"COMPLETED"},null,512),[[D,e.statusChange]]),g(" COMPLETED")])]),o("div",Ze,[o("label",et,[y(o("input",{class:"form-check-input ml-2",type:"radio",name:"inlineRadioOptions","onUpdate:modelValue":t[14]||(t[14]=l=>e.statusChange=l),value:"REJECTED"},null,512),[[D,e.statusChange]]),g(" REJECTED")])]),o("div",tt,[o("label",lt,[y(o("input",{class:"form-check-input ml-2",type:"radio",name:"inlineRadioOptions","onUpdate:modelValue":t[15]||(t[15]=l=>e.statusChange=l),value:"CANCELLED"},null,512),[[D,e.statusChange]]),g(" CANCELLED")])]),o("div",ot,[o("label",at,[y(o("input",{class:"form-check-input ml-2",type:"radio",name:"inlineRadioOptions","onUpdate:modelValue":t[16]||(t[16]=l=>e.statusChange=l),value:"DELETED"},null,512),[[D,e.statusChange]]),g(" DELETED")])])]),a(E,{type:"justify-center lg:justify-center pt-5"},{default:d(()=>[f.value.loaderNew?v("",!0):(c(),_(k,{key:0,type:"button",color:"info",small:"",label:"Change Status",onClick:N(ce,["prevent"])}))]),_:1})])):v("",!0)]),_:1},8,["modelValue"]),a(J,{modelValue:e.cModal,"onUpdate:modelValue":t[41]||(t[41]=l=>e.cModal=l),width:"w-3/5",title:"New Appointment Booking"},{default:d(()=>[o("section",nt,[o("div",it,[a(s,{label:"Mobile Number *",help:Y.value},{default:d(()=>[a(i,{modelValue:e.mobile,"onUpdate:modelValue":t[18]||(t[18]=l=>e.mobile=l),type:"text",name:"username",placeholder:"Enter Login Id",autocomplete:"Username",onKeypress:t[19]||(t[19]=l=>n.isNumber(l))},null,8,["modelValue"])]),_:1},8,["help"]),a(s,{label:"First Name *",help:j.value},{default:d(()=>[a(i,{modelValue:e.firstName,"onUpdate:modelValue":t[20]||(t[20]=l=>e.firstName=l),type:"text",name:"name",autocomplete:"Name",placeholder:"Enter First Name",onKeypress:t[21]||(t[21]=l=>n.isLetterWithSpace(l))},null,8,["modelValue"])]),_:1},8,["help"]),a(s,{label:"Last Name *",help:G.value},{default:d(()=>[a(i,{modelValue:e.lastName,"onUpdate:modelValue":t[22]||(t[22]=l=>e.lastName=l),type:"text",name:"name",autocomplete:"Name",placeholder:"Enter last Name",onKeypress:t[23]||(t[23]=l=>n.isLetterWithSpace(l))},null,8,["modelValue"])]),_:1},8,["help"]),a(s,{label:"Email",help:H.value},{default:d(()=>[a(i,{modelValue:e.email,"onUpdate:modelValue":t[24]||(t[24]=l=>e.email=l),type:"text",name:"email",autocomplete:"email",placeholder:"Enter Email"},null,8,["modelValue"])]),_:1},8,["help"])]),o("div",dt,[a(s,{label:"Gender *"},{default:d(()=>[a(i,{modelValue:e.gender,"onUpdate:modelValue":t[25]||(t[25]=l=>e.gender=l),options:x},null,8,["modelValue"])]),_:1}),a(s,{label:"Dob *",help:W.value},{default:d(()=>[a(i,{modelValue:e.dob,"onUpdate:modelValue":t[26]||(t[26]=l=>e.dob=l),type:"date",name:"age",placeholder:"Enter Dob"},null,8,["modelValue"])]),_:1},8,["help"]),a(s,{label:"Blood Group"},{default:d(()=>[a(i,{modelValue:e.group,"onUpdate:modelValue":t[27]||(t[27]=l=>e.group=l),options:B},null,8,["modelValue"])]),_:1}),a(s,{label:"Locker Status ",help:$.value},{default:d(()=>[o("div",st,[o("div",rt,[o("label",ut,[y(o("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions","onUpdate:modelValue":t[28]||(t[28]=l=>e.lockerStatus=l),value:"YES"},null,512),[[D,e.lockerStatus]]),g(" Yes ")])]),o("div",mt,[o("label",pt,[y(o("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions","onUpdate:modelValue":t[29]||(t[29]=l=>e.lockerStatus=l),value:"NO"},null,512),[[D,e.lockerStatus]]),g(" No ")])])])]),_:1},8,["help"])]),o("div",ct,[a(s,{label:"Location *",help:q.value},{default:d(()=>[a(i,{modelValue:e.address,"onUpdate:modelValue":t[30]||(t[30]=l=>e.address=l),type:"text",name:"location",placeholder:"Enter Location",autocomplete:"location"},null,8,["modelValue"])]),_:1},8,["help"]),a(s,{label:"Booking Date *"},{default:d(()=>[a(i,{modelValue:e.bookingDate,"onUpdate:modelValue":t[31]||(t[31]=l=>e.bookingDate=l),type:"date",name:"bookingDate",min:me(),onChange:t[32]||(t[32]=l=>T(e.doctorDetail.id))},null,8,["modelValue","min"])]),_:1}),a(s,{label:"Appointment For *"},{default:d(()=>[a(i,{modelValue:e.appointmentFor,"onUpdate:modelValue":t[33]||(t[33]=l=>e.appointmentFor=l),options:O,name:"title"},null,8,["modelValue"])]),_:1}),a(s,{label:"Appointment Type *"},{default:d(()=>[a(i,{modelValue:e.cmode,"onUpdate:modelValue":t[34]||(t[34]=l=>e.cmode=l),options:w,onChange:t[35]||(t[35]=l=>T(e.doctorDetail.id))},null,8,["modelValue"])]),_:1})]),o("div",bt,[a(s,{label:"Doctor *",help:z.value},{default:d(()=>[a(ge,{modelValue:e.doctorDetail,"onUpdate:modelValue":t[36]||(t[36]=l=>e.doctorDetail=l),options:U.value.data,onOnType:t[37]||(t[37]=l=>ne(l)),onClick:t[38]||(t[38]=l=>T(e.doctorDetail.id))},null,8,["modelValue","options"])]),_:1},8,["help"]),a(s,{label:"Period"},{default:d(()=>[a(i,{modelValue:e.period,"onUpdate:modelValue":t[39]||(t[39]=l=>e.period=l),options:U.value.periodOptions,onChange:ie},null,8,["modelValue","options"])]),_:1}),a(s,{label:"Clinic / Hospital"},{default:d(()=>[a(i,{modelValue:e.organization,"onUpdate:modelValue":t[40]||(t[40]=l=>e.organization=l),type:"text",name:"Hospital",placeholder:"Hospital",autocomplete:"Title",disabled:""},null,8,["modelValue"])]),_:1})]),a(E,{type:"justify-center lg:justify-center pt-5"},{default:d(()=>[f.value.loaderNew?v("",!0):(c(),_(k,{key:0,type:"button",color:"themeColor",small:"",label:"Submit",onClick:N(de,["prevent"])}))]),_:1})])]),_:1},8,["modelValue"])])}}};export{Vt as default};
