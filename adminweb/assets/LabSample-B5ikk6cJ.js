import{e as w,c as P,z as J,j as r,k as i,l as u,m as o,A as n,B as k,y as l,q as C,M as K,H as f,u as M,F as G,I as Q,E as A,x as p,t as V,J as E}from"./@vue-bQO0P59g.js";import{C as W,E as X,S as Y}from"./@mdi-CZk6uuAL.js";import{u as Z}from"./vuex-DHdsu8jA.js";import{u as ee}from"./vue-router-D5J0r3Gc.js";import"./export-from-json-BvevaQwb.js";const te={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},le=l("option",{value:!0},"Active",-1),ae=l("option",{value:!1},"Inactive",-1),oe=[le,ae],se={class:"grid grid-cols-1 lg:grid-cols-1 gap-6 new-table"},ne={class:"mt-3 px-6 table-sec"},ie={key:0},de=l("thead",null,[l("tr",null,[l("th",null,"Sl.No."),l("th",null,"Name"),l("th",null,"Status"),l("th",{class:"text-center"},"Actions")])],-1),ue={"data-label":"Sr.No"},re={"data-label":"Name"},ce={key:0,"data-label":"Status",class:"text-green-500 font-bold"},me={key:1,"data-label":"Status",class:"text-rose-500 font-bold"},fe={class:"actions-cell"},pe={key:0,class:"flex justify-center items-center"},ge=l("div",{class:"spinner-dual-ring"},[l("div",{class:"ldio"},[l("div"),l("div",null,[l("div")])])],-1),be=[ge],_e={key:0},he={class:"flex justify-center"},ye={class:"form-check flex items-center"},ve={class:"form-check-label inline-block items-center text-gray-800 cursor-pointer dark:text-slate-300 mr-2"},ke={class:"form-check form-check-inline"},Ce={class:"form-check-label inline-block items-center text-gray-800 cursor-pointer dark:text-slate-300 mr-2"},Me={class:"h-48 cursor-pointer relative flex justify-center items-center border-2 rounded-md bg-gray-200"},Ve={class:"absolute flex justify-center items-center gap-2"},Se=["src"],xe={key:1,class:"text-center text-neutral-400 font-bold"},Ue={__name:"LabSample",setup(Le){const c=Z();ee();const d=w(()=>c.state.LabSample),e=P({submit:!1,limit:10,offset:0,search:"",status:!0,statusChange:!0,editMode:!1,cModal:!1,id:null,name:null,statusModal:!1,imgModal:!1,logoImage:null,logoFile:null,featured:!0});J(()=>{g(e.limit,e.offset,e.search,e.status)});function g(s,t,m,b){c.dispatch("LabSample/all",{limit:s,offset:t,search:m,status:b})}function U(){e.offset=e.offset+e.limit,g(e.limit,e.offset,e.search,e.status)}function N(){if(e.search){let s=d.value.data.filter(t=>t.label.includes(e.search));d.value.data=s}}function T(s){if(s.length>1){let t=d.value.data.filter(m=>m.label.includes(s));d.value.data=t}else s.length<=0&&g(e.limit,e.offset,e.search,e.status)}function R(){g(e.limit,0,e.search,e.statusChange)}function D(){e.cModal=!0,e.editMode=!1,e.id=null,e.name=null,e.name_hn=null,e.name_bn=null}function F(s,t){e.cModal=!0,e.editMode=!0,e.id=s,e.name=t}async function $(){if(y.value)return e.submit=!0,null;e.submit=!1,e.editMode?(await c.dispatch("LabSample/update",{id:e.id,label:e.name,status:"ACTIVE"}),e.cModal=!1):(await c.dispatch("LabSample/save",{label:e.name,status:"ACTIVE"}),e.cModal=!1),g(e.limit,e.offset,e.search,e.status),e.cModal=!1}function B(s,t){e.statusModal=!0,e.id=s,e.status=t,e.featured=t}function z(){e.id&&c.dispatch("LabSample/setStatus",{id:e.id,status:e.status,featured:e.featured}),e.statusModal=!1}async function q(s){if(s){const t=await s.target;if(t.files[0].type==="image/png"||t.files[0].type==="image/jpg"||t.files[0].type==="image/jpeg")if(t.files[0].size<=1e6){if(t.files){const m=new FileReader;m.onload=b=>{e.logoImage=b.target.result},e.logoFile=t.files[0],m.readAsDataURL(t.files[0])}}else c.dispatch("Alert/error",{msg:"Image too big (max 1 Mb allowed)"});else c.dispatch("Alert/error",{msg:"Upload image in png format."})}}function H(){e.logoFile&&c.dispatch("LabSample/updateLogo",{id:e.id,file:e.logoFile}),g(e.limit,e.offset,e.search,e.status),e.imgModal=!1}const y=w(()=>e.name?null:"Required.");return(s,t)=>{const m=r("hero-bar"),b=r("control"),S=r("field"),_=r("base-button"),x=r("main-section"),L=r("base-button-rounded"),h=r("base-buttons"),I=r("card-component"),v=r("modal-box");return i(),u("section",null,[o(m,null,{default:n(()=>[k("Lab Sample")]),_:1}),o(x,null,{default:n(()=>[l("div",te,[o(b,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=a=>e.search=a),type:"text",onKeyup:t[1]||(t[1]=a=>T(a.target.value)),placeholder:"Search by : Name"},null,8,["modelValue"]),o(S,null,{default:n(()=>[C(l("select",{"onUpdate:modelValue":t[2]||(t[2]=a=>e.statusChange=a),onChange:t[3]||(t[3]=a=>R()),class:"form-select appearance-none block w-full px-3 py-2 h-10 text-base font-normal text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-dark-700 focus:bg-white focus:border-blue-600 focus:outline-none"},oe,544),[[K,e.statusChange]])]),_:1}),o(_,{class:"h-10",type:"button",color:"themeColor",small:"",label:"Search",onClick:t[4]||(t[4]=f(a=>N(),["prevent"]))})])]),_:1}),o(x,null,{default:n(()=>[l("div",se,[o(I,{class:"mb-6",title:"List",onHeaderIconClicked:t[5]||(t[5]=a=>D()),headerIcon:M(W),iconText:"Add Sample","has-table":""},{default:n(()=>[l("div",ne,[d.value.data.length>0?(i(),u("table",ie,[de,l("tbody",null,[(i(!0),u(G,null,Q(d.value.data,(a,j)=>(i(),u("tr",{key:j},[l("td",ue,A(j+1),1),l("td",re,A(a.label),1),a.status=="ACTIVE"?(i(),u("td",ce,"Active")):(i(),u("td",me,"Inactive")),l("td",fe,[o(h,{type:"justify-start lg:justify-center","no-wrap":""},{default:n(()=>[o(L,{icon:M(X),title:"Change Status",color:"info",onClick:f(O=>B(a.id,a.status),["prevent"]),small:"",rounded:""},null,8,["icon","onClick"]),o(L,{icon:M(Y),title:"Edit Lab Sample",color:"purple",onClick:f(O=>F(a.id,a.label),["prevent"]),small:"",rounded:""},null,8,["icon","onClick"])]),_:2},1024)])]))),128))])])):p("",!0)]),d.value.data.length<=0?(i(),V(I,{key:0,empty:""})):p("",!0)]),_:1},8,["headerIcon"])]),d.value.dataLoader?(i(),u("div",pe,be)):p("",!0),d.value.loadMore&&!d.value.dataLoader?(i(),V(h,{key:1,type:"justify-center lg:justify-center"},{default:n(()=>[o(_,{type:"button",color:"themeColor",label:"Load More",onClick:t[6]||(t[6]=f(a=>U(),["prevent"]))})]),_:1})):p("",!0)]),_:1}),o(v,{modelValue:e.cModal,"onUpdate:modelValue":t[8]||(t[8]=a=>e.cModal=a),title:e.editMode?"Update Sample":"Add Sample"},{default:n(()=>[l("section",null,[o(S,{label:"Name *",class:"mr-2",help:e.submit&&y.value?y.value:""},{default:n(()=>[o(b,{modelValue:e.name,"onUpdate:modelValue":t[7]||(t[7]=a=>e.name=a),type:"text",name:"name",autocomplete:"Name",placeholder:"Reference Name"},null,8,["modelValue"])]),_:1},8,["help"]),o(h,{type:"justify-center lg:justify-center pt-5"},{default:n(()=>[o(_,{type:"button",color:"themeColor",small:"",label:"Submit",onClick:f($,["prevent"]),effect:""})]),_:1})])]),_:1},8,["modelValue","title"]),o(v,{modelValue:e.statusModal,"onUpdate:modelValue":t[11]||(t[11]=a=>e.statusModal=a),title:"Sample Status"},{default:n(()=>[e.id?(i(),u("section",_e,[l("div",he,[l("div",ye,[l("label",ve,[C(l("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions","onUpdate:modelValue":t[9]||(t[9]=a=>e.status=a),value:"ACTIVE"},null,512),[[E,e.status]]),k(" ACTIVE")])]),l("div",ke,[l("label",Ce,[C(l("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions","onUpdate:modelValue":t[10]||(t[10]=a=>e.status=a),value:"DEACTIVE"},null,512),[[E,e.status]]),k(" DEACTIVE")])])]),o(h,{type:"justify-center lg:justify-center pt-5"},{default:n(()=>[d.value.loaderNew?p("",!0):(i(),V(_,{key:0,color:"info",onClick:f(z,["prevent"]),type:"button",label:"Submit",effect:""}))]),_:1})])):p("",!0)]),_:1},8,["modelValue"]),o(v,{modelValue:e.imgModal,"onUpdate:modelValue":t[14]||(t[14]=a=>e.imgModal=a),title:"Update Logo"},{default:n(()=>[l("section",null,[l("div",Me,[l("input",{type:"file",name:"logo",accept:"image/png || image/jpg || image/jpeg",onChange:t[12]||(t[12]=a=>q(a)),class:"z-20 opacity-0 cursor-pointer h-full w-full"},null,32),l("div",Ve,[e.logoImage?(i(),u("img",{key:0,class:"h-48 opacity-1",src:e.logoImage},null,8,Se)):p("",!0),e.logoImage?p("",!0):(i(),u("span",xe,"Upload Logo"))])]),o(h,{type:"justify-center lg:justify-center pt-5"},{default:n(()=>[o(_,{type:"button",color:"danger",small:"",label:"Upload",onClick:f(H,["prevent"])}),o(_,{type:"button",color:"info",small:"",label:"Cancel",onClick:t[13]||(t[13]=f(a=>e.imgModal=!1,["prevent"]))})]),_:1})])]),_:1},8,["modelValue"])])}}};export{Ue as default};
