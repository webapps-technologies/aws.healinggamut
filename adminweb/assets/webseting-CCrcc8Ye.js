import{e as b,c as B,z as q,j as m,k as d,l as u,m as o,A as n,H as _,B as z,y as a,F as $,I as W,E as p,x as f,u as G,t as j,q as D,J as I}from"./@vue-bQO0P59g.js";import{G as O}from"./@mdi-CZk6uuAL.js";import{u as P}from"./vuex-DHdsu8jA.js";import{u as H}from"./vue-router-D5J0r3Gc.js";const J={class:"grid grid-cols-1 lg:grid-cols-1 gap-6 new-table"},K={class:"mt-3 table-sec"},Z={key:0},Q=a("thead",{class:"bg-white dark:bg-gray-900/80 dark:backdrop-blur-md"},[a("tr",null,[a("th",null,"Sl.No."),a("th",null,"Title"),a("th",null,"mobile_domain"),a("th",null,"user_domain"),a("th",null,"admin_domain"),a("th",null,"Status"),a("th",{class:"text-center"},"Action")])],-1),X={"data-label":"Sr.No"},Y={"data-label":"title"},ee={"data-label":"Mobile Domain"},te={"data-label":"User Domain"},le={"data-label":"Admin Domain"},ae={key:0,"data-label":"Status",class:"text-green-500 font-bold text-sm"},oe={key:1,"data-label":"Status",class:"text-yellow-500 font-bold text-sm"},ne={class:"actions-cell"},ie={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},se={key:0},de={class:"flex justify-center"},ue={class:"form-check form-check-inline"},re=a("label",{class:"form-check-label inline-block text-gray-800 dark:text-slate-300 mr-2",for:"inlineRadio10"},"Active",-1),me={class:"form-check form-check-inline"},ce=a("label",{class:"form-check-label inline-block text-gray-800 dark:text-slate-300 mr-2",for:"inlineRadio20"},"Deactive",-1),pe={class:"h-48 cursor-pointer relative flex justify-center items-center border-2 rounded-md bg-gray-200"},fe={class:"absolute flex justify-center items-center gap-2"},ge=["src"],_e={key:1,class:"text-center text-neutral-400 font-bold"},Se={__name:"webseting",setup(be){const c=P();H();const h=b(()=>c.state.Setting),e=B({limit:10,offset:0,search:"",status:"ACTIVE",statusChange:"ACTIVE",maintenance:!0,imgModal:!1,id:null,logoImage:null,logoFile:null,wsuModal:!1,statusModal:!1,title:null,mobile_domain:null,user_domain:null,admin_domain:null,submit:!1});q(()=>{M(e.limit,e.offset,e.search,e.status)});async function M(i,t,r,s){await c.dispatch("Setting/getSetting",{limit:i,offset:t,search:r,status:s})}function A(){e.id&&c.dispatch("Setting/setWebStatus",{id:e.id,status:e.status}),e.statusModal=!1}async function E(i){if(i){const t=await i.target;if(t.files[0].type==="image/png"||t.files[0].type==="image/jpg"||t.files[0].type==="image/jpeg")if(t.files[0].size<=1e6){if(t.files){const r=new FileReader;r.onload=s=>{e.logoImage=s.target.result},e.logoFile=t.files[0],r.readAsDataURL(t.files[0])}}else c.dispatch("ErrorSuccess/error",{msg:"Image too big (max 1 Mb allowed)"});else c.dispatch("ErrorSuccess/error",{msg:"Upload image in png format."})}}function T(){e.logoFile&&c.dispatch("Setting/updateLogo",{id:e.id,file:e.logoFile}),e.imgModal=!1}function N(i,t,r,s,g,w){e.wsuModal=!0,e.id=i,e.title=t,e.mobile_domain=r,e.user_domain=s,e.admin_domain=g,e.status=w}async function L(){if(V.value||k.value||S.value||x.value){e.submit=!0;return}e.submit=!1,await c.dispatch("Setting/updateSetting",{id:e.id,title:e.title,mobile_domain:e.mobile_domain,user_domain:e.user_domain,admin_domain:e.admin_domain,status:e.status}),M(e.limit,e.offset,e.search,e.status),e.wsuModal=!1}const V=b(()=>e.title?null:"This filed required."),k=b(()=>e.mobile_domain?null:"This filed required."),S=b(()=>e.user_domain?null:"This filed required."),x=b(()=>e.admin_domain?null:"This filed required.");function R(i){let t=String.fromCharCode(i.keyCode);if(/^[a-zA-Z ]+$/.test(t))return!0;i.preventDefault()}return(i,t)=>{const r=m("hero-bar"),s=m("base-button"),g=m("base-buttons"),w=m("new-card"),F=m("main-section"),y=m("control"),v=m("field"),C=m("modal-box");return d(),u("section",null,[o(r,null,{default:n(()=>[z("Setting")]),_:1}),o(F,null,{default:n(()=>[a("div",J,[o(w,{class:"mb-6",title:" ","has-table":""},{default:n(()=>[a("div",K,[h.value.data.length>0?(d(),u("table",Z,[Q,a("tbody",null,[(d(!0),u($,null,W(h.value.data,(l,U)=>(d(),u("tr",{key:U},[a("td",X,p(U+1),1),a("td",Y,p(l.title),1),a("td",ee,p(l.mobile_domain),1),a("td",te,p(l.user_domain),1),a("td",le,p(l.admin_domain),1),l.status=="ACTIVE"?(d(),u("td",ae,p(l.status),1)):l.status=="PENDING"?(d(),u("td",oe,p(l.status),1)):f("",!0),a("td",ne,[o(g,{type:"justify-center lg:justify-center","no-wrap":""},{default:n(()=>[o(s,{color:"thDark",icon:G(O),title:"Edit Setting",rounded:"",onClick:_(he=>N(l.id,l.title,l.mobile_domain,l.user_domain,l.admin_domain,l.status),["prevent"])},null,8,["icon","onClick"])]),_:2},1024)])]))),128))])])):f("",!0)])]),_:1})])]),_:1}),o(C,{modelValue:e.wsuModal,"onUpdate:modelValue":t[5]||(t[5]=l=>e.wsuModal=l),title:"Update Setting",form:"",onSubmit:t[6]||(t[6]=_(l=>i.onSubmit(),["prevent"])),width:"w-3/5"},{default:n(()=>[a("section",null,[a("div",ie,[o(v,{label:"Title *",help:e.submit&&V.value?V.value:""},{default:n(()=>[o(y,{modelValue:e.title,"onUpdate:modelValue":t[0]||(t[0]=l=>e.title=l),type:"text",onKeypress:t[1]||(t[1]=l=>R(l)),name:"title",autocomplete:"title",maxlength:"50"},null,8,["modelValue"])]),_:1},8,["help"]),o(v,{label:"Mobile Domain *",help:e.submit&&k.value?k.value:""},{default:n(()=>[o(y,{modelValue:e.mobile_domain,"onUpdate:modelValue":t[2]||(t[2]=l=>e.mobile_domain=l),type:"text",name:"mobile_domain",autocomplete:"mobile domain",maxlength:"50"},null,8,["modelValue"])]),_:1},8,["help"]),o(v,{label:"User Domain *",help:e.submit&&S.value?S.value:""},{default:n(()=>[o(y,{modelValue:e.user_domain,"onUpdate:modelValue":t[3]||(t[3]=l=>e.user_domain=l),type:"text",name:"user_domain",autocomplete:"user domain",maxlength:"50"},null,8,["modelValue"])]),_:1},8,["help"]),o(v,{label:"Admin Domain *",help:e.submit&&x.value?x.value:""},{default:n(()=>[o(y,{modelValue:e.admin_domain,"onUpdate:modelValue":t[4]||(t[4]=l=>e.admin_domain=l),type:"text",name:"admin_domain",autocomplete:"admin domain",maxlength:"50"},null,8,["modelValue"])]),_:1},8,["help"])]),o(g,{type:"justify-center lg:justify-center pt-5"},{default:n(()=>[h.value.loaderNew?f("",!0):(d(),j(s,{key:0,type:"button",color:"themeColor",small:"",label:"Submit",onClick:_(L,["prevent"])}))]),_:1})])]),_:1},8,["modelValue"]),o(C,{modelValue:e.statusModal,"onUpdate:modelValue":t[9]||(t[9]=l=>e.statusModal=l),title:"Web Setting Status"},{default:n(()=>[e.id?(d(),u("section",se,[a("div",de,[a("div",ue,[D(a("input",{class:"form-check-input mr-2",type:"radio",name:"inlineRadioOptions","onUpdate:modelValue":t[7]||(t[7]=l=>e.status=l),value:"ACTIVE"},null,512),[[I,e.status]]),re]),a("div",me,[D(a("input",{class:"form-check-input mr-2",type:"radio",name:"inlineRadioOptions","onUpdate:modelValue":t[8]||(t[8]=l=>e.status=l),value:"DEACTIVE"},null,512),[[I,e.status]]),ce])]),o(g,{type:"justify-center lg:justify-center pt-5"},{default:n(()=>[h.value.loaderNew?f("",!0):(d(),j(s,{key:0,type:"button",color:"info",small:"",label:"Change Status",onClick:_(A,["prevent"])}))]),_:1})])):f("",!0)]),_:1},8,["modelValue"]),o(C,{modelValue:e.imgModal,"onUpdate:modelValue":t[12]||(t[12]=l=>e.imgModal=l),title:"Update Logo"},{default:n(()=>[a("section",null,[a("div",pe,[a("input",{type:"file",name:"logo",accept:"image/png || image/jpg || image/jpeg",onChange:t[10]||(t[10]=l=>E(l)),class:"z-20 opacity-0 cursor-pointer h-full w-full"},null,32),a("div",fe,[e.logoImage?(d(),u("img",{key:0,class:"h-48 opacity-1",src:e.logoImage},null,8,ge)):f("",!0),e.logoImage?f("",!0):(d(),u("span",_e,"Upload Logo"))])]),o(g,{type:"justify-center lg:justify-center pt-5"},{default:n(()=>[o(s,{type:"button",color:"danger",small:"",label:"Upload",onClick:_(T,["prevent"])}),o(s,{type:"button",color:"info",small:"",label:"Cancel",onClick:t[11]||(t[11]=_(l=>e.imgModal=!1,["prevent"]))})]),_:1})])]),_:1},8,["modelValue"])])}}};export{Se as default};
