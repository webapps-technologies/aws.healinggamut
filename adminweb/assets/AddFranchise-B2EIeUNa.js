import{e as i,c as F,j as n,k as v,l as $,m as a,A as r,y as b,H as h,t as _,x as N}from"./@vue-bQO0P59g.js";import"./moment-Cl4UOzQZ.js";import{u as E}from"./vue-router-D5J0r3Gc.js";import{u as D}from"./vuex-DHdsu8jA.js";const K={class:"grid grid-cols-1 lg:grid-cols-1"},R={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},T={class:"grid grid-cols-1 lg:grid-cols-1 gap-6"},M={__name:"AddFranchise",setup(U){const V=/^([\w\.\+]{1,})([^\W])(@)([\w]{1,})(\.[\w]{1,})+$/,g=D(),y=E(),t=i(()=>g.state.Franchise),u=F({finalSubmit:!1}),C=()=>{if(m.value||s.value||d.value){u.finalSubmit=!0;return}const o={name:t.value.name,phoneNumber:t.value.phoneNumber,emailId:t.value.emailId,type:"FRANCHISE"};g.dispatch("Franchise/addNewAccount",o)},s=i(()=>{if(t.value.phoneNumber){if(t.value.phoneNumber.length<10)return"Invalid mobile no!"}else return"Mobile no required!"}),m=i(()=>{if(!t.value.name)return"Name required!"}),d=i(()=>{if(!t.value.emailId||!V.test(t.value.emailId))return"Invalid email!"});function S(o){let e=String.fromCharCode(o.keyCode);if(/^[a-zA-Z ]+$/.test(e))return!0;o.preventDefault()}function k(o){let e=String.fromCharCode(o.keyCode);if(/^[a-zA-Z0-9@.]+$/.test(e))return!0;o.preventDefault()}function x(o){let e=String.fromCharCode(o.keyCode);if(/^[0-9]+$/.test(e))return!0;o.preventDefault()}function w(){y.go(-1)}return(o,e)=>{const p=n("control"),c=n("field"),f=n("base-button"),I=n("base-buttons"),A=n("new-card"),B=n("main-section");return v(),$("section",null,[a(B,null,{default:r(()=>[b("div",K,[a(A,{title:"Add Franchise",form:"",onSubmit:h(C,["prevent"])},{default:r(()=>[b("div",R,[a(c,{label:"Name *",help:u.finalSubmit&&m.value?m.value:""},{default:r(()=>[a(p,{modelValue:t.value.name,"onUpdate:modelValue":e[0]||(e[0]=l=>t.value.name=l),type:"text",name:"name",autocomplete:"Title",onKeypress:e[1]||(e[1]=l=>S(l)),maxlength:"50"},null,8,["modelValue"])]),_:1},8,["help"]),a(c,{label:"Phone Number *",help:u.finalSubmit&&s.value?s.value:""},{default:r(()=>[a(p,{modelValue:t.value.phoneNumber,"onUpdate:modelValue":e[2]||(e[2]=l=>t.value.phoneNumber=l),type:"text",name:"name",autocomplete:"Title",onKeypress:e[3]||(e[3]=l=>x(l)),maxlength:"10"},null,8,["modelValue"])]),_:1},8,["help"]),a(c,{label:"Email Id*",help:u.finalSubmit&&d.value?d.value:""},{default:r(()=>[a(p,{modelValue:t.value.emailId,"onUpdate:modelValue":e[4]||(e[4]=l=>t.value.emailId=l),type:"text",name:"email",autocomplete:"Title",onKeypress:e[5]||(e[5]=l=>k(l)),maxlength:"50"},null,8,["modelValue"])]),_:1},8,["help"])]),b("div",T,[a(I,null,{default:r(()=>[t.value.loaderNew?(v(),_(f,{key:0,color:"info",type:"button",label:"Wait...",disabled:""})):N("",!0),t.value.loaderNew?N("",!0):(v(),_(f,{key:1,color:"themeColor",type:"submit",label:"Submit",effect:""})),a(f,{color:"danger",label:"Back",onClick:e[6]||(e[6]=h(l=>w(),["prevent"]))})]),_:1})])]),_:1})])]),_:1})])}}};export{M as default};
