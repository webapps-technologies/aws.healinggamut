import{e as m,c as C,j as n,k as y,l as h,m as t,A as i,u as S,y as x,H as k}from"./@vue-bQO0P59g.js";import{a2 as E}from"./@mdi-CZk6uuAL.js";import{b as R}from"./vue-router-D5J0r3Gc.js";import{u as B}from"./vuex-DHdsu8jA.js";const w={class:"grid grid-cols-1 lg:grid-cols-1 gap-6"},H={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},A={__name:"commission",setup(N){const d=B();R();const e=m(()=>d.state.Hospital),l=C({finalSubmit:!1}),v=async()=>{if(r.value||u.value){l.finalSubmit=!0;return}const a={id:e.value.user.id,ratings:e.value.user.ratings,commission:e.value.user.commission};await d.dispatch("Hospital/updateCommission",a)},r=m(()=>{if(e.value.user.commission){if(e.value.user.commission>100)return"Enter Valid Commission!"}else return"Enter Commission!"}),u=m(()=>{if(e.value.user.ratings){if(e.value.user.ratings>5)return"Enter Valid Rating!"}else return"Enter Rating!"});function c(a){let o=String.fromCharCode(a.keyCode);if(/^[0-9]+$/.test(o))return!0;a.preventDefault()}return(a,o)=>{const p=n("control"),f=n("field"),g=n("divider"),_=n("base-button"),b=n("base-buttons"),V=n("card-component");return y(),h("div",w,[t(V,{title:"Commission Detail",icon:S(E)},{default:i(()=>[x("div",H,[t(f,{label:"Commission",help:l.finalSubmit&&r.value?r.value:""},{default:i(()=>[t(p,{modelValue:e.value.user.commission,"onUpdate:modelValue":o[0]||(o[0]=s=>e.value.user.commission=s),type:"text",name:"Commission",onKeypress:o[1]||(o[1]=s=>c(s)),maxlength:"3"},null,8,["modelValue"])]),_:1},8,["help"]),t(f,{label:"Rating",help:l.finalSubmit&&u.value?u.value:""},{default:i(()=>[t(p,{modelValue:e.value.user.ratings,"onUpdate:modelValue":o[2]||(o[2]=s=>e.value.user.ratings=s),type:"text",name:"Rating",onKeypress:o[3]||(o[3]=s=>c(s)),maxlength:"1"},null,8,["modelValue"])]),_:1},8,["help"])]),t(g),t(b,null,{default:i(()=>[t(_,{color:"themeColor",type:"button",label:"Update",onClick:k(v,["prevent"])})]),_:1})]),_:1},8,["icon"])])}}};export{A as default};
