import{e as i,c as $,j as n,k as b,l as E,m as a,A as u,y as v,H as _,t as h,x as N}from"./@vue-bQO0P59g.js";import"./moment-Cl4UOzQZ.js";import{u as U}from"./vue-router-D5J0r3Gc.js";import{u as D}from"./vuex-DHdsu8jA.js";const K={class:"grid grid-cols-1 lg:grid-cols-1"},M={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},T={class:"grid grid-cols-1 lg:grid-cols-1 gap-6"},Z={__name:"AddAmbulance",setup(W){const V=/^([\w\.\+]{1,})([^\W])(@)([\w]{1,})(\.[\w]{1,})+$/,g=D(),y=U(),t=i(()=>g.state.Ambulance),r=$({finalSubmit:!1}),C=()=>{if(s.value||m.value||d.value){r.finalSubmit=!0;return}const o={name:t.value.name,phoneNumber:t.value.phoneNumber,emailId:t.value.emailId,type:"AMBULANCE"};g.dispatch("Ambulance/addNewAccount",o)},m=i(()=>{if(t.value.phoneNumber){if(t.value.phoneNumber.length<10)return"Invalid mobile no!"}else return"Mobile no required!"}),s=i(()=>{if(!t.value.name)return"Name required!"}),d=i(()=>{if(!t.value.emailId||!V.test(t.value.emailId))return"Invalid email!"});function S(o){let e=String.fromCharCode(o.keyCode);if(/^[a-zA-Z ]+$/.test(e))return!0;o.preventDefault()}function k(o){let e=String.fromCharCode(o.keyCode);if(/^[a-zA-Z0-9@.]+$/.test(e))return!0;o.preventDefault()}function A(o){let e=String.fromCharCode(o.keyCode);if(/^[0-9]+$/.test(e))return!0;o.preventDefault()}function x(){y.go(-1)}return(o,e)=>{const p=n("control"),c=n("field"),f=n("base-button"),w=n("base-buttons"),I=n("new-card"),B=n("main-section");return b(),E("section",null,[a(B,null,{default:u(()=>[v("div",K,[a(I,{title:"Add Ambulance",form:"",onSubmit:_(C,["prevent"])},{default:u(()=>[v("div",M,[a(c,{label:"Name *",help:r.finalSubmit&&s.value?s.value:""},{default:u(()=>[a(p,{modelValue:t.value.name,"onUpdate:modelValue":e[0]||(e[0]=l=>t.value.name=l),type:"text",name:"name",autocomplete:"Title",onKeypress:e[1]||(e[1]=l=>S(l)),maxlength:"50"},null,8,["modelValue"])]),_:1},8,["help"]),a(c,{label:"Phone Number *",help:r.finalSubmit&&m.value?m.value:""},{default:u(()=>[a(p,{modelValue:t.value.phoneNumber,"onUpdate:modelValue":e[2]||(e[2]=l=>t.value.phoneNumber=l),type:"text",name:"name",autocomplete:"Title",onKeypress:e[3]||(e[3]=l=>A(l)),maxlength:"10"},null,8,["modelValue"])]),_:1},8,["help"]),a(c,{label:"Email Id*",help:r.finalSubmit&&d.value?d.value:""},{default:u(()=>[a(p,{modelValue:t.value.emailId,"onUpdate:modelValue":e[4]||(e[4]=l=>t.value.emailId=l),type:"text",name:"email",autocomplete:"Title",onKeypress:e[5]||(e[5]=l=>k(l)),maxlength:"50"},null,8,["modelValue"])]),_:1},8,["help"])]),v("div",T,[a(w,null,{default:u(()=>[t.value.loaderNew?(b(),h(f,{key:0,color:"info",type:"button",label:"Wait...",disabled:""})):N("",!0),t.value.loaderNew?N("",!0):(b(),h(f,{key:1,color:"themeColor",type:"submit",label:"Submit",effect:""})),a(f,{color:"danger",label:"Back",onClick:e[6]||(e[6]=_(l=>x(),["prevent"]))})]),_:1})])]),_:1})])]),_:1})])}}};export{Z as default};
