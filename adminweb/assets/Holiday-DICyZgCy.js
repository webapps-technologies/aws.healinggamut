import{e as F,c as I,z as N,j as n,k as i,l as p,m as o,A as s,u as D,y as a,H as w,F as x,I as E,E as _,t as T,x as U}from"./@vue-bQO0P59g.js";import{Y as V,a8 as H}from"./@mdi-CZk6uuAL.js";import{h as r}from"./moment-Cl4UOzQZ.js";import{b as $}from"./vue-router-D5J0r3Gc.js";import{u as L}from"./vuex-DHdsu8jA.js";const R={class:"grid grid-cols-1 lg:grid-cols-1 gap-6 mt-5"},j={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},q={class:"grid grid-cols-2 lg:grid-cols-2 gap-4"},z={class:"grid grid-cols-1 lg:grid-cols-1 gap-4"},A=a("caption",null,null,-1),G=a("thead",null,[a("tr",null,[a("th",null,"Sl. No."),a("th",null,"From"),a("th",null,"To")])],-1),J={"data-label":"Sl. No."},K={"data-label":"From"},O={"data-label":"To"},te={__name:"Holiday",setup(P){const c=L(),k=$(),d=F(()=>c.state.Doctor),e=I({editMode:!1,holidaySubmit:!1,from:r().format("YYYY-MM-DD"),to:r().format("YYYY-MM-DD"),fromDate:r().subtract(1,"month").format("YYYY-MM-DD"),toDate:r().format("YYYY-MM-DD")}),y=()=>{f()},M=()=>{e.from&&e.to&&k.query.id&&c.dispatch("Doctor/blockSchedule",{leaveStartDate:e.from,leaveEndDate:e.to,id:d.value.user.id})};N(()=>{f()});const f=()=>{d.value.user.id&&e.fromDate&&e.toDate&&c.dispatch("Doctor/getSchedule",{id:d.value.user.id,fromDate:e.fromDate,toDate:e.toDate,mode:"Blocked"})},g=b=>r(b).format("DD MMM YYYY");return(b,t)=>{const m=n("control"),u=n("field"),v=n("divider"),S=n("base-button"),C=n("base-buttons"),Y=n("card-component"),B=n("new-card");return i(),p("div",R,[o(Y,{title:"Block Dates",icon:D(V)},{default:s(()=>[a("div",j,[o(u,{label:"From Date"},{default:s(()=>[o(m,{modelValue:e.from,"onUpdate:modelValue":t[0]||(t[0]=l=>e.from=l),type:"date",name:"from"},null,8,["modelValue"])]),_:1}),o(u,{label:"To Date"},{default:s(()=>[o(m,{modelValue:e.to,"onUpdate:modelValue":t[1]||(t[1]=l=>e.to=l),type:"date",name:"to"},null,8,["modelValue"])]),_:1})]),o(v),o(C,null,{default:s(()=>[o(S,{color:"themeColor",type:"button",label:"Submit",onClick:t[2]||(t[2]=w(l=>M(),["prevent"]))})]),_:1})]),_:1},8,["icon"]),o(Y,{title:"Block List",icon:D(V),headerIcon:D(H),onHeaderIconClicked:t[6]||(t[6]=l=>y())},{default:s(()=>[a("div",q,[o(u,{label:"From Date"},{default:s(()=>[o(m,{modelValue:e.fromDate,"onUpdate:modelValue":t[3]||(t[3]=l=>e.fromDate=l),type:"date",name:"fromDate"},null,8,["modelValue"])]),_:1}),o(u,{label:"To Date"},{default:s(()=>[o(m,{modelValue:e.toDate,"onUpdate:modelValue":t[4]||(t[4]=l=>e.toDate=l),type:"date",name:"toDate",onChange:t[5]||(t[5]=l=>f())},null,8,["modelValue"])]),_:1})]),a("div",z,[a("table",null,[A,G,a("tbody",null,[(i(!0),p(x,null,E(d.value.schedules,(l,h)=>(i(),p("tr",{key:h},[a("td",J,_(h+1),1),a("td",K,_(g(l.leaveStartDate)),1),a("td",O,_(g(l.leaveEndDate)),1)]))),128))])]),d.value.schedules.length<=0?(i(),T(B,{key:0,empty:""})):U("",!0)]),o(v)]),_:1},8,["icon","headerIcon"])])}}};export{te as default};
