import{e as i,c as J,z as Q,j as p,k as O,l as X,y as f,m as a,A as d,u as A,F as ee,t as le,H as N,x as te}from"./@vue-bQO0P59g.js";import{a1 as ae,$ as ue,G as oe}from"./@mdi-CZk6uuAL.js";import{h as $}from"./moment-Cl4UOzQZ.js";import{b as de}from"./vue-router-D5J0r3Gc.js";import{u as se}from"./vuex-DHdsu8jA.js";const re={class:"grid grid-cols-1 lg:grid-cols-1 gap-6"},ie={class:"grid grid-cols-1 lg:grid-cols-5 gap-4"},ne={class:"grid grid-cols-1 lg:grid-cols-5 gap-4"},me={class:"grid grid-cols-1 lg:grid-cols-5 gap-4"},pe={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},fe=f("div",{class:"text-center pb-5"},[f("h2",{class:"text-lg text-red-500"}," Are you sure you want to delete this Specialization? ")],-1),Fe={__name:"Profile",setup(ve){const B=[{id:"MALE",label:"MALE"},{id:"FEMALE",label:"FEMALE"},{id:"OTHERS",label:"OTHERS"}],P=[{id:"Country",label:"Country"},{id:"State",label:"State"}],b=se();de();const l=i(()=>b.state.Doctor),u=J({editMode:!1,finalSubmit:!1,stateId:null,cityId:null}),z=()=>{u.editMode=!u.editMode};Q(()=>{Y("")});const L=()=>{var e,s;if(g.value||V.value||y.value||S.value||F.value||x.value||C.value||M.value||U.value||w.value||D.value||E.value||I.value||k.value){u.finalSubmit=!0;return}const o={name:l.value.user.name,fees:l.value.user.fees,followUpFees:l.value.user.followUpFees,offlineFees:l.value.user.offlineFees,studioClinicFees:l.value.user.studioClinicFees,offlineFollowUpFees:l.value.user.offlineFollowUpFees,followUpDays:l.value.user.followUpDays,emailId:l.value.user.emailId,mobile:l.value.user.mobile,gender:l.value.user.gender.id,dob:l.value.user.dob?$(l.value.user.dob).format("YYYY-MM-DD"):null,city:(e=l.value.user.city)==null?void 0:e.name,state:(s=l.value.user.state)==null?void 0:s.name,reg_number:l.value.user.reg_number,reg_year:l.value.user.reg_year,reg_type:l.value.user.reg_type.id,experience:l.value.user.reg_month.toString(),address:l.value.user.address,about:l.value.user.about,id:l.value.user.id};b.dispatch("Doctor/updateProfile",o)},Y=o=>{b.dispatch("Doctor/states",{limit:50,offset:0,search:o,status:!0})},_=o=>{u.stateId=o.id,R("")},R=o=>{b.dispatch("Doctor/getCity",{limit:50,offset:0,search:o,status:!0,id:u.stateId})};function T(o){let e=String.fromCharCode(o.keyCode);if(/^[a-zA-Z ]+$/.test(e))return!0;o.preventDefault()}function H(o){let e=String.fromCharCode(o.keyCode);if(/^[0-9a-zA-Z ]+$/.test(e))return!0;o.preventDefault()}function m(o){let e=String.fromCharCode(o.keyCode);if(/^[0-9]+$/.test(e))return!0;o.preventDefault()}function W(o){let e=String.fromCharCode(o.keyCode);if(/^[a-zA-Z0-9@.]+$/.test(e))return!0;o.preventDefault()}function c(o){let e=$().format("YYYY");if(e>=o&&o.length===4){let s=e-o;l.value.user.reg_month=s}else l.value.user.reg_month=null}const g=i(()=>{if(!l.value.user.name)return"Name required!"}),V=i(()=>{if(l.value.user.mobile){if(l.value.user.mobile.length<10)return"Invalid mobile no!"}else return"Mobile no required!"}),y=i(()=>{const o=/^([\w\.\+]{1,})([^\W])(@)([\w]{1,})(\.[\w]{1,})+$/;if(l.value.user.emailId){if(!o.test(l.value.user.emailId))return"Invalid email!"}else return"Email required!"}),S=i(()=>{if(!l.value.user.fees)return"Fees required!"}),F=i(()=>{if(!l.value.user.offlineFees)return"Offline Fees required!"}),x=i(()=>{if(!l.value.user.followUpFees)return"Follow up fees required!"}),C=i(()=>{if(!l.value.user.offlineFollowUpFees)return"Offline Follow up fees required!"}),U=i(()=>{if(!l.value.user.studioClinicFees)return"Studio clinic fees required!"}),M=i(()=>{if(!l.value.user.followUpDays)return"Follow up days required!"}),w=i(()=>{if(!l.value.user.dob)return"Date Of Birth required!"}),D=i(()=>{if(l.value.user.reg_number){if(l.value.user.reg_number.length<4)return"Enter Valid Reg. Number !"}else return"Reg. Number required!"}),E=i(()=>{if(l.value.user.reg_year){if(l.value.user.reg_year.length<4||l.value.user.reg_year.length>4)return"Enter Valid Reg. Year !";c(l.value.user.reg_year)}else return"Reg. Year required!"}),I=i(()=>{if(!l.value.user.state)return"Select State!"}),k=i(()=>{if(!l.value.user.city)return"Select City!"});return(o,e)=>{const s=p("control"),r=p("field"),q=p("search-select"),j=p("divider"),h=p("base-button"),K=p("base-buttons"),Z=p("card-component"),G=p("modal-box");return O(),X(ee,null,[f("div",re,[a(Z,{title:u.editMode?"Edit Profile":"Profile Detail",icon:A(ae),headerIcon:u.editMode?A(ue):A(oe),onHeaderIconClicked:e[35]||(e[35]=t=>z())},{default:d(()=>[f("div",ie,[a(r,{label:"Name *",help:u.finalSubmit&&g.value?g.value:""},{default:d(()=>[a(s,{modelValue:l.value.user.name,"onUpdate:modelValue":e[0]||(e[0]=t=>l.value.user.name=t),type:"text",name:"name",disabled:!u.editMode,onKeypress:e[1]||(e[1]=t=>T(t)),maxlength:"50"},null,8,["modelValue","disabled"])]),_:1},8,["help"]),a(r,{label:"Phone No",help:u.finalSubmit&&V.value?V.value:""},{default:d(()=>[a(s,{modelValue:l.value.user.mobile,"onUpdate:modelValue":e[2]||(e[2]=t=>l.value.user.mobile=t),type:"text",name:"mobile",disabled:!u.editMode,onKeypress:e[3]||(e[3]=t=>m(t)),maxlength:"10"},null,8,["modelValue","disabled"])]),_:1},8,["help"]),a(r,{label:"E-mail *",help:u.finalSubmit&&y.value?y.value:""},{default:d(()=>[a(s,{modelValue:l.value.user.emailId,"onUpdate:modelValue":e[4]||(e[4]=t=>l.value.user.emailId=t),type:"email",name:"email",disabled:!u.editMode,onKeypress:e[5]||(e[5]=t=>W(t)),maxlength:"50"},null,8,["modelValue","disabled"])]),_:1},8,["help"]),a(r,{label:"Fees *",help:u.finalSubmit&&S.value?S.value:""},{default:d(()=>[a(s,{modelValue:l.value.user.fees,"onUpdate:modelValue":e[6]||(e[6]=t=>l.value.user.fees=t),type:"text",name:"fees",disabled:!u.editMode,onKeypress:e[7]||(e[7]=t=>m(t)),maxlength:"6"},null,8,["modelValue","disabled"])]),_:1},8,["help"]),a(r,{label:"Offline Fees *",help:u.finalSubmit&&F.value?F.value:""},{default:d(()=>[a(s,{modelValue:l.value.user.offlineFees,"onUpdate:modelValue":e[8]||(e[8]=t=>l.value.user.offlineFees=t),type:"text",name:"fees",disabled:!u.editMode,onKeypress:e[9]||(e[9]=t=>m(t)),maxlength:"6"},null,8,["modelValue","disabled"])]),_:1},8,["help"])]),f("div",ne,[a(r,{label:"Follow Up Fees *",help:u.finalSubmit&&x.value?x.value:""},{default:d(()=>[a(s,{modelValue:l.value.user.followUpFees,"onUpdate:modelValue":e[10]||(e[10]=t=>l.value.user.followUpFees=t),type:"text",name:"fees",disabled:!u.editMode,onKeypress:e[11]||(e[11]=t=>m(t)),maxlength:"6"},null,8,["modelValue","disabled"])]),_:1},8,["help"]),a(r,{label:"Offline Follow Up Fees *",help:u.finalSubmit&&C.value?C.value:""},{default:d(()=>[a(s,{modelValue:l.value.user.offlineFollowUpFees,"onUpdate:modelValue":e[12]||(e[12]=t=>l.value.user.offlineFollowUpFees=t),type:"text",name:"fees",disabled:!u.editMode,onKeypress:e[13]||(e[13]=t=>m(t)),maxlength:"6"},null,8,["modelValue","disabled"])]),_:1},8,["help"]),a(r,{label:"Follow Up Days *",help:u.finalSubmit&&M.value?M.value:""},{default:d(()=>[a(s,{modelValue:l.value.user.followUpDays,"onUpdate:modelValue":e[14]||(e[14]=t=>l.value.user.followUpDays=t),type:"text",name:"fees",disabled:!u.editMode,onKeypress:e[15]||(e[15]=t=>m(t)),maxlength:"2"},null,8,["modelValue","disabled"])]),_:1},8,["help"]),a(r,{label:"Studio Clinic Fees *",help:u.finalSubmit&&U.value?U.value:""},{default:d(()=>[a(s,{modelValue:l.value.user.studioClinicFees,"onUpdate:modelValue":e[16]||(e[16]=t=>l.value.user.studioClinicFees=t),type:"text",name:"fees",disabled:!u.editMode,onKeypress:e[17]||(e[17]=t=>m(t)),maxlength:"6"},null,8,["modelValue","disabled"])]),_:1},8,["help"]),a(r,{label:"Gender"},{default:d(()=>[a(s,{modelValue:l.value.user.gender,"onUpdate:modelValue":e[18]||(e[18]=t=>l.value.user.gender=t),options:B,disabled:!u.editMode},null,8,["modelValue","disabled"])]),_:1})]),f("div",me,[a(r,{label:"Date of Birth",help:u.finalSubmit&&w.value?w.value:""},{default:d(()=>[a(s,{modelValue:l.value.user.dob,"onUpdate:modelValue":e[19]||(e[19]=t=>l.value.user.dob=t),type:"date",name:"dob",disabled:!u.editMode},null,8,["modelValue","disabled"])]),_:1},8,["help"]),a(r,{label:"Registration Council & No *",help:u.finalSubmit&&D.value?D.value:""},{default:d(()=>[a(s,{modelValue:l.value.user.reg_number,"onUpdate:modelValue":e[20]||(e[20]=t=>l.value.user.reg_number=t),type:"text",name:"Registeration Number",disabled:!u.editMode,onKeypress:e[21]||(e[21]=t=>H(t)),maxlength:"10"},null,8,["modelValue","disabled"])]),_:1},8,["help"]),a(r,{label:"Reg. Year *",help:u.finalSubmit&&E.value?E.value:""},{default:d(()=>[a(s,{modelValue:l.value.user.reg_year,"onUpdate:modelValue":e[22]||(e[22]=t=>l.value.user.reg_year=t),type:"text",name:"Registeration Year",disabled:!u.editMode,onKeypress:e[23]||(e[23]=t=>m(t)),onKeyup:e[24]||(e[24]=t=>c(t.target.value)),maxlength:"4"},null,8,["modelValue","disabled"])]),_:1},8,["help"]),a(r,{label:"Exprience"},{default:d(()=>[a(s,{modelValue:l.value.user.reg_month,"onUpdate:modelValue":e[25]||(e[25]=t=>l.value.user.reg_month=t),type:"text",name:"Experience",disabled:!0},null,8,["modelValue"])]),_:1}),a(r,{label:"Reg. Type "},{default:d(()=>[a(s,{modelValue:l.value.user.reg_type,"onUpdate:modelValue":e[26]||(e[26]=t=>l.value.user.reg_type=t),options:P,disabled:!u.editMode},null,8,["modelValue","disabled"])]),_:1}),a(r,{label:"State",help:u.finalSubmit&&I.value?I.value:""},{default:d(()=>{var t,v;return[a(q,{modelValue:l.value.user.state,"onUpdate:modelValue":e[27]||(e[27]=n=>l.value.user.state=n),options:l.value.dataState,onOnType:e[28]||(e[28]=n=>Y(n)),onOnSelected:e[29]||(e[29]=n=>_(n)),disabled:!u.editMode,placeholder:(v=(t=l.value.user)==null?void 0:t.state)==null?void 0:v.name},null,8,["modelValue","options","disabled","placeholder"])]}),_:1},8,["help"]),a(r,{label:"City",help:u.finalSubmit&&k.value?k.value:""},{default:d(()=>{var t,v;return[a(q,{modelValue:l.value.user.city,"onUpdate:modelValue":e[30]||(e[30]=n=>l.value.user.city=n),options:l.value.dataCity,onOnType:e[31]||(e[31]=n=>R(n)),disabled:!u.editMode,placeholder:(v=(t=l.value.user)==null?void 0:t.city)==null?void 0:v.name},null,8,["modelValue","options","disabled","placeholder"])]}),_:1},8,["help"])]),f("div",pe,[a(r,{label:"Address"},{default:d(()=>[a(s,{modelValue:l.value.user.address,"onUpdate:modelValue":e[32]||(e[32]=t=>l.value.user.address=t),type:"textarea",name:"Address",disabled:!u.editMode,maxlength:"250"},null,8,["modelValue","disabled"])]),_:1}),a(r,{label:"About"},{default:d(()=>[a(s,{modelValue:l.value.user.about,"onUpdate:modelValue":e[33]||(e[33]=t=>l.value.user.about=t),type:"textarea",name:"AboutEn",disabled:!u.editMode,maxlength:"500"},null,8,["modelValue","disabled"])]),_:1})]),a(j),u.editMode?(O(),le(K,{key:0},{default:d(()=>[a(h,{color:"themeColor",type:"button",label:"Submit",onClick:e[34]||(e[34]=N(t=>L(),["prevent"]))})]),_:1})):te("",!0)]),_:1},8,["title","icon","headerIcon"])]),a(G,{modelValue:l.value.deleteModal,"onUpdate:modelValue":e[38]||(e[38]=t=>l.value.deleteModal=t),title:"Delete Specialization"},{default:d(()=>[f("section",null,[fe,a(K,{type:"justify-center lg:justify-center pt-5"},{default:d(()=>[a(h,{type:"button",color:"danger",small:"",label:"Yes",onClick:e[36]||(e[36]=N(t=>o.onDeleteSpec(),["prevent"]))}),a(h,{type:"button",color:"info",small:"",label:"No",onClick:e[37]||(e[37]=N(t=>l.value.deleteModal=!1,["prevent"]))})]),_:1})])]),_:1},8,["modelValue"])],64)}}};export{Fe as default};
