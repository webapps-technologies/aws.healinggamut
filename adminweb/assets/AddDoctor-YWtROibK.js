import{e as i,c as B,j as n,k as v,l as $,m as a,A as u,y as b,H as _,t as h,x as N}from"./@vue-bQO0P59g.js";import"./moment-Cl4UOzQZ.js";import{u as T}from"./vue-router-D5J0r3Gc.js";import{u as E}from"./vuex-DHdsu8jA.js";const K={class:"grid grid-cols-1 lg:grid-cols-1"},R={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},U={class:"grid grid-cols-1 lg:grid-cols-1 gap-6"},Z={__name:"AddDoctor",setup(W){const V=/^([\w\.\+]{1,})([^\W])(@)([\w]{1,})(\.[\w]{1,})+$/,g=E(),y=T(),t=i(()=>g.state.Doctor),r=B({finalSubmit:!1}),C=()=>{if(s.value||m.value||d.value){r.finalSubmit=!0;return}const o={name:"Dr. "+t.value.name,phoneNumber:t.value.phoneNumber,emailId:t.value.emailId,type:"DOCTOR"};g.dispatch("Doctor/addNewAccount",o),t.value.name=null,t.value.phoneNumber=null,t.value.emailId=null},m=i(()=>{if(t.value.phoneNumber){if(t.value.phoneNumber.length<10)return"Invalid mobile no!"}else return"Mobile no required!"}),s=i(()=>{if(!t.value.name)return"Name required!"}),d=i(()=>{if(!t.value.emailId||!V.test(t.value.emailId))return"Invalid email!"});function S(o){let e=String.fromCharCode(o.keyCode);if(/^[a-zA-Z ]+$/.test(e))return!0;o.preventDefault()}function k(o){let e=String.fromCharCode(o.keyCode);if(/^[a-zA-Z0-9@.]+$/.test(e))return!0;o.preventDefault()}function x(o){let e=String.fromCharCode(o.keyCode);if(/^[0-9]+$/.test(e))return!0;o.preventDefault()}function w(){y.go(-1)}return(o,e)=>{const p=n("control"),c=n("field"),f=n("base-button"),I=n("base-buttons"),D=n("new-card"),A=n("main-section");return v(),$("section",null,[a(A,null,{default:u(()=>[b("div",K,[a(D,{title:"Add Doctor",form:"",onSubmit:_(C,["prevent"])},{default:u(()=>[b("div",R,[a(c,{label:"Name *",help:r.finalSubmit&&s.value?s.value:""},{default:u(()=>[a(p,{modelValue:t.value.name,"onUpdate:modelValue":e[0]||(e[0]=l=>t.value.name=l),type:"text",name:"name",autocomplete:"Title",onKeypress:e[1]||(e[1]=l=>S(l)),maxlength:"50"},null,8,["modelValue"])]),_:1},8,["help"]),a(c,{label:"Phone Number *",help:r.finalSubmit&&m.value?m.value:""},{default:u(()=>[a(p,{modelValue:t.value.phoneNumber,"onUpdate:modelValue":e[2]||(e[2]=l=>t.value.phoneNumber=l),type:"text",name:"name",autocomplete:"Title",onKeypress:e[3]||(e[3]=l=>x(l)),maxlength:"10"},null,8,["modelValue"])]),_:1},8,["help"]),a(c,{label:"Email Id*",help:r.finalSubmit&&d.value?d.value:""},{default:u(()=>[a(p,{modelValue:t.value.emailId,"onUpdate:modelValue":e[4]||(e[4]=l=>t.value.emailId=l),type:"text",name:"email",autocomplete:"Title",onKeypress:e[5]||(e[5]=l=>k(l)),maxlength:"50"},null,8,["modelValue"])]),_:1},8,["help"])]),b("div",U,[a(I,null,{default:u(()=>[t.value.loaderNew?(v(),h(f,{key:0,color:"info",type:"button",label:"Wait...",disabled:""})):N("",!0),t.value.loaderNew?N("",!0):(v(),h(f,{key:1,color:"themeColor",type:"submit",label:"Submit",effect:""})),a(f,{color:"danger",label:"Back",onClick:e[6]||(e[6]=_(l=>w(),["prevent"]))})]),_:1})])]),_:1})])]),_:1})])}}};export{Z as default};
