import{r as H,e as s,c as K,z as $,j as p,k as V,l as v,m as a,A as i,y as n,F as L,I as W,E as Y,q as G,N as j,H as z}from"./@vue-bQO0P59g.js";import{h as M}from"./moment-Cl4UOzQZ.js";import{u as Q}from"./vuex-DHdsu8jA.js";import{b as J,u as X}from"./vue-router-D5J0r3Gc.js";const Z={class:"grid grid-cols-1 lg:grid-cols-1 gap-6"},ee={class:"grid grid-cols-1 lg:grid-cols-6 gap-2"},le={class:"grid grid-cols-1 lg:grid-cols-2 gap-2"},te={class:"font-bold"},ae=n("div",{class:"mb-[0.5rem]"},"Tests Require",-1),oe={class:"flex grid-cols-2 gap-1"},ne={class:"grid grid-cols-1 lg:grid-cols-1 gap-2"},de=n("thead",{class:""},[n("tr",null,[n("th",null,"Sr. No."),n("th",null,"Medicine"),n("th",null,"Duration"),n("th",null,"Frequency"),n("th",null,"When"),n("th",null,"Note"),n("th",{class:"text-center"},"Action")])],-1),ie={"data-label":"Sr. No."},ue={"data-label":"Medicine"},re={"data-label":"Duration"},se={"data-label":"Frequency"},me={"data-label":"When"},pe={"data-label":"Note"},ce=["onUpdate:modelValue"],ye={"data-label":"Action"},fe=["onClick"],be={class:"grid grid-cols-1 lg:grid-cols-4 gap-2"},De={__name:"Prescription",setup(Ve){const S=[{id:"1-0-0",name:"1-0-0"},{id:"1-1-0",name:"1-1-0"},{id:"0-1-1",name:"0-1-1"},{id:"1-1-1",name:"1-1-1"},{id:"1-0-1",name:"1-0-1"}],x=[{id:"1 Day",name:"1 Day"},{id:"2 Day",name:"2 Day"},{id:"3 Day",name:"3 Day"},{id:"4 Day",name:"4 Day"},{id:"5 Day",name:"5 Day"},{id:"6 Day",name:"6 Day"},{id:"7 Day",name:"7 Day"},{id:"8 Day",name:"8 Day"},{id:"9 Day",name:"9 Day"},{id:"10 Day",name:"10 Day"},{id:"11 Day",name:"11 Day"},{id:"12 Day",name:"12 Day"},{id:"13 Day",name:"13 Day"},{id:"14 Day",name:"14 Day"},{id:"15 Day",name:"15 Day"},{id:"16 Day",name:"16 Day"},{id:"17 Day",name:"17 Day"},{id:"18 Day",name:"18 Day"},{id:"19 Day",name:"19 Day"},{id:"20 Day",name:"20 Day"}],U=[{id:"Before_Meal",name:"Before Meal"},{id:"After_Meal",name:"After Meal"},{id:"Empty_Stomach",name:"Empty Stomach In Morning"}],w=[{id:"Male",label:"Male"},{id:"Female",label:"Female"},{id:"Other",label:"Other"}],q=[{id:"0-0-1",label:"0-0-1"},{id:"0-1-1",label:"0-1-1"},{id:"0-1-0",label:"0-1-0"},{id:"1-0-0",label:"1-0-0"},{id:"1-0-1",label:"1-0-1"},{id:"1-1-1",label:"1-1-1"},{id:"2-0-0",label:"2-0-0"},{id:"If required",label:"If required"},{id:"Four time a day",label:"Four time a day"},{id:"Every Hour",label:"Every Hour"},{id:"Once a week",label:"Once a week"},{id:"Every Four Hour",label:"Every Four Hour"},{id:"Once a month",label:"Once a month"},{id:"Three times a week",label:"Three times a week"},{id:"Every other day",label:"Every other day"},{id:"write own",label:"write own"}],k=[{id:"Select",label:"Select..."},{id:"Before Meals",label:"Before Meals"},{id:"After Meals",label:"After Meals"},{id:"At bed time",label:"At bed time"},{id:"Before Breakfast",label:"Before Breakfast"},{id:"After Breakfast",label:"After Breakfast"},{id:"Before Dinner",label:"Before Dinner"},{id:"After Dinner",label:"After Dinner"},{id:"Before lunch",label:"Before Lunch"},{id:"After lunch",label:"After Lunch"}],A=/^([\w\.\+]{1,})([^\W])(@)([\w]{1,})(\.[\w]{1,})+$/,B=H(null),c=Q(),g=J();X();const t=s(()=>c.state.Prescription),C=s(()=>c.state.Appointment),o=K({limit:10,offset:0,search:"",status:!0,type:"Pathology",gender:w[0],dosage:q[0],instruction:k[0],medicineModal:!1,medicine2Modal:!1,investigationModal:!1,labtest:[],medicine:[],medicinedtls:[],medicinepreview:[],medicinedtlsselect:[],doctorDetail:[],medicine_name:null,medicine_type:null,medicine_description:null,manualAddInvestigation:null,manualAddMedicines:null,duration:null,durationType:"day",ownfrequency:null,custominstraction:null,id:null,docId:null,udiModal:!1,Investigationindex:null,Investigationitem:null,mdiModal:!1,Medicineindex:null,Medicineitem:null,editMode:!0,previewMode:!1,logo:!0,currentDate:M().format("YYYY-MM-DD"),pid:null,aid:null,nextVisit:null,days:null,prescribeData:[{medicine_description:"",medicine_name:"",tab:{duration:"",durationType:"",frequency:"",instruction:"",note:""}}],refered_byDoctor:null});$(()=>{o.pid=g.query.pid,o.aid=g.query.aid,o.aid&&E(o.aid)});function E(d){c.dispatch("Appointment/getOneAppointment",{id:d}),c.dispatch("Prescription/medicines",{limit:"10",offset:"0",keyword:"",status:!0})}function N(d){var l=M(o.nextVisit).diff(d,"days");o.days=l}const O=d=>{o.prescribeData.length===d&&o.prescribeData.push({medicine_description:"",medicine_name:"",tab:{duration:"",durationType:"",frequency:"",instruction:""}})},I=s(()=>t.value.patientName?null:"Patient name required.");s(()=>{if(!t.value.patientEmail||!A.test(t.value.patientEmail))return"Invalid email!"}),s(()=>{if(t.value.phone){if(t.value.phone.length<10||t.value.phone.length>15)return"Invalid mobile no!"}else return"Mobile no required!"}),s(()=>{if(t.value.patientCity){if(t.value.patientCity.length<3)return"Enter Valid Location!"}else return"Location required!"}),s(()=>t.value.height_feet?null:"Required."),s(()=>t.value.height_inch?null:"Required."),s(()=>t.value.weight?null:"Required."),s(()=>t.value.pulse_rate?null:"Required."),s(()=>t.value.temprature?null:"Required."),s(()=>t.value.blood_pressure?null:"Required."),s(()=>t.value.spo2?null:"Required."),s(()=>t.value.complaint?null:"Required.");function h(d){let l=String.fromCharCode(d.keyCode);if(/^[0-9/]+$/.test(l))return!0;d.preventDefault()}function y(d){let l=String.fromCharCode(d.keyCode);if(/^[0-9]+$/.test(l))return!0;d.preventDefault()}return(d,l)=>{const r=p("control"),u=p("field"),R=p("multi-select"),f=p("table-select"),_=p("SingleSelect"),P=p("search-select"),F=p("new-card"),T=p("main-section");return V(),v("section",null,[a(T,null,{default:i(()=>{var D;return[n("div",Z,[a(F,{title:o.currentDate+" | By Dr."+((D=C.value.doctorDetail)==null?void 0:D.name)},{default:i(()=>[n("div",ee,[a(u,{label:"Blood Pressure",help:I.value},{default:i(()=>[a(r,{modelValue:t.value.patientName,"onUpdate:modelValue":l[0]||(l[0]=e=>t.value.patientName=e),type:"text",name:"patientName",autocomplete:"patientName",placeholder:"Enter blood pressuree",onKeypress:l[1]||(l[1]=e=>h(e)),maxlength:"7"},null,8,["modelValue"])]),_:1},8,["help"]),a(u,{label:"Pulse"},{default:i(()=>[a(r,{modelValue:t.value.pulse_rate,"onUpdate:modelValue":l[2]||(l[2]=e=>t.value.pulse_rate=e),type:"text",name:"pulse_rate",maxlength:"6",autocomplete:"pulse_rate",placeholder:"Beats/Minute",onKeypress:l[3]||(l[3]=e=>h(e))},null,8,["modelValue"])]),_:1}),a(u,{label:"SPO2"},{default:i(()=>[a(r,{modelValue:t.value.spo2,"onUpdate:modelValue":l[4]||(l[4]=e=>t.value.spo2=e),type:"text",name:"spo2",maxlength:"3",autocomplete:"spo2",placeholder:"In Percentage",onKeypress:l[5]||(l[5]=e=>y(e))},null,8,["modelValue"])]),_:1}),a(u,{label:"Height"},{default:i(()=>[a(r,{modelValue:t.value.height_feet,"onUpdate:modelValue":l[6]||(l[6]=e=>t.value.height_feet=e),type:"text",maxlength:"3",name:"height_feet",autocomplete:"height_feet",placeholder:"In CM",onKeypress:l[7]||(l[7]=e=>y(e))},null,8,["modelValue"])]),_:1}),a(u,{label:"Weight"},{default:i(()=>[a(r,{modelValue:t.value.weight,"onUpdate:modelValue":l[8]||(l[8]=e=>t.value.weight=e),type:"text",name:"weight",maxlength:"3",autocomplete:"weight",placeholder:"In KG",onKeypress:l[9]||(l[9]=e=>y(e))},null,8,["modelValue"])]),_:1}),a(u,{label:"Temperature"},{default:i(()=>[a(r,{modelValue:t.value.temprature,"onUpdate:modelValue":l[10]||(l[10]=e=>t.value.temprature=e),type:"text",name:"temprature",maxlength:"3",autocomplete:"temprature",placeholder:"In Fahrenheit",onKeypress:l[11]||(l[11]=e=>y(e))},null,8,["modelValue"])]),_:1})]),n("div",le,[a(u,{label:"Complaints"},{default:i(()=>[a(r,{modelValue:t.value.pulse_rate,"onUpdate:modelValue":l[12]||(l[12]=e=>t.value.pulse_rate=e),type:"text",name:"pulse_rate",maxlength:"50",autocomplete:"pulse_rate",placeholder:"Enter Complaints"},null,8,["modelValue"])]),_:1}),a(u,{label:"Quick Notes"},{default:i(()=>[a(r,{modelValue:t.value.pulse_rate,"onUpdate:modelValue":l[13]||(l[13]=e=>t.value.pulse_rate=e),type:"text",name:"pulse_rate",maxlength:"50",autocomplete:"pulse_rate",placeholder:"Note"},null,8,["modelValue"])]),_:1}),a(u,{label:"Past History"},{default:i(()=>[a(r,{modelValue:t.value.pulse_rate,"onUpdate:modelValue":l[14]||(l[14]=e=>t.value.pulse_rate=e),type:"text",name:"pulse_rate",maxlength:"50",autocomplete:"pulse_rate",placeholder:"Enter Past History"},null,8,["modelValue"])]),_:1}),a(u,{label:"Advice"},{default:i(()=>[a(r,{modelValue:t.value.pulse_rate,"onUpdate:modelValue":l[15]||(l[15]=e=>t.value.pulse_rate=e),type:"text",name:"pulse_rate",maxlength:"50",autocomplete:"pulse_rate",placeholder:"Enter Advice"},null,8,["modelValue"])]),_:1}),a(u,{label:"Past Medication"},{default:i(()=>[a(r,{modelValue:t.value.pulse_rate,"onUpdate:modelValue":l[16]||(l[16]=e=>t.value.pulse_rate=e),type:"text",name:"pulse_rate",maxlength:"50",autocomplete:"pulse_rate",placeholder:"Past Medication"},null,8,["modelValue"])]),_:1}),n("div",te,[ae,a(R,{modelValue:o.subcategory,"onUpdate:modelValue":l[17]||(l[17]=e=>o.subcategory=e),onSelected:d.addMultiValueSubCategory,options:t.value.dataSubCategories},null,8,["modelValue","onSelected","options"])]),a(u,{label:"Other Notes"},{default:i(()=>[a(r,{modelValue:t.value.pulse_rate,"onUpdate:modelValue":l[18]||(l[18]=e=>t.value.pulse_rate=e),type:"text",name:"pulse_rate",maxlength:"50",autocomplete:"pulse_rate",placeholder:"Other Notes"},null,8,["modelValue"])]),_:1}),n("div",oe,[a(u,{label:"Next Visit"},{default:i(()=>[a(r,{modelValue:o.nextVisit,"onUpdate:modelValue":l[19]||(l[19]=e=>o.nextVisit=e),onChange:l[20]||(l[20]=e=>N(o.currentDate)),type:"date"},null,8,["modelValue"])]),_:1}),a(u,{label:"Days"},{default:i(()=>[a(r,{modelValue:o.days,"onUpdate:modelValue":l[21]||(l[21]=e=>o.days=e),type:"text",name:"month",placeholder:"Days",disabled:""},null,8,["modelValue"])]),_:1})])]),n("div",ne,[n("table",{class:"prescription-cards-table table mb-16",ref_key:"tableRef",ref:B,onClick:l[22]||(l[22]=(...e)=>d.handleTableClick&&d.handleTableClick(...e))},[de,n("tbody",null,[(V(!0),v(L,null,W(o.prescribeData,(e,b)=>(V(),v("tr",{class:"val-row",key:b},[n("td",ie,Y(b+1),1),n("td",ue,[a(f,{modelValue:e.medicine_name,"onUpdate:modelValue":m=>e.medicine_name=m,onSelected:m=>O(b+1),options:t.value.allMedicine,outside:o.outside,placeholder:"",onSearch:d.searchMedicine},null,8,["modelValue","onUpdate:modelValue","onSelected","options","outside","onSearch"])]),n("td",re,[a(f,{modelValue:e.tab.duration,"onUpdate:modelValue":m=>e.tab.duration=m,options:x,outside:o.outside},null,8,["modelValue","onUpdate:modelValue","outside"])]),n("td",se,[a(f,{modelValue:e.tab.frequency,"onUpdate:modelValue":m=>e.tab.frequency=m,options:S,outside:o.outside},null,8,["modelValue","onUpdate:modelValue","outside"])]),n("td",me,[a(f,{modelValue:e.tab.instruction,"onUpdate:modelValue":m=>e.tab.instruction=m,options:U,outside:o.outside},null,8,["modelValue","onUpdate:modelValue","outside"])]),n("td",pe,[G(n("input",{type:"text",class:"notes-select","onUpdate:modelValue":m=>e.tab.note=m},null,8,ce),[[j,e.tab.note]])]),n("td",ye,[n("div",{class:"option-btns pointer",onClick:z(m=>d.openDelete(b),["prevent"])},null,8,fe)])]))),128))])],512)]),n("div",be,[a(u,{label:"Refered By"},{default:i(()=>[a(_,{modelValue:o.refered_byDoctor,"onUpdate:modelValue":l[23]||(l[23]=e=>o.refered_byDoctor=e),options:t.value.doctorData,onSearch:d.searchDoctor},null,8,["modelValue","options","onSearch"])]),_:1}),a(u,{label:"State",help:o.finalSubmit&&d.stateValid?d.stateValid:""},{default:i(()=>[a(P,{modelValue:o.refered_byDoctor,"onUpdate:modelValue":l[24]||(l[24]=e=>o.refered_byDoctor=e),options:t.value.doctorData,onOnType:l[25]||(l[25]=e=>d.loadStates(e))},null,8,["modelValue","options"])]),_:1},8,["help"]),a(u,{label:"Select Speciality"},{default:i(()=>[a(_,{modelValue:o.speciality,"onUpdate:modelValue":l[26]||(l[26]=e=>o.speciality=e),options:d.specialityOptions,placeholder:"Select Speciality",onSelected:d.selectSpeciality},null,8,["modelValue","options","onSelected"])]),_:1}),a(u,{label:"Phone No"},{default:i(()=>[a(r,{modelValue:t.value.pulse_rate,"onUpdate:modelValue":l[27]||(l[27]=e=>t.value.pulse_rate=e),type:"text",name:"pulse_rate",maxlength:"50",autocomplete:"pulse_rate",placeholder:"Enter Phone no"},null,8,["modelValue"])]),_:1}),a(u,{label:"Email Id"},{default:i(()=>[a(r,{modelValue:t.value.pulse_rate,"onUpdate:modelValue":l[28]||(l[28]=e=>t.value.pulse_rate=e),type:"text",name:"pulse_rate",maxlength:"50",autocomplete:"pulse_rate",placeholder:"Enter Email"},null,8,["modelValue"])]),_:1})])]),_:1},8,["title"])])]}),_:1})])}}};export{De as default};
