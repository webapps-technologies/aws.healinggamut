import{e as J,c as X,z as Y,j as _,k as a,l as d,m as n,A as s,H as p,B as G,y as o,q as M,M as I,u as v,F as K,I as Q,E as V,x as f,t as y,J as D}from"./@vue-bQO0P59g.js";import{C as W,O as Z,X as ee,E as te,I as le}from"./@mdi-CZk6uuAL.js";import{u as oe}from"./vuex-DHdsu8jA.js";const ne={class:"grid grid-cols-1 lg:grid-cols-1 gap-6"},ae=o("option",{value:"Home"},"Home",-1),ie=o("option",{value:"Footer"},"Footer",-1),se=o("option",{value:"Lab Test"},"Lab Test",-1),de=o("option",{value:"Video"},"Video",-1),re=o("option",{value:"Top Menu"},"Top Menu",-1),ue=o("option",{value:"Center Menu"},"Center Menu",-1),pe=o("option",{value:"Bottom Menu"},"Bottom Menu",-1),ce=o("option",{value:"Popup Menu"},"Popup Menu",-1),fe=[ae,ie,se,de,re,ue,pe,ce],me={class:"w-full overflow-x-scroll mt-3"},be={key:0},_e=o("th",null,"Sl.No.",-1),ye={key:0},ge={key:1},ke=o("th",null,"App Url",-1),ve=o("th",null,"Page Id",-1),he=o("th",null,"Status",-1),Me=o("th",{class:"text-center"},"Actions",-1),Ve={"data-label":"Sr.No"},Be={key:0,"data-label":"link"},xe=["href"],Ce={key:1,"data-label":"Banner"},Se={"data-label":"App Url"},Ue={"data-label":"Page Id"},Pe={key:2,"data-label":"Status",class:"text-green-500 font-bold"},Te={key:3,"data-label":"Status",class:"text-rose-500 font-bold"},Ie={class:"actions-cell"},De={key:0,class:"flex justify-center items-center"},je=o("div",{class:"spinner-dual-ring"},[o("div",{class:"ldio"},[o("div"),o("div",null,[o("div")])])],-1),Le=[je],we=o("option",{value:"Home"},"Home",-1),Ae=o("option",{value:"Footer"},"Footer",-1),Fe=o("option",{value:"Lab Test"},"Lab Test",-1),$e=o("option",{value:"Video"},"Video",-1),Ee=o("option",{value:"Top Menu"},"Top Menu",-1),Ne=o("option",{value:"Center Menu"},"Center Menu",-1),Re=o("option",{value:"Bottom Menu"},"Bottom Menu",-1),He=o("option",{value:"Popup Menu"},"Popup Menu",-1),ze=[we,Ae,Fe,$e,Ee,Ne,Re,He],Oe={key:2,class:"h-48 cursor-pointer relative flex justify-center items-center border-2 rounded-md bg-gray-200"},qe={class:"absolute flex justify-center items-center gap-2"},Je=["src"],Xe={key:1,class:"text-center text-neutral-400 font-bold"},Ye={key:0},Ge=o("div",{class:"flex justify-center"},[o("h5",null,"Are you sure to delete this banner?")],-1),Ke={key:0},Qe={class:"flex justify-center"},We={class:"form-check form-check-inline"},Ze=o("label",{class:"form-check-label inline-block text-gray-800 dark:text-slate-300 mr-2",for:"inlineRadio10"},"Active",-1),et={class:"form-check form-check-inline"},tt=o("label",{class:"form-check-label inline-block text-gray-800 dark:text-slate-300 mr-2",for:"inlineRadio20"},"Inactive",-1),lt={key:0},ot={class:"grid grid-cols-1 lg:grid-cols-1 gap-6"},dt={__name:"banner",setup(nt){const m=oe(),i=J(()=>m.state.Banner),x=[{id:"",label:"Select"},{id:"Specialization",label:"Specialization"},{id:"Specialization Detail",label:"Specialization Detail"},{id:"Clinic Appointment",label:"Clinic Appointment"},{id:"Telemedicine",label:"Telemedicine"},{id:"Subscription",label:"Subscription"},{id:"Subscription Detail",label:"Subscription Detail"},{id:"Assessment",label:"Assessment"},{id:"Assessment Detail",label:"Assessment Detail"},{id:"Live Doctor",label:"Live Doctor"},{id:"Lab Test",label:"Lab Test"},{id:"Labtest Detail",label:"Labtest Detail"},{id:"Doctor Detail",label:"Doctor Detail"}],C=[{id:"Internal",label:"Internal"},{id:"External",label:"External"}],e=X({id:null,file:null,link:null,editMode:!1,type:"Home",title:null,status:!0,appPageId:null,appPageUrl:x[0],linkType:C[0]});Y(()=>{S(e.type)});function S(r){m.dispatch("Banner/getBanner",{type:r})}function j(){i.value.bnrFileModal=!0,e.editMode=!1,e.id=null,e.title=null,e.type="Home",e.link=null}function L(r,t,b,u){i.value.bnrFileModal=!0,e.editMode=!0,e.id=r,e.title=t==="null"?"":t,e.type=b,e.link=u}function w(r,t,b,u){i.value.bannerModal=!0,e.id=r,e.appPageId=t,b&&(e.appPageUrl={id:b,label:b}),e.linkType={id:u,label:u}}function A(r,t){i.value.statusModal=!0,e.id=r,e.status=t}function F(r){i.value.deleteModal=!0,e.id=r}function $(){e.id&&m.dispatch("Banner/deleteBanner",{id:e.id})}async function E(r){if(r){const t=await r.target;if(t.files[0].type==="image/png"||t.files[0].type==="image/jpg"||t.files[0].type==="image/jpeg")if(t.files[0].size<=1e6){if(t.files){const b=new FileReader;b.onload=u=>{e.link=u.target.result},e.file=t.files[0],b.readAsDataURL(t.files[0])}}else m.dispatch("ErrorSuccess/error",{msg:"Image too big (max 1 Mb allowed)"});else m.dispatch("ErrorSuccess/error",{msg:"Upload image in png format."})}}function N(){e.type=="Video"?e.link&&m.dispatch("Banner/addVideoBanners",{link:e.link,type:e.type}):e.file&&m.dispatch("Banner/addImgBanners",{file:e.file,type:e.type,link:e.link,title:e.title})}function R(){e.type=="Video"?e.link&&m.dispatch("Banner/updateVideoBanners",{id:e.id,link:e.link}):m.dispatch("Banner/updateBanners",{id:e.id,file:e.file,link:e.link,title:e.title})}const H=()=>{m.dispatch("Banner/status",{id:e.id,status:e.status})},z=()=>{e.linkType.id&&m.dispatch("Banner/updateBanner",{id:e.id,linkType:e.linkType.id,appPageUrl:e.appPageUrl.id,appPageId:e.appPageId})};function O(){e.type&&S(e.type)}return(r,t)=>{const b=_("hero-bar"),u=_("field"),U=_("main-section"),q=_("user-avatar"),c=_("base-button"),g=_("base-buttons"),P=_("card-component"),k=_("control"),h=_("modal-box");return a(),d("section",null,[n(b,null,{default:s(()=>[G("Banners")]),_:1}),n(U,null,{default:s(()=>[o("div",ne,[n(u,null,{default:s(()=>[M(o("select",{"onUpdate:modelValue":t[0]||(t[0]=l=>e.type=l),onChange:t[1]||(t[1]=l=>O()),class:"form-select appearance-none block w-full px-3 py-2 h-10 text-base font-normal text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-dark-700 focus:bg-white focus:border-blue-600 focus:outline-none"},fe,544),[[I,e.type]])]),_:1})])]),_:1}),n(U,null,{default:s(()=>[n(P,{class:"mb-6",title:"List",onHeaderIconClicked:t[2]||(t[2]=l=>j()),headerIcon:v(W),iconText:"Add Banners","has-table":""},{default:s(()=>[o("div",me,[i.value.data.length>0?(a(),d("table",be,[o("thead",null,[o("tr",null,[_e,e.type=="Video"?(a(),d("th",ye,"Link")):(a(),d("th",ge,"Image")),ke,ve,he,Me])]),o("tbody",null,[(a(!0),d(K,null,Q(i.value.data,(l,T)=>(a(),d("tr",{key:T},[o("td",Ve,V(T+1),1),l.type==="Video"?(a(),d("td",Be,[o("a",{target:"_blank",class:"text-blue-500 w-full",href:l.link},V(l.link),9,xe)])):(a(),d("td",Ce,[n(q,{image:l.link,classess:"h-16 w-full",alt:"banner"},null,8,["image"])])),o("td",Se,V(l.appPageUrl),1),o("td",Ue,V(l.appPageId),1),l.status==!0?(a(),d("td",Pe,"Active")):(a(),d("td",Te,"Inactive")),o("td",Ie,[n(g,{type:"justify-center lg:justify-center"},{default:s(()=>[n(c,{type:"button",title:"Update banner",color:"success",icon:v(Z),small:"",onClick:p(B=>L(l.id,l.title,l.type,l.link),["prevent"])},null,8,["icon","onClick"]),n(c,{type:"button",title:"Banner",color:"info",icon:v(ee),small:"",onClick:p(B=>w(l.id,l.appPageId,l.appPageUrl,l.linkType),["prevent"])},null,8,["icon","onClick"]),n(c,{type:"button",title:"Status",color:"purple",icon:v(te),small:"",onClick:p(B=>A(l.id,l.status),["prevent"])},null,8,["icon","onClick"]),n(c,{type:"button",title:"Delete Video",color:"danger",icon:v(le),small:"",onClick:p(B=>F(l.id),["prevent"])},null,8,["icon","onClick"])]),_:2},1024)])]))),128))])])):f("",!0)]),i.value.data.length<=0?(a(),y(P,{key:0,empty:""})):f("",!0)]),_:1},8,["headerIcon"]),i.value.dataLoader?(a(),d("div",De,Le)):f("",!0),i.value.loadMore&&!i.value.dataLoader?(a(),y(g,{key:1,type:"justify-center lg:justify-center"},{default:s(()=>[n(c,{type:"button",color:"info",label:"Load More",onClick:t[3]||(t[3]=p(l=>r.loadMoreData(),["prevent"]))})]),_:1})):f("",!0)]),_:1}),n(h,{modelValue:i.value.bnrFileModal,"onUpdate:modelValue":t[9]||(t[9]=l=>i.value.bnrFileModal=l),title:e.editMode?"Edit Banner":"Add Banner",form:"",onSubmit:t[10]||(t[10]=p(l=>r.onSubmit(),["prevent"]))},{default:s(()=>[o("section",null,[n(u,{label:"Banner Type"},{default:s(()=>[M(o("select",{"onUpdate:modelValue":t[4]||(t[4]=l=>e.type=l),class:"form-select appearance-none block w-full px-3 py-2 h-10 text-base font-normal text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-dark-700 focus:bg-white focus:border-blue-600 focus:outline-none"},ze,512),[[I,e.type]])]),_:1}),e.type!=="Video"?(a(),y(u,{key:0,label:"Title",class:"mr-2"},{default:s(()=>[n(k,{modelValue:e.title,"onUpdate:modelValue":t[5]||(t[5]=l=>e.title=l),type:"text",name:"title",autocomplete:"Name"},null,8,["modelValue"])]),_:1})):f("",!0),e.type=="Video"?(a(),y(u,{key:1,label:"Link *",class:"mr-2"},{default:s(()=>[n(k,{modelValue:e.link,"onUpdate:modelValue":t[6]||(t[6]=l=>e.link=l),type:"text",name:"link",autocomplete:"Name"},null,8,["modelValue"])]),_:1})):(a(),d("div",Oe,[o("input",{type:"file",name:"logo",accept:"image/png || image/jpg || image/jpeg",onChange:t[7]||(t[7]=l=>E(l)),class:"z-20 opacity-0 cursor-pointer h-full w-full"},null,32),o("div",qe,[e.link?(a(),d("img",{key:0,class:"h-48 opacity-1",src:e.link,alt:"banner"},null,8,Je)):f("",!0),e.link?f("",!0):(a(),d("span",Xe,"Upload Banner"))])])),n(g,{type:"justify-center lg:justify-center pt-5"},{default:s(()=>[e.editMode?(a(),y(c,{key:0,type:"button",color:"danger",small:"",label:"Upload",onClick:p(R,["prevent"])})):(a(),y(c,{key:1,type:"button",color:"danger",small:"",label:"Upload",onClick:p(N,["prevent"])})),n(c,{type:"button",color:"info",small:"",label:"Cancel",onClick:t[8]||(t[8]=p(l=>i.value.bnrFileModal=!1,["prevent"]))})]),_:1})])]),_:1},8,["modelValue","title"]),n(h,{modelValue:i.value.deleteModal,"onUpdate:modelValue":t[12]||(t[12]=l=>i.value.deleteModal=l),title:"Banner Delete Confirmation!!!"},{default:s(()=>[e.id?(a(),d("section",Ye,[Ge,n(g,{type:"justify-center lg:justify-center pt-5"},{default:s(()=>[i.value.dataLoader?f("",!0):(a(),y(c,{key:0,type:"button",color:"denger",small:"",label:"Yes",onClick:p($,["prevent"])})),n(c,{type:"button",color:"info",small:"",label:"No",onClick:t[11]||(t[11]=p(l=>i.value.deleteModal=!1,["prevent"]))})]),_:1})])):f("",!0)]),_:1},8,["modelValue"]),n(h,{modelValue:i.value.statusModal,"onUpdate:modelValue":t[15]||(t[15]=l=>i.value.statusModal=l),title:"Banner Status"},{default:s(()=>[e.id?(a(),d("section",Ke,[o("div",Qe,[o("div",We,[M(o("input",{class:"form-check-input mr-2",type:"radio",name:"inlineRadioOptions","onUpdate:modelValue":t[13]||(t[13]=l=>e.status=l),value:!0},null,512),[[D,e.status]]),Ze]),o("div",et,[M(o("input",{class:"form-check-input mr-2",type:"radio",name:"inlineRadioOptions","onUpdate:modelValue":t[14]||(t[14]=l=>e.status=l),value:!1},null,512),[[D,e.status]]),tt])]),n(g,{type:"justify-center lg:justify-center pt-5"},{default:s(()=>[n(c,{type:"button",color:"info",small:"",label:"Change Status",onClick:p(H,["prevent"])})]),_:1})])):f("",!0)]),_:1},8,["modelValue"]),n(h,{modelValue:i.value.bannerModal,"onUpdate:modelValue":t[19]||(t[19]=l=>i.value.bannerModal=l),title:"Banner Redirect Page"},{default:s(()=>[e.id?(a(),d("section",lt,[o("div",ot,[n(u,{label:"Link Type"},{default:s(()=>[n(k,{modelValue:e.linkType,"onUpdate:modelValue":t[16]||(t[16]=l=>e.linkType=l),options:C},null,8,["modelValue"])]),_:1}),e.linkType.id==="Internal"?(a(),y(u,{key:0,label:"Page Type"},{default:s(()=>[n(k,{modelValue:e.appPageUrl,"onUpdate:modelValue":t[17]||(t[17]=l=>e.appPageUrl=l),options:x},null,8,["modelValue"])]),_:1})):f("",!0),n(u,{label:"URL / Page ID"},{default:s(()=>[n(k,{modelValue:e.appPageId,"onUpdate:modelValue":t[18]||(t[18]=l=>e.appPageId=l),type:"text"},null,8,["modelValue"])]),_:1})]),n(g,{type:"justify-center lg:justify-center pt-5"},{default:s(()=>[n(c,{type:"button",color:"info",small:"",label:"Submit",onClick:p(z,["prevent"])})]),_:1})])):f("",!0)]),_:1},8,["modelValue"])])}}};export{dt as default};
