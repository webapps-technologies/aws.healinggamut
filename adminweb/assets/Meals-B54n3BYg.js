import{e as b,c as oe,z as ae,j as _,k as i,l as r,m as a,A as d,B as D,y as l,H as m,u as v,F as se,I as ne,E as V,x as u,t as x,q as M,J as C}from"./@vue-bQO0P59g.js";import{K as ie,M as de,G as re,E as ue,F as ce,N as me}from"./@mdi-CZk6uuAL.js";import"./moment-Cl4UOzQZ.js";import{u as pe}from"./vue-router-D5J0r3Gc.js";import{u as fe}from"./vuex-DHdsu8jA.js";const ge={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},he={class:"grid grid-cols-1 lg:grid-cols-1 gap-6 new-table"},_e={class:"mt-3 table-sec"},be={key:0},ye=l("caption",null,null,-1),ke=l("thead",{class:"bg-white dark:bg-gray-900/80 dark:backdrop-blur-md"},[l("tr",null,[l("th",null,"Sl.No."),l("th",null,"Image"),l("th",null,"Name"),l("th",null,"Price"),l("th",null,"Discount %"),l("th",null,"Ratting"),l("th",null,"Status"),l("th",{class:"lg:flex lg:justify-center"},"Action")])],-1),De={"data-label":"Sr.No"},ve={key:0,"data-label":"image"},Ee=["src"],Ve={key:1,"data-label":"image"},Me=l("img",{src:"https://kreditstorage.b-cdn.net/logo/noimage.png",class:"h-8"},null,-1),Ce=[Me],Ie={"data-label":"Name"},Se={"data-label":"Price"},xe={"data-label":"Discount"},Ne={"data-label":"Rating"},Ue={"data-label":"Status"},Te={key:0},we={key:1},Ae={key:2},je={key:3},Pe={key:4},Le={key:0,class:"flex justify-center items-center"},Re=l("div",{class:"spinner-dual-ring"},[l("div",{class:"ldio"},[l("div"),l("div",null,[l("div")])])],-1),$e=[Re],Fe={key:0},Be={class:"flex justify-center"},Ge={class:"form-check form-check-inline"},Oe={class:"form-check-label inline-block text-gray-800 dark:text-slate-300 mr-2 cursor-pointer"},He={class:"form-check form-check-inline"},ze={class:"form-check-label inline-block text-gray-800 dark:text-slate-300 mr-2 cursor-pointer"},qe={class:"form-check form-check-inline"},Ke={class:"form-check-label inline-block text-gray-800 dark:text-slate-300 mr-2 cursor-pointer"},Ye={class:"form-check form-check-inline"},Je={class:"form-check-label inline-block text-gray-800 dark:text-slate-300 mr-2 cursor-pointer"},Qe={class:"form-check form-check-inline"},We={class:"form-check-label inline-block text-gray-800 dark:text-slate-300 mr-2 cursor-pointer"},Xe={class:"grid grid-cols-1 lg:grid-cols-2 gap-2"},Ze=l("p",{class:"text-slate-600 dark:text-white/75 pb-5 text-xl flex justify-center"},"Are you sure, you want to Delete ?",-1),et={class:"h-48 cursor-pointer relative flex justify-center items-center border-2 rounded-md bg-gray-200"},tt={class:"absolute flex justify-center items-center gap-2"},lt=["src"],ot={key:1,class:"text-center text-neutral-400 font-bold"},ut={__name:"Meals",setup(at){const f=fe(),$=pe(),g=b(()=>f.state.Meals),N=[{id:"ACTIVE",name:"ACTIVE"},{id:"DEACTIVE",name:"DEACTIVE"},{id:"PENDING",name:"PENDING"},{id:"SUSPENDED",name:"SUSPENDED"},{id:"DELETED",name:"DELETED"}],e=oe({limit:10,offset:0,search:"",status:N[0],statusChange:N[0],id:null,submit:!1,statusModal:!1,addModal:!1,addAddressModal:!1,deleteModelStatus:!1,editMode:!1,mealsId:null,imgModal:!1,logoImage:null,name:null,rating:null,price:null,discount:null,shortDesc:null,desc:null});ae(()=>{E()});const F=()=>{var s;E(e.limit,e.offset,e.search,(s=e.status)==null?void 0:s.id)};function E(){f.dispatch("Meals/getMeals",{limit:e.limit,offset:e.offset,keyword:e.search,status:e.status.id})}function B(){if(U.value||T.value||w.value||A.value||j.value||P.value){e.submit=!0;return}e.submit=!1,e.editMode?(f.dispatch("Meals/updateMeals",{id:e.id,name:e.name,price:e.price,discount:e.discount,rating:e.rating,shortDesc:e.shortDesc,desc:e.desc}),e.addModal=!1):(f.dispatch("Meals/saveMeals",{name:e.name,price:e.price,discount:e.discount,rating:e.rating,shortDesc:e.shortDesc,desc:e.desc}),e.addModal=!1)}function G(){e.id&&f.dispatch("Meals/setMealsStatus",{id:e.id,status:e.status}),e.statusModal=!1}function O(){var s;e.offset=e.offset+e.limit,E(e.limit,e.offset,e.search,(s=e.status)==null?void 0:s.id)}function H(s){e.deleteModelStatus=!0,e.mealsId=s}function z(){f.dispatch("Meals/oneMealsDelete",{id:e.mealsId}),e.deleteModelStatus=!1}function q(s){var t,h;e.offset=0,s.length>2?E(e.limit,e.offset,s,(t=e.status)==null?void 0:t.id):s.length<=0&&E(e.limit,e.offset,e.search,(h=e.status)==null?void 0:h.id)}function K(){e.addModal=!0,e.id=null,e.name=null,e.price=null,e.discount=null,e.rating=null,e.shortDesc=null,e.desc=null}function Y(s,t){e.id=s,e.name=t.name,e.price=t.price,e.discount=t.discount,e.rating=t.rating,e.shortDesc=t.shortDesc,e.desc=t.desc,e.editMode=!0,e.addModal=!0}function J(s,t,h){$.push({path:s,query:{id:t,name:h}})}function Q(s,t){e.imgModal=!0,e.id=s,e.logoImage=t}async function W(s){if(s){const t=await s.target;if(t.files[0].type==="image/png"||t.files[0].type==="image/jpg"||t.files[0].type==="image/jpeg")if(t.files[0].size<=1e6){if(t.files){const h=new FileReader;h.onload=p=>{e.logoImage=p.target.result},e.imageFile=t.files[0],h.readAsDataURL(t.files[0])}}else f.dispatch("Alert/error",{msg:"Image too big (max 1 Mb allowed)"});else f.dispatch("Alert/error",{msg:"Upload image in png format."})}}function X(){e.imageFile&&(f.dispatch("Meals/setMealsImage",{id:e.id,file:e.imageFile}),e.imgModal=!1)}function Z(s,t){e.statusModal=!0,e.id=s,e.status=t}const U=b(()=>{if(!e.name)return"Enter Hotel Name!"}),T=b(()=>{if(!e.price)return"Enter Price!"}),w=b(()=>{if(!e.discount)return"Enter discount!"}),A=b(()=>{if(!e.rating)return"Enter rating!"}),j=b(()=>{if(!e.shortDesc)return"Enter Short Description!"}),P=b(()=>{if(!e.desc)return"Enter Description!"});return(s,t)=>{const h=_("hero-bar"),p=_("control"),c=_("base-button"),y=_("base-buttons"),ee=_("new-card"),te=_("card-component"),le=_("main-section"),I=_("modal-box"),k=_("field");return i(),r("section",null,[a(h,null,{default:d(()=>[D("Meals")]),_:1}),a(le,null,{default:d(()=>[l("div",ge,[a(p,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=o=>e.search=o),onKeyup:t[1]||(t[1]=o=>q(o.target.value)),type:"text",placeholder:"Search by : Name"},null,8,["modelValue"]),a(p,{modelValue:e.status,"onUpdate:modelValue":t[2]||(t[2]=o=>e.status=o),options:N},null,8,["modelValue"]),a(c,{type:"button",color:"themeColor",small:"",label:"SUBMIT",onClick:t[3]||(t[3]=m(o=>F(),["prevent"]))})]),l("div",he,[a(te,{class:"mb-6",title:"List (Total: "+g.value.totalMeals+")",onHeaderIconClicked:K,headerIcon:v(ie),iconText:"Add New Meal","has-table":""},{default:d(()=>{var o,L;return[l("div",_e,[((o=g.value.mealsData)==null?void 0:o.length)>0?(i(),r("table",be,[ye,ke,l("tbody",null,[(i(!0),r(se,null,ne(g.value.mealsData,(n,R)=>(i(),r("tr",{key:R},[l("td",De,V(R+1),1),n.image?(i(),r("td",ve,[l("img",{src:n.image,class:"h-8 w-14"},null,8,Ee)])):(i(),r("td",Ve,Ce)),l("td",Ie,V(n.name),1),l("td",Se,"â‚¹"+V(n.price),1),l("td",xe,V(n.discount),1),l("td",Ne,V(n.rating),1),l("td",Ue,[n.status=="ACTIVE"?(i(),r("span",Te,"ACTIVE")):u("",!0),n.status=="DEACTIVE"?(i(),r("span",we,"DEACTIVE")):u("",!0),n.status=="PENDING"?(i(),r("span",Ae,"PENDING")):u("",!0),n.status=="SUSPENDED"?(i(),r("span",je,"SUSPENDED")):u("",!0),n.status=="DELETED"?(i(),r("span",Pe,"DELETED")):u("",!0)]),l("td",null,[a(y,{type:"justify-start lg:justify-center","no-wrap":""},{default:d(()=>[a(c,{type:"button",title:"View Meal",color:"orange",icon:v(de),small:"",rounded:"",onClick:m(S=>J("/meals/details",n.id,n.name),["prevent"])},null,8,["icon","onClick"]),a(c,{type:"button",title:"Update Meal",color:"info",icon:v(re),small:"",rounded:"",onClick:m(S=>Y(n.id,n),["prevent"])},null,8,["icon","onClick"]),a(c,{type:"button",title:"Change Status",color:"purple",icon:v(ue),small:"",rounded:"",onClick:m(S=>Z(n.id,n.status),["prevent"])},null,8,["icon","onClick"]),a(c,{color:"success",title:"Change Image",small:"",rounded:"",icon:v(ce),onClick:m(S=>Q(n.id,n.image),["prevent"])},null,8,["icon","onClick"]),a(c,{type:"button",title:"Delete Meal",color:"danger",icon:v(me),small:"",rounded:"",onClick:m(S=>H(n.id),["prevent"])},null,8,["icon","onClick"])]),_:2},1024)])]))),128))])])):u("",!0)]),((L=g.value.mealsData)==null?void 0:L.length)<=0?(i(),x(ee,{key:0,empty:""})):u("",!0)]}),_:1},8,["title","headerIcon"])]),g.value.dataLoader?(i(),r("div",Le,$e)):u("",!0),g.value.loadMore&&!g.value.dataLoader?(i(),x(y,{key:1,type:"justify-center lg:justify-center"},{default:d(()=>[a(c,{type:"button",color:"themeColor",label:"Load More",onClick:t[4]||(t[4]=m(o=>O(),["prevent"]))})]),_:1})):u("",!0)]),_:1}),a(I,{modelValue:e.statusModal,"onUpdate:modelValue":t[10]||(t[10]=o=>e.statusModal=o),title:"Meal status"},{default:d(()=>[e.id?(i(),r("section",Fe,[l("div",Be,[l("div",Ge,[l("label",Oe,[M(l("input",{class:"form-check-input ml-2",type:"radio",name:"inlineRadioOptions","onUpdate:modelValue":t[5]||(t[5]=o=>e.status=o),value:"ACTIVE"},null,512),[[C,e.status]]),D(" ACTIVE ")])]),l("div",He,[l("label",ze,[M(l("input",{class:"form-check-input ml-2",type:"radio",name:"inlineRadioOptions","onUpdate:modelValue":t[6]||(t[6]=o=>e.status=o),value:"DEACTIVE"},null,512),[[C,e.status]]),D(" DEACTIVE")])]),l("div",qe,[l("label",Ke,[M(l("input",{class:"form-check-input ml-2",type:"radio",name:"inlineRadioOptions","onUpdate:modelValue":t[7]||(t[7]=o=>e.status=o),value:"PENDING"},null,512),[[C,e.status]]),D(" PENDING")])]),l("div",Ye,[l("label",Je,[M(l("input",{class:"form-check-input ml-2",type:"radio",name:"inlineRadioOptions","onUpdate:modelValue":t[8]||(t[8]=o=>e.status=o),value:"SUSPENDED"},null,512),[[C,e.status]]),D(" SUSPENDED")])]),l("div",Qe,[l("label",We,[M(l("input",{class:"form-check-input ml-2",type:"radio",name:"inlineRadioOptions","onUpdate:modelValue":t[9]||(t[9]=o=>e.status=o),value:"DELETED"},null,512),[[C,e.status]]),D(" DELETED")])])]),a(y,{type:"justify-center lg:justify-center pt-5"},{default:d(()=>[g.value.loaderNew?u("",!0):(i(),x(c,{key:0,type:"button",color:"info",small:"",label:"Change Status",onClick:m(G,["prevent"])}))]),_:1})])):u("",!0)]),_:1},8,["modelValue"]),a(I,{modelValue:e.addModal,"onUpdate:modelValue":t[17]||(t[17]=o=>e.addModal=o),title:"Add Hotel"},{default:d(()=>[l("div",Xe,[a(k,{label:"Meals Name *",help:e.submit?U.value:""},{default:d(()=>[a(p,{modelValue:e.name,"onUpdate:modelValue":t[11]||(t[11]=o=>e.name=o),type:"text",name:"name",autocomplete:"name",placeholder:"Enter Meals Name"},null,8,["modelValue"])]),_:1},8,["help"]),a(k,{label:"Price *",help:e.submit?T.value:""},{default:d(()=>[a(p,{modelValue:e.price,"onUpdate:modelValue":t[12]||(t[12]=o=>e.price=o),type:"text",name:"price",autocomplete:"price",placeholder:"Enter Price"},null,8,["modelValue"])]),_:1},8,["help"]),a(k,{label:"Discount *",help:e.submit?w.value:""},{default:d(()=>[a(p,{modelValue:e.discount,"onUpdate:modelValue":t[13]||(t[13]=o=>e.discount=o),type:"text",name:"discount",autocomplete:"discount",placeholder:"Enter Discount"},null,8,["modelValue"])]),_:1},8,["help"]),a(k,{label:"Rating *",help:e.submit?A.value:""},{default:d(()=>[a(p,{modelValue:e.rating,"onUpdate:modelValue":t[14]||(t[14]=o=>e.rating=o),type:"text",name:"rating",autocomplete:"rating",placeholder:"Enter Rating"},null,8,["modelValue"])]),_:1},8,["help"]),a(k,{label:"Short Description *",help:e.submit?j.value:""},{default:d(()=>[a(p,{modelValue:e.shortDesc,"onUpdate:modelValue":t[15]||(t[15]=o=>e.shortDesc=o),type:"text",name:"shortDesc",autocomplete:"shortDesc",placeholder:"Enter Short Description"},null,8,["modelValue"])]),_:1},8,["help"]),a(k,{label:"Description *",help:e.submit?P.value:""},{default:d(()=>[a(p,{modelValue:e.desc,"onUpdate:modelValue":t[16]||(t[16]=o=>e.desc=o),type:"textarea",name:"desc",autocomplete:"desc",placeholder:"Enter Description"},null,8,["modelValue"])]),_:1},8,["help"])]),a(y,{type:"justify-center lg:justify-center pt-5"},{default:d(()=>[g.value.loaderNew?u("",!0):(i(),x(c,{key:0,type:"button",color:"info",small:"",label:"Submit",onClick:m(B,["prevent"])}))]),_:1})]),_:1},8,["modelValue"]),a(I,{modelValue:e.deleteModelStatus,"onUpdate:modelValue":t[19]||(t[19]=o=>e.deleteModelStatus=o),title:"Logout",class:"backdrop-blur-sm"},{default:d(()=>[Ze,a(y,{class:"flex justify-center"},{default:d(()=>[a(c,{onClick:z,color:"danger",small:"",label:"Yes"}),a(c,{onClick:t[18]||(t[18]=o=>e.deleteModelStatus=!1),color:"info",small:"",label:"No"})]),_:1})]),_:1},8,["modelValue"]),a(I,{modelValue:e.imgModal,"onUpdate:modelValue":t[22]||(t[22]=o=>e.imgModal=o),title:"Update Image"},{default:d(()=>[l("section",null,[l("div",et,[l("input",{type:"file",name:"logo",id:"image_input",accept:"image/*",onChange:t[20]||(t[20]=o=>W(o)),class:"z-20 opacity-0 cursor-pointer h-full w-full"},null,32),l("div",tt,[e.logoImage?(i(),r("img",{key:0,class:"h-48 opacity-1",src:e.logoImage},null,8,lt)):u("",!0),e.logoImage?u("",!0):(i(),r("span",ot,"Upload Image"))])]),a(y,{type:"justify-center lg:justify-center pt-5"},{default:d(()=>[a(c,{type:"button",color:"danger",small:"",label:"Upload",onClick:m(X,["prevent"])}),a(c,{type:"button",color:"info",small:"",label:"Cancel",onClick:t[21]||(t[21]=m(o=>e.imgModal=!1,["prevent"]))})]),_:1})])]),_:1},8,["modelValue"])])}}};export{ut as default};
