import{e as n,c as z,z as O,j as m,k as P,l as W,m as o,A as s,u as N,y as b,t as H,H as Q,x as R}from"./@vue-bQO0P59g.js";import{a1 as Z,$ as j,G}from"./@mdi-CZk6uuAL.js";import{b as L}from"./vue-router-D5J0r3Gc.js";import{u as J}from"./vuex-DHdsu8jA.js";const X={class:"grid grid-cols-1 lg:grid-cols-1 gap-6"},Y={class:"grid grid-cols-1 lg:grid-cols-4 gap-4"},ee={class:"grid grid-cols-1 lg:grid-cols-5 gap-4"},le={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},te={class:"grid grid-cols-1 lg:grid-cols-1 gap-4"},de={__name:"Profile",setup(ae){const E=/^([\w\.\+]{1,})([^\W])(@)([\w]{1,})(\.[\w]{1,})+$/,v=J();L();const e=n(()=>v.state.Franchise),a=z({editMode:!1,finalSubmit:!1,stateId:null,cityId:null}),A=()=>{a.editMode=!a.editMode};O(()=>{I("")});const w=()=>{var l,i;if(f.value||V.value||g.value||y.value||C.value||h.value||S.value||x.value||M.value){a.finalSubmit=!0;return}const u={name:e.value.user.name,email:e.value.user.email,price:e.value.user.price,altEmail:e.value.user.altEmail,contactNumber:e.value.user.contactNumber,altContactNumber:e.value.user.altContactNumber,city:(l=e.value.user.city)==null?void 0:l.name,state:(i=e.value.user.state)==null?void 0:i.name,pincode:e.value.user.pincode,address:e.value.user.address,shortDesc:e.value.user.shortDesc,desc:e.value.user.desc,id:e.value.user.id};v.dispatch("Franchise/updateFranchiseProfile",u)},I=u=>{v.dispatch("Franchise/states",{limit:50,offset:0,search:u,status:!0})},K=u=>{a.stateId=u.id,U("")},U=u=>{v.dispatch("Franchise/getCity",{limit:50,offset:0,search:u,status:!0,id:a.stateId})};function T(u){let l=String.fromCharCode(u.keyCode);if(/^[a-zA-Z ]+$/.test(l))return!0;u.preventDefault()}function c(u){let l=String.fromCharCode(u.keyCode);if(/^[0-9]+$/.test(l))return!0;u.preventDefault()}function k(u){let l=String.fromCharCode(u.keyCode);if(/^[a-zA-Z0-9@.]+$/.test(l))return!0;u.preventDefault()}const f=n(()=>{if(!e.value.user.name)return"Name required!"}),V=n(()=>{if(!e.value.user.email||!E.test(e.value.user.email))return"Invalid email!"}),g=n(()=>{if(!e.value.user.price||e.value.user.price>100||e.value.user.price<0)return"Commission must be 0-100!"}),y=n(()=>{if(e.value.user.altEmail&&!E.test(e.value.user.altEmail))return"Invalid email!"}),C=n(()=>{if(e.value.user.contactNumber){if(e.value.user.contactNumber.length<10)return"Invalid Mobile no!"}else return"Mobile no required!"}),h=n(()=>{if(e.value.user.altContactNumber&&e.value.user.altContactNumber.length<10)return"Invalid alternate Mobile no!"}),S=n(()=>{if(!e.value.user.state)return"Select State!"}),x=n(()=>{if(!e.value.user.city)return"Select City!"}),M=n(()=>{if(e.value.user.pincode){if(e.value.user.pincode.length<6)return"Invalid pincode!"}else return"Pincode required!"});return(u,l)=>{const i=m("control"),d=m("field"),D=m("search-select"),$=m("QuillEditor"),B=m("divider"),F=m("base-button"),_=m("base-buttons"),q=m("card-component");return P(),W("div",X,[o(q,{title:a.editMode?"Edit Profile":"Profile Detail",icon:N(Z),headerIcon:a.editMode?N(j):N(G),onHeaderIconClicked:l[23]||(l[23]=t=>A())},{default:s(()=>[b("div",Y,[o(d,{label:"Name *",help:a.finalSubmit&&f.value?f.value:""},{default:s(()=>[o(i,{modelValue:e.value.user.name,"onUpdate:modelValue":l[0]||(l[0]=t=>e.value.user.name=t),type:"text",name:"name",disabled:!a.editMode,onKeypress:l[1]||(l[1]=t=>T(t)),maxlength:"50"},null,8,["modelValue","disabled"])]),_:1},8,["help"]),o(d,{label:"Email *",help:a.finalSubmit&&V.value?V.value:""},{default:s(()=>[o(i,{modelValue:e.value.user.email,"onUpdate:modelValue":l[2]||(l[2]=t=>e.value.user.email=t),type:"text",name:"email",autocomplete:"Title",maxlength:"50",onKeypress:l[3]||(l[3]=t=>k(t)),disabled:!a.editMode},null,8,["modelValue","disabled"])]),_:1},8,["help"]),o(d,{label:"Commission *",help:a.finalSubmit&&g.value?g.value:""},{default:s(()=>[o(i,{modelValue:e.value.user.price,"onUpdate:modelValue":l[4]||(l[4]=t=>e.value.user.price=t),type:"text",name:"price",autocomplete:"Price",maxlength:"5",onKeypress:l[5]||(l[5]=t=>c(t)),disabled:!a.editMode},null,8,["modelValue","disabled"])]),_:1},8,["help"]),o(d,{label:"Alternative Email ",help:a.finalSubmit&&y.value?y.value:""},{default:s(()=>[o(i,{modelValue:e.value.user.altEmail,"onUpdate:modelValue":l[6]||(l[6]=t=>e.value.user.altEmail=t),type:"text",name:"altEmail",autocomplete:"Title",maxlength:"50",onKeypress:l[7]||(l[7]=t=>k(t)),disabled:!a.editMode},null,8,["modelValue","disabled"])]),_:1},8,["help"])]),b("div",ee,[o(d,{label:"Contact Number *",help:a.finalSubmit&&C.value?C.value:""},{default:s(()=>[o(i,{modelValue:e.value.user.contactNumber,"onUpdate:modelValue":l[8]||(l[8]=t=>e.value.user.contactNumber=t),type:"text",name:"contactNumber",autocomplete:"Title",maxlength:"10",onKeypress:l[9]||(l[9]=t=>c(t)),disabled:!a.editMode},null,8,["modelValue","disabled"])]),_:1},8,["help"]),o(d,{label:"Alternative Contact Number",help:a.finalSubmit&&h.value?h.value:""},{default:s(()=>[o(i,{modelValue:e.value.user.altContactNumber,"onUpdate:modelValue":l[10]||(l[10]=t=>e.value.user.altContactNumber=t),type:"text",name:"altContactNumber",autocomplete:"Title",maxlength:"10",onKeypress:l[11]||(l[11]=t=>c(t)),disabled:!a.editMode},null,8,["modelValue","disabled"])]),_:1},8,["help"]),o(d,{label:"State",help:a.finalSubmit&&S.value?S.value:""},{default:s(()=>{var t,p;return[o(D,{modelValue:e.value.user.state,"onUpdate:modelValue":l[12]||(l[12]=r=>e.value.user.state=r),options:e.value.dataState,onOnType:l[13]||(l[13]=r=>I(r)),onOnSelected:l[14]||(l[14]=r=>K(r)),disabled:!a.editMode,placeholder:(p=(t=e.value.user)==null?void 0:t.state)==null?void 0:p.name},null,8,["modelValue","options","disabled","placeholder"])]}),_:1},8,["help"]),o(d,{label:"City",help:a.finalSubmit&&x.value?x.value:""},{default:s(()=>{var t,p;return[o(D,{modelValue:e.value.user.city,"onUpdate:modelValue":l[15]||(l[15]=r=>e.value.user.city=r),options:e.value.dataCity,onOnType:l[16]||(l[16]=r=>U(r)),disabled:!a.editMode,placeholder:(p=(t=e.value.user)==null?void 0:t.city)==null?void 0:p.name},null,8,["modelValue","options","disabled","placeholder"])]}),_:1},8,["help"]),o(d,{label:"Pincode",help:a.finalSubmit&&M.value?M.value:""},{default:s(()=>[o(i,{modelValue:e.value.user.pincode,"onUpdate:modelValue":l[17]||(l[17]=t=>e.value.user.pincode=t),type:"text",name:"pincode",autocomplete:"Title",maxlength:"6",onKeypress:l[18]||(l[18]=t=>c(t)),disabled:!a.editMode},null,8,["modelValue","disabled"])]),_:1},8,["help"])]),b("div",le,[o(d,{label:"Address"},{default:s(()=>[o(i,{modelValue:e.value.user.address,"onUpdate:modelValue":l[19]||(l[19]=t=>e.value.user.address=t),type:"textarea",name:"Address",disabled:!a.editMode,maxlength:"250"},null,8,["modelValue","disabled"])]),_:1}),o(d,{label:"Short Desc"},{default:s(()=>[o(i,{modelValue:e.value.user.shortDesc,"onUpdate:modelValue":l[20]||(l[20]=t=>e.value.user.shortDesc=t),type:"textarea",name:"shortDesc",disabled:!a.editMode,maxlength:"250"},null,8,["modelValue","disabled"])]),_:1})]),b("div",te,[o(d,{label:"Description"},{default:s(()=>[o($,{content:e.value.user.desc,"onUpdate:content":l[21]||(l[21]=t=>e.value.user.desc=t),ref:"targetElement","content-type":"html",theme:"snow",toolbar:"full",maxlength:"500"},null,8,["content"])]),_:1})]),o(B),a.editMode?(P(),H(_,{key:0},{default:s(()=>[o(F,{color:"themeColor",type:"button",label:"Submit",onClick:l[22]||(l[22]=Q(t=>w(),["prevent"]))})]),_:1})):R("",!0)]),_:1},8,["title","icon","headerIcon"])])}}};export{de as default};
