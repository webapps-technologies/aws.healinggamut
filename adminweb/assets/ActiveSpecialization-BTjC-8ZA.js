import{e as q,c as O,z as P,j as d,k as n,l as i,m as s,A as r,B as H,y as o,q as v,M as J,F as K,I as T,E as y,u as k,H as g,x as c,t as S,J as j}from"./@vue-bQO0P59g.js";import{E as G,S as Q,F as W}from"./@mdi-CZk6uuAL.js";import{u as X}from"./vue-router-D5J0r3Gc.js";import{u as Y}from"./vuex-DHdsu8jA.js";const Z={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},tt=o("option",{value:!0},"Active",-1),et=o("option",{value:!1},"Inactive",-1),ot=[tt,et],at={class:"grid grid-cols-1 lg:grid-cols-1 gap-6 new-table"},lt={class:"mt-3 px-6 table-sec"},st={key:0},nt=o("thead",{class:"bg-white dark:bg-gray-900/80 dark:backdrop-blur-md"},[o("tr",null,[o("th",null,"Sr.No."),o("th",null,"Image"),o("th",null,"Name"),o("th",null,"Description"),o("th",null,"Created"),o("th",null,"Status"),o("th",{class:"text-center"},"Actions")])],-1),it={"data-label":"Sr.No"},rt={key:0,"data-label":"Image"},dt=["src"],ct={key:1,"data-label":"Image"},ut=o("img",{src:"https://kreditstorage.b-cdn.net/logo/noimage.png",class:"h-8"},null,-1),pt=[ut],gt={"data-label":"Name"},mt={"data-label":"Description"},ft={"data-label":"Created"},_t={key:2,"data-label":"Status",class:"text-green-500 font-bold"},ht={key:3,"data-label":"Status",class:"text-rose-500 font-bold"},bt={class:"actions-cell"},yt={key:0,class:"flex justify-center items-center"},vt=o("div",{class:"spinner-dual-ring"},[o("div",{class:"ldio"},[o("div"),o("div",null,[o("div")])])],-1),kt=[vt],St={class:"h-48 cursor-pointer relative flex justify-center items-center border-2 rounded-md bg-gray-200"},Ct={class:"absolute flex justify-center items-center gap-2"},xt=["src"],Mt={key:1,class:"text-center text-neutral-400 font-bold"},wt={key:0},Vt={class:"flex justify-center"},jt={class:"form-check form-check-inline"},It=o("label",{class:"form-check-label inline-block text-gray-800 dark:text-slate-300 mr-2",for:"inlineRadio10"},"Active",-1),zt={class:"form-check form-check-inline"},Lt=o("label",{class:"form-check-label inline-block text-gray-800 dark:text-slate-300 mr-2",for:"inlineRadio20"},"Inactive",-1),Rt={__name:"ActiveSpecialization",setup(Ut){const m=Y(),I=X(),u=q(()=>m.state.Specialization),t=O({limit:10,offset:0,search:"",status:!0,statusChange:!0,imgModal:!1,id:null,logoImage:null,logoFile:null,statusModal:!1});P(()=>{_(t.limit,t.offset,t.search,t.status)});function _(l,e,f,h){m.dispatch("Specialization/all",{limit:l,offset:e,search:f,status:h})}function z(){t.offset=t.offset+t.limit,_(t.limit,t.offset,t.search,t.status)}function L(l){l.length>2?_(t.limit,0,l,t.status):_(t.limit,0,t.search,t.status)}function U(){_(t.limit,0,t.search,t.statusChange)}function N(l,e){I.push({path:l,query:{id:e}})}function D(l){if(l){const e=new Date(l).toString().split(" ");return e[2]+" "+e[1]+", "+e[3]}return"-"}function F(l,e){t.imgModal=!0,t.id=l,t.logoImage=e}async function A(l){if(l){const e=await l.target;if(e.files[0].type==="image/png"||e.files[0].type==="image/jpg"||e.files[0].type==="image/jpeg")if(e.files[0].size<=1e6){if(e.files){const f=new FileReader;f.onload=h=>{t.logoImage=h.target.result},t.logoFile=e.files[0],f.readAsDataURL(e.files[0])}}else m.dispatch("ErrorSuccess/error",{msg:"Image too big (max 1 Mb allowed)"});else m.dispatch("ErrorSuccess/error",{msg:"Upload image in png format."})}}function R(){t.logoFile&&m.dispatch("Specialization/updateLogo",{id:t.id,file:t.logoFile}),t.imgModal=!1}function E(l,e){t.statusModal=!0,t.id=l,t.status=e}function B(){t.id&&m.dispatch("Specialization/setSpecializationStatus",{id:t.id,status:t.status}),t.statusModal=!1}return(l,e)=>{const f=d("hero-bar"),h=d("control"),$=d("field"),C=d("main-section"),p=d("base-button"),b=d("base-buttons"),x=d("new-card"),M=d("modal-box");return n(),i("section",null,[s(f,null,{default:r(()=>[H("Specialization")]),_:1}),s(C,null,{default:r(()=>[o("div",Z,[s(h,{modelValue:t.search,"onUpdate:modelValue":e[0]||(e[0]=a=>t.search=a),onKeyup:e[1]||(e[1]=a=>L(a.target.value)),type:"text",placeholder:"Search by : Specialization Name"},null,8,["modelValue"]),s($,null,{default:r(()=>[v(o("select",{"onUpdate:modelValue":e[2]||(e[2]=a=>t.statusChange=a),onChange:e[3]||(e[3]=a=>U()),class:"form-select appearance-none block w-full px-3 py-2 h-10 text-base font-normal text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-dark-700 focus:bg-white focus:border-blue-600 focus:outline-none"},ot,544),[[J,t.statusChange]])]),_:1})])]),_:1}),s(C,null,{default:r(()=>[o("div",at,[s(x,{class:"mb-6",title:"List","has-table":""},{default:r(()=>[o("div",lt,[u.value.data.length>0?(n(),i("table",st,[nt,o("tbody",null,[(n(!0),i(K,null,T(u.value.data,(a,w)=>(n(),i("tr",{key:w},[o("td",it,y(w+1),1),a.image?(n(),i("td",rt,[o("img",{src:a.image,class:"h-8"},null,8,dt)])):(n(),i("td",ct,pt)),o("td",gt,y(a.name),1),o("td",mt,y(a.desc),1),o("td",ft,y(D(a.createdAt)),1),a.status==!0?(n(),i("td",_t,"Active")):(n(),i("td",ht,"Inactive")),o("td",bt,[s(b,{type:"justify-start lg:justify-center","no-wrap":""},{default:r(()=>[s(p,{type:"button",title:"Change Status",color:"info",icon:k(G),small:"",rounded:"",onClick:g(V=>E(a.id,a.status),["prevent"])},null,8,["icon","onClick"]),s(p,{color:"info",icon:k(Q),title:"Edit specialization details",small:"",rounded:"",onClick:g(V=>N("/especializations",a.id),["prevent"])},null,8,["icon","onClick"]),s(p,{color:"success",title:"Change Logo",small:"",rounded:"",icon:k(W),onClick:g(V=>F(a.id,a.image),["prevent"])},null,8,["icon","onClick"])]),_:2},1024)])]))),128))])])):c("",!0)]),u.value.data.length<=0?(n(),S(x,{key:0,empty:""})):c("",!0)]),_:1})]),u.value.dataLoader?(n(),i("div",yt,kt)):c("",!0),u.value.loadMore&&!u.value.dataLoader?(n(),S(b,{key:1,type:"justify-center lg:justify-center"},{default:r(()=>[s(p,{type:"button",color:"themeColor",label:"Load More",onClick:e[4]||(e[4]=g(a=>z(),["prevent"]))})]),_:1})):c("",!0)]),_:1}),s(M,{modelValue:t.imgModal,"onUpdate:modelValue":e[7]||(e[7]=a=>t.imgModal=a),title:"Update Logo"},{default:r(()=>[o("section",null,[o("div",St,[o("input",{type:"file",name:"logo",accept:"image/png || image/jpg || image/jpeg",onChange:e[5]||(e[5]=a=>A(a)),class:"z-20 opacity-0 cursor-pointer h-full w-full"},null,32),o("div",Ct,[t.logoImage?(n(),i("img",{key:0,class:"h-48 opacity-1",src:t.logoImage},null,8,xt)):c("",!0),t.logoImage?c("",!0):(n(),i("span",Mt,"Upload Logo"))])]),s(b,{type:"justify-center lg:justify-center pt-5"},{default:r(()=>[s(p,{type:"button",color:"danger",small:"",label:"Upload",onClick:g(R,["prevent"])}),s(p,{type:"button",color:"info",small:"",label:"Cancel",onClick:e[6]||(e[6]=g(a=>t.imgModal=!1,["prevent"]))})]),_:1})])]),_:1},8,["modelValue"]),s(M,{modelValue:t.statusModal,"onUpdate:modelValue":e[10]||(e[10]=a=>t.statusModal=a),title:"Specialization Status"},{default:r(()=>[t.id?(n(),i("section",wt,[o("div",Vt,[o("div",jt,[v(o("input",{class:"form-check-input mr-2",type:"radio",name:"inlineRadioOptions","onUpdate:modelValue":e[8]||(e[8]=a=>t.status=a),value:!0},null,512),[[j,t.status]]),It]),o("div",zt,[v(o("input",{class:"form-check-input mr-2",type:"radio",name:"inlineRadioOptions","onUpdate:modelValue":e[9]||(e[9]=a=>t.status=a),value:!1},null,512),[[j,t.status]]),Lt])]),s(b,{type:"justify-center lg:justify-center pt-5"},{default:r(()=>[u.value.loaderNew?c("",!0):(n(),S(p,{key:0,type:"button",color:"info",small:"",label:"Change Status",onClick:g(B,["prevent"])}))]),_:1})])):c("",!0)]),_:1},8,["modelValue"])])}}};export{Rt as default};
