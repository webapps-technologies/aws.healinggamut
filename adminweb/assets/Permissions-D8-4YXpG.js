import{e as j,c as F,z as L,j as c,k as t,l,m,A as _,B as D,E as p,u as E,y as e,q as P,L as g,F as M,I as w,x as u,t as V,H as R}from"./@vue-bQO0P59g.js";import{u as T}from"./vuex-DHdsu8jA.js";import{b as z,u as H}from"./vue-router-D5J0r3Gc.js";const G={class:"w-full"},J={key:0},K=e("th",null,"Sl.No.",-1),O=e("th",null,"Menu",-1),Q={class:"checkbox-cell flex w-30 h-8"},W=e("div",{class:"p-2.5 block"},"Permission",-1),X={key:0,"data-label":"Sr.No"},Y={key:1,"data-label":"Menu",class:"font-bold"},Z={key:0,"data-label":"Permission"},$={class:"checkbox-cell flex w-32 h-10"},ee=["onUpdate:modelValue"],te={class:"p-2.5 block"},ae={__name:"Permissions",setup(se){const h=T(),d=z();H();const o=j(()=>h.state.Permission),r=F({permissionModal:!1,id:null,permissionid:null,cModal:!1,permission:[],menu:[],statusAll:!1});L(()=>{B()});function B(){d.query.id&&(r.id=d.query.id,h.dispatch("Permission/getPermission",{id:d.query.id}))}function A(){h.dispatch("Permission/savePermission",{id:r.id,menu:o.value.permissiondata})}const C=()=>{if(r.statusAll==!0)for(let a=0;a<o.value.permissiondata.length;a++){const i=o.value.permissiondata[a].userPermission;for(let n=0;n<i.length;n++)i[n].status=!0}else if(r.statusAll==!1)for(let a=0;a<o.value.permissiondata.length;a++){const i=o.value.permissiondata[a].userPermission;for(let n=0;n<i.length;n++)i[n].status=!1}};return(a,i)=>{const n=c("hero-bar"),b=c("new-card"),N=c("base-button"),q=c("base-buttons"),S=c("main-section");return t(),l("section",null,[m(n,null,{default:_(()=>[D("Permission ("+p(E(d).query.username)+")",1)]),_:1}),m(S,null,{default:_(()=>{var v;return[m(b,{class:"mb-6",title:" ","has-table":""},{default:_(()=>{var y;return[e("div",G,[((y=o.value.permissiondata)==null?void 0:y.length)>0?(t(),l("table",J,[e("thead",null,[e("tr",null,[K,O,e("th",null,[e("div",Q,[e("div",null,[P(e("input",{type:"checkbox",class:"w-4 pt-2 h-10 cursor-pointer","onUpdate:modelValue":i[0]||(i[0]=s=>r.statusAll=s),onChange:C},null,544),[[g,r.statusAll]])]),W])])])]),e("tbody",null,[(t(!0),l(M,null,w(o.value.permissiondata,(s,k)=>(t(),l("tr",{key:k},[s.title!="Menu"&&s.title!="Permission"?(t(),l("td",X,p(k+1),1)):u("",!0),s.title!="Menu"&&s.title!="Permission"?(t(),l("td",Y,p(s.title),1)):u("",!0),(t(!0),l(M,null,w(s.userPermission,(f,U)=>{var x;return t(),l("span",{key:U},[s.title!="Menu"&&s.title!="Permission"?(t(),l("td",Z,[e("div",$,[e("div",null,[P(e("input",{type:"checkbox",class:"w-5 h-12 cursor-pointer","onUpdate:modelValue":I=>f.status=I},null,8,ee),[[g,f.status]])]),e("div",te,p((x=f.permission)==null?void 0:x.name),1)])])):u("",!0)])}),128))]))),128))])])):u("",!0)])]}),_:1}),o.value.dataLoader?u("",!0):(t(),V(q,{key:0,type:"justify-center lg:justify-right"},{default:_(()=>[m(N,{type:"button",color:"info",label:"SUBMIT",onClick:R(A,["prevent"])})]),_:1})),((v=o.value.permissiondata)==null?void 0:v.length)<0?(t(),V(b,{key:1,empty:""})):u("",!0)]}),_:1})])}}};export{ae as default};
