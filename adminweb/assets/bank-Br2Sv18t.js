import{e as c,c as K,j as d,k as y,l as g,y as n,m as o,A as r,u as B,F as x,I as M,H as A,E as m}from"./@vue-bQO0P59g.js";import{a2 as $,G as Z}from"./@mdi-CZk6uuAL.js";import{b as j}from"./vue-router-D5J0r3Gc.js";import{u as q}from"./vuex-DHdsu8jA.js";const L={class:"grid grid-cols-1 lg:grid-cols-1 gap-6"},R={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},z={class:"mt-3 table-sec"},G=n("caption",null,null,-1),P=n("thead",{class:"bg-blue dark:bg-gray-900/80 dark:backdrop-blur-md"},[n("tr",null,[n("th",null,"Sl.No."),n("th",null,"Bank Name"),n("th",null,"Account Number"),n("th",null,"Holder Name"),n("th",null,"Branch Name"),n("th",null,"IFSC"),n("th",{class:"text-center"},"Action")])],-1),W={"data-label":"Sl.No."},J={"data-label":"Bank Name"},O={"data-label":"Account Number"},Q={"data-label":"Holder Name"},T={"data-label":"Branch Name"},X={"data-label":"IFSC"},Y={class:"actions-cell"},re={__name:"bank",setup(ee){const i=q(),V=j(),D=c(()=>i.state.Doctor),e=K({id:null,editMode:!1,finalSubmit:!1,bankName:null,branchName:null,holderName:null,accountNumber:null,ifsc:null});function E(l,t,u,s,k,v){e.editMode=!0,e.id=l,e.bankName=t,e.accountNumber=u,e.holderName=s,e.branchName=k,e.ifsc=v}const I=async()=>{if(b.value||N.value||f.value||p.value||h.value){e.finalSubmit=!0;return}if(e.editMode){const l={id:e.id,bankName:e.bankName,branchName:e.branchName,holderName:e.holderName,accountNumber:e.accountNumber,ifsc:e.ifsc,accountId:V.query.id};await i.dispatch("Doctor/updateBank",l)}else{const l={bankName:e.bankName,branchName:e.branchName,holderName:e.holderName,accountNumber:e.accountNumber,ifsc:e.ifsc,accountId:V.query.id};await i.dispatch("Doctor/addBank",l)}e.bankName=null,e.branchName=null,e.holderName=null,e.accountNumber=null,e.ifsc=null},b=c(()=>{if(!e.bankName)return"Enter Bank Name!"}),N=c(()=>{if(!e.branchName)return"Enter Branch Name!"}),f=c(()=>{if(!e.holderName)return"Enter Holder Name!"}),p=c(()=>{if(!e.accountNumber)return"Enter Account Number!"}),h=c(()=>{const l=/^[A-Z]{4}0[A-Z0-9]{6}$/;if(e.ifsc){if(!l.test(e.ifsc))return"Enter valid IFSC Code."}else return"Enter IFSC Code!"});function F(l){let t=String.fromCharCode(l.keyCode);if(/^[0-9]+$/.test(t))return!0;l.preventDefault()}function _(l){let t=String.fromCharCode(l.keyCode);if(/^[a-zA-Z ]+$/.test(t))return!0;l.preventDefault()}function U(l){let t=String.fromCharCode(l.keyCode);if(/^[A-Z0-9]+$/.test(t))return!0;l.preventDefault()}return(l,t)=>{const u=d("control"),s=d("field"),k=d("divider"),v=d("base-button"),S=d("base-buttons"),w=d("card-component"),H=d("base-button-rounded");return y(),g(x,null,[n("div",L,[o(w,{title:"Bank Detail",icon:B($)},{default:r(()=>[n("div",R,[o(s,{label:"Bank Name *",help:e.finalSubmit&&b.value?b.value:""},{default:r(()=>[o(u,{modelValue:e.bankName,"onUpdate:modelValue":t[0]||(t[0]=a=>e.bankName=a),type:"text",name:"bank_name",onKeypress:t[1]||(t[1]=a=>_(a)),maxlength:"30"},null,8,["modelValue"])]),_:1},8,["help"]),o(s,{label:"Branch Name",help:e.finalSubmit&&N.value?N.value:""},{default:r(()=>[o(u,{modelValue:e.branchName,"onUpdate:modelValue":t[2]||(t[2]=a=>e.branchName=a),type:"text",name:"branch_name",onKeypress:t[3]||(t[3]=a=>_(a)),maxlength:"50"},null,8,["modelValue"])]),_:1},8,["help"]),o(s,{label:"Holder Name",help:e.finalSubmit&&f.value?f.value:""},{default:r(()=>[o(u,{modelValue:e.holderName,"onUpdate:modelValue":t[4]||(t[4]=a=>e.holderName=a),type:"text",name:"holder_name",onKeypress:t[5]||(t[5]=a=>_(a)),maxlength:"30"},null,8,["modelValue"])]),_:1},8,["help"]),o(s,{label:"Account Number",help:e.finalSubmit&&p.value?p.value:""},{default:r(()=>[o(u,{modelValue:e.accountNumber,"onUpdate:modelValue":t[6]||(t[6]=a=>e.accountNumber=a),type:"text",name:"account_number",onKeypress:t[7]||(t[7]=a=>F(a)),maxlength:"18"},null,8,["modelValue"])]),_:1},8,["help"]),o(s,{label:"IFSC",help:e.finalSubmit&&h.value?h.value:""},{default:r(()=>[o(u,{modelValue:e.ifsc,"onUpdate:modelValue":t[8]||(t[8]=a=>e.ifsc=a),type:"text",name:"ifsc",onKeypress:t[9]||(t[9]=a=>U(a)),maxlength:"11"},null,8,["modelValue"])]),_:1},8,["help"])]),o(k),o(S,null,{default:r(()=>[o(v,{color:"themeColor",type:"button",label:e.editMode?"Update":"Submit",onClick:A(I,["prevent"])},null,8,["label"])]),_:1})]),_:1},8,["icon"])]),n("div",z,[n("table",null,[G,P,n("tbody",null,[(y(!0),g(x,null,M(D.value.user.account.bankAccount,(a,C)=>(y(),g("tr",{key:C},[n("td",W,m(C+1),1),n("td",J,m(a.bankName),1),n("td",O,m(a.accountNumber),1),n("td",Q,m(a.holderName),1),n("td",T,m(a.branchName),1),n("td",X,m(a.ifsc),1),n("td",Y,[o(S,{type:"justify-start lg:justify-center","no-wrap":""},{default:r(()=>[o(H,{icon:B(Z),title:"Edit Bank Details",color:"purple",onClick:A(ae=>E(a.id,a.bankName,a.accountNumber,a.holderName,a.branchName,a.ifsc),["prevent"]),small:"",rounded:""},null,8,["icon","onClick"])]),_:2},1024)])]))),128))])])])],64)}}};export{re as default};
