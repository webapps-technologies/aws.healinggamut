import{e as b,c as E,z as F,j as i,k as g,l as h,y as a,m as o,A as d,u as O,F as w,I as z,H as f,E as y}from"./@vue-bQO0P59g.js";import{a2 as H,a3 as R}from"./@mdi-CZk6uuAL.js";import{b as Y}from"./vue-router-D5J0r3Gc.js";import{u as q}from"./vuex-DHdsu8jA.js";const G={class:"grid grid-cols-1 lg:grid-cols-1 gap-6"},J={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},K={class:"mt-3 table-sec"},P=a("caption",null,null,-1),Q=a("thead",{class:"bg-blue dark:bg-gray-900/80 dark:backdrop-blur-md"},[a("tr",null,[a("th",null,"Sl.No."),a("th",null,"State"),a("th",null,"City"),a("th",null,"Area"),a("th",{class:"text-center"},"Action")])],-1),W={"data-label":"Sl.No."},X={"data-label":"State"},Z={"data-label":"City"},ee={"data-label":"Area"},te={"data-label":"Action",class:"text-center"},le=a("div",{class:"text-center pb-5"},[a("h2",{class:"text-lg text-red-500"}," Are you sure you want to delete this Address? ")],-1),ue={__name:"ourLocation",setup(ae){const u=q();Y();const s=b(()=>u.state.Ambulance),e=E({id:null,editMode:!1,finalSubmit:!1,state:null,city:null,area:null,pincode:null,stateId:null,cityId:null});F(()=>{V("")});const V=n=>{u.dispatch("Ambulance/states",{limit:50,offset:0,search:n,status:!0})},B=n=>{e.stateId=n.id,C("")},C=n=>{u.dispatch("Ambulance/getCity",{limit:50,offset:0,search:n,status:!0,id:e.stateId})},N=n=>{e.cityId=n.id,k("")},k=n=>{u.dispatch("Ambulance/getArea",{limit:50,offset:0,search:n,status:!0,id:e.cityId})},j=async()=>{var t,r,c,m;if(_.value||v.value||A.value){e.finalSubmit=!0;return}const n={cityId:(t=e.city)==null?void 0:t.id,areaId:(r=e.area)==null?void 0:r.id,stateId:(c=e.state)==null?void 0:c.id,pincode:e.pincode,accountId:(m=s.value.user.account)==null?void 0:m.id,ambulanceId:s.value.user.id};await u.dispatch("Ambulance/addAmbulanceAddress",n),e.state=null,e.city=null,e.area=null,e.pincode=null},T=n=>{e.id=n,s.value.deleteModal=!0},U=()=>{e.id&&u.dispatch("Ambulance/deleteAmbulanceAddress",{id:e.id})},_=b(()=>{if(!e.state)return"Select State!"}),v=b(()=>{if(!e.city)return"Select City!"}),A=b(()=>{if(!e.area)return"Select Area!"});return(n,t)=>{const r=i("search-select"),c=i("field"),m=i("divider"),p=i("base-button"),S=i("base-buttons"),L=i("card-component"),$=i("modal-box");return g(),h(w,null,[a("div",G,[o(L,{title:"Our Location Detail",icon:O(H)},{default:d(()=>[a("div",J,[o(c,{label:"State",help:e.finalSubmit&&_.value?_.value:""},{default:d(()=>[o(r,{modelValue:e.state,"onUpdate:modelValue":t[0]||(t[0]=l=>e.state=l),options:s.value.dataState,onOnType:t[1]||(t[1]=l=>V(l)),onOnSelected:t[2]||(t[2]=l=>B(l))},null,8,["modelValue","options"])]),_:1},8,["help"]),o(c,{label:"City",help:e.finalSubmit&&v.value?v.value:""},{default:d(()=>[o(r,{modelValue:e.city,"onUpdate:modelValue":t[3]||(t[3]=l=>e.city=l),options:s.value.dataCity,onOnType:t[4]||(t[4]=l=>C(l)),onOnSelected:t[5]||(t[5]=l=>N(l))},null,8,["modelValue","options"])]),_:1},8,["help"]),o(c,{label:"Area",help:e.finalSubmit&&A.value?A.value:""},{default:d(()=>[o(r,{modelValue:e.area,"onUpdate:modelValue":t[6]||(t[6]=l=>e.area=l),options:s.value.dataArea,onOnType:t[7]||(t[7]=l=>k(l))},null,8,["modelValue","options"])]),_:1},8,["help"])]),o(m),o(S,null,{default:d(()=>[o(p,{color:"themeColor",type:"button",label:"Submit",onClick:f(j,["prevent"])})]),_:1})]),_:1},8,["icon"])]),a("div",K,[a("table",null,[P,Q,a("tbody",null,[(g(!0),h(w,null,z(s.value.user.ambulanceAddress,(l,I)=>{var x,M,D;return g(),h("tr",{key:I},[a("td",W,y(I+1),1),a("td",X,y((x=l.state)==null?void 0:x.name),1),a("td",Z,y((M=l.city)==null?void 0:M.name),1),a("td",ee,y((D=l.area)==null?void 0:D.name),1),a("td",te,[o(S,{type:"justify-center","no-wrap":""},{default:d(()=>[o(p,{color:"danger",title:"Delete Address",icon:O(R),small:"",rounded:"",onClick:f(oe=>T(l.id),["prevent"])},null,8,["icon","onClick"])]),_:2},1024)])])}),128))])])]),o($,{modelValue:s.value.deleteModal,"onUpdate:modelValue":t[10]||(t[10]=l=>s.value.deleteModal=l),title:"Delete Ambulance Address"},{default:d(()=>[a("section",null,[le,o(S,{type:"justify-center lg:justify-center pt-5"},{default:d(()=>[o(p,{type:"button",color:"danger",small:"",label:"Yes",onClick:t[8]||(t[8]=f(l=>U(),["prevent"]))}),o(p,{type:"button",color:"info",small:"",label:"No",onClick:t[9]||(t[9]=f(l=>s.value.deleteModal=!1,["prevent"]))})]),_:1})])]),_:1},8,["modelValue"])],64)}}};export{ue as default};
