import{e as i,c as L,j as n,k as b,l as $,m as a,A as r,y as v,H as _,t as y,x as h}from"./@vue-bQO0P59g.js";import"./moment-Cl4UOzQZ.js";import{u as R}from"./vue-router-D5J0r3Gc.js";import{u as T}from"./vuex-DHdsu8jA.js";const D={class:"grid grid-cols-1 lg:grid-cols-1"},E={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},K={class:"grid grid-cols-1 lg:grid-cols-1 gap-6"},O={__name:"AddLaboratory",setup(U){const V=/^([\w\.\+]{1,})([^\W])(@)([\w]{1,})(\.[\w]{1,})+$/,g=T(),N=R(),t=i(()=>g.state.Laboratory),u=L({finalSubmit:!1}),C=()=>{if(m.value||s.value||d.value){u.finalSubmit=!0;return}const o={name:t.value.name,phoneNumber:t.value.phoneNumber,emailId:t.value.emailId,type:"LABORATORY"};g.dispatch("Laboratory/addNewAccount",o)},s=i(()=>{if(t.value.phoneNumber){if(t.value.phoneNumber.length<10)return"Invalid mobile no!"}else return"Mobile no required!"}),m=i(()=>{if(!t.value.name)return"Name required!"}),d=i(()=>{if(!t.value.emailId||!V.test(t.value.emailId))return"Invalid email!"});function S(o){let e=String.fromCharCode(o.keyCode);if(/^[a-zA-Z ]+$/.test(e))return!0;o.preventDefault()}function k(o){let e=String.fromCharCode(o.keyCode);if(/^[a-zA-Z0-9@.]+$/.test(e))return!0;o.preventDefault()}function x(o){let e=String.fromCharCode(o.keyCode);if(/^[0-9]+$/.test(e))return!0;o.preventDefault()}function w(){N.go(-1)}return(o,e)=>{const p=n("control"),c=n("field"),f=n("base-button"),I=n("base-buttons"),A=n("new-card"),B=n("main-section");return b(),$("section",null,[a(B,null,{default:r(()=>[v("div",D,[a(A,{title:"Add Laboratory",form:"",onSubmit:_(C,["prevent"])},{default:r(()=>[v("div",E,[a(c,{label:"Name *",help:u.finalSubmit&&m.value?m.value:""},{default:r(()=>[a(p,{modelValue:t.value.name,"onUpdate:modelValue":e[0]||(e[0]=l=>t.value.name=l),type:"text",name:"name",autocomplete:"Title",onKeypress:e[1]||(e[1]=l=>S(l)),maxlength:"50"},null,8,["modelValue"])]),_:1},8,["help"]),a(c,{label:"Phone Number *",help:u.finalSubmit&&s.value?s.value:""},{default:r(()=>[a(p,{modelValue:t.value.phoneNumber,"onUpdate:modelValue":e[2]||(e[2]=l=>t.value.phoneNumber=l),type:"text",name:"name",autocomplete:"Title",onKeypress:e[3]||(e[3]=l=>x(l)),maxlength:"10"},null,8,["modelValue"])]),_:1},8,["help"]),a(c,{label:"Email Id*",help:u.finalSubmit&&d.value?d.value:""},{default:r(()=>[a(p,{modelValue:t.value.emailId,"onUpdate:modelValue":e[4]||(e[4]=l=>t.value.emailId=l),type:"text",name:"email",autocomplete:"Title",onKeypress:e[5]||(e[5]=l=>k(l)),maxlength:"50"},null,8,["modelValue"])]),_:1},8,["help"])]),v("div",K,[a(I,null,{default:r(()=>[t.value.loaderNew?(b(),y(f,{key:0,color:"info",type:"button",label:"Wait...",disabled:""})):h("",!0),t.value.loaderNew?h("",!0):(b(),y(f,{key:1,color:"themeColor",type:"submit",label:"Submit",effect:""})),a(f,{color:"danger",label:"Back",onClick:e[6]||(e[6]=_(l=>w(),["prevent"]))})]),_:1})])]),_:1})])]),_:1})])}}};export{O as default};
