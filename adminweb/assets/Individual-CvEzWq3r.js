import{e as R,c as X,z as G,j as m,k as i,l as c,y as t,m as l,A as s,u as h,F as k,I as S,E as v,x as b,H as D,t as J,q as M,L as Y,B as U}from"./@vue-bQO0P59g.js";import{X as K,a3 as Q,Y as W,C as Z}from"./@mdi-CZk6uuAL.js";import{h as _}from"./moment-Cl4UOzQZ.js";import{u as w}from"./vuex-DHdsu8jA.js";import{b as ee}from"./vue-router-D5J0r3Gc.js";const te={class:"grid grid-cols-1 lg:grid-cols-1 gap-6"},le={class:"grid grid-cols-2 lg:grid-cols-2 gap-4"},oe={class:"grid grid-cols-1 lg:grid-cols-1 gap-4"},ae=t("caption",null,null,-1),de=t("thead",null,[t("tr",null,[t("th",null,"Sl. No."),t("th",null,"Organization"),t("th",null,"Date"),t("th",{class:"text-center"},"Update")])],-1),ne={"data-label":"Sl. No."},se={"data-label":"Organization"},ie={key:0},ue={"data-label":"From"},ce={class:"text-center"},re={class:"grid grid-cols-1 lg:grid-cols-1 mb-5"},me={class:"flex flex-col"},pe={class:"grid grid-cols-1 lg:grid-cols-1 mb-5"},_e={class:"grid grid-cols-1 lg:grid-cols-2"},fe={class:"checkbox pr-5"},he=["onUpdate:modelValue"],ve=t("span",{class:"check"},null,-1),ge={key:0,class:"checkbox pr-5"},be=["onUpdate:modelValue"],De=t("span",{class:"check"},null,-1),Ve={key:1,class:"checkbox"},ye=["onUpdate:modelValue"],ke=t("span",{class:"check"},null,-1),Me={key:2,class:"checkbox"},Ye=["onUpdate:modelValue"],Ue=t("span",{class:"check"},null,-1),xe={class:"grid grid-cols-1 lg:grid-cols-2 gap-4 mt-5"},Se=t("div",{class:"text-center pb-5"},[t("h2",{class:"text-lg text-red-500"}," Are you sure you want to delete this Individual Schedule? ")],-1),Be={__name:"Individual",setup(Ce){const f=w(),V=ee(),n=R(()=>f.state.Doctor),o=X({minDate:_().format("YYYY-MM-DD"),date:_().format("YYYY-MM-DD"),fromDate:_().format("YYYY-MM-DD"),toDate:_().format("YYYY-MM-DD"),id:null,spdId:null,addMode:null,editMode:null}),H=()=>{n.value.scheduleModal=!0,o.addMode=!0,o.editMode=!1},N=()=>{o.addMode?V.query.id&&o.minDate<o.date&&f.dispatch("Doctor/individualSchedule",{id:V.query.id,date:o.date,period:n.value.period}):V.query.id&&o.minDate<o.date&&f.dispatch("Doctor/individualScheduleUpdate",{id:V.query.id,schduledocId:o.id,date:o.date,period:n.value.period}),n.value.scheduleModal=!1};G(()=>{C()});const O=(u,d,r)=>{o.addMode=!1,o.editMode=!0,o.id=u,o.date=_(d).format("YYYY-MM-DD"),n.value.period=r,n.value.scheduleModal=!0},C=()=>{n.value.user.id&&o.fromDate&&o.toDate&&f.dispatch("Doctor/getSchedule",{id:n.value.user.id,fromDate:o.fromDate,toDate:o.toDate,mode:"Individual"})},B=u=>{f.dispatch("Doctor/getOrganization",{limit:10,offset:0,search:u})},T=u=>u?"Organization ("+u.name+")":"Organization",$=u=>_(u).format("DD MMM YYYY"),q=u=>{o.spdId=u,n.value.deleteModal=!0},j=()=>{o.spdId&&f.dispatch("Doctor/deleteindividualSchedule",{id:o.spdId}),n.value.deleteModal=!1};return(u,d)=>{const r=m("control"),p=m("field"),g=m("base-button"),x=m("base-buttons"),A=m("new-card"),E=m("divider"),F=m("card-component"),L=m("search-select"),I=m("modal-box");return i(),c(k,null,[t("div",te,[l(F,{title:"Dates",icon:h(W),headerIcon:h(Z),onHeaderIconClicked:d[3]||(d[3]=e=>H())},{default:s(()=>[t("div",le,[l(p,{label:"Current Date"},{default:s(()=>[l(r,{modelValue:o.fromDate,"onUpdate:modelValue":d[0]||(d[0]=e=>o.fromDate=e),type:"date",name:"fromDate"},null,8,["modelValue"])]),_:1}),l(p,{label:"To Date"},{default:s(()=>[l(r,{modelValue:o.toDate,"onUpdate:modelValue":d[1]||(d[1]=e=>o.toDate=e),type:"date",name:"toDate",onChange:d[2]||(d[2]=e=>C())},null,8,["modelValue"])]),_:1})]),t("div",oe,[t("table",null,[ae,de,t("tbody",null,[(i(!0),c(k,null,S(n.value.schedules,(e,y)=>(i(),c("tr",{key:y},[t("td",ne,v(y+1),1),t("td",se,[(i(!0),c(k,null,S(e.period,(a,P)=>{var z;return i(),c("div",{key:P},[a.organization?(i(),c("p",ie,v((z=a.organization)==null?void 0:z.name)+" ("+v(h(_)(a.time_start,"HH:mm").format("HH:mm A"))+" - "+v(h(_)(a.time_end,"HH:mm").format("HH:mm A"))+")",1)):b("",!0)])}),128))]),t("td",ue,v($(e.leaveStartDate)),1),t("td",ce,[l(x,{type:"justify-center","no-wrap":""},{default:s(()=>[l(g,{color:"info",icon:h(K),small:"",rounded:"",onClick:D(a=>O(e.id,e.leaveStartDate,e.period),["prevent"])},null,8,["icon","onClick"]),l(g,{color:"danger",icon:h(Q),small:"",rounded:"",onClick:D(a=>q(e.id),["prevent"])},null,8,["icon","onClick"])]),_:2},1024)])]))),128))])]),n.value.schedules.length<=0?(i(),J(A,{key:0,empty:""})):b("",!0)]),l(E)]),_:1},8,["icon","headerIcon"])]),l(I,{modelValue:n.value.scheduleModal,"onUpdate:modelValue":d[7]||(d[7]=e=>n.value.scheduleModal=e),title:"Individual Schedule"},{default:s(()=>[t("section",null,[t("div",re,[l(p,{label:"Date"},{default:s(()=>[l(r,{modelValue:o.date,"onUpdate:modelValue":d[4]||(d[4]=e=>o.date=e),type:"date",name:"toDate"},null,8,["modelValue"])]),_:1})]),t("div",me,[(i(!0),c(k,null,S(n.value.period,(e,y)=>(i(),c("div",{class:"w-full border rounded m-1 p-4",key:y},[t("div",pe,[l(p,{label:T(e.organization),"wrap-body":""},{default:s(()=>[l(L,{modelValue:e.organization,"onUpdate:modelValue":a=>e.organization=a,options:n.value.organizations,onOnType:d[5]||(d[5]=a=>B(a))},null,8,["modelValue","onUpdate:modelValue","options"])]),_:2},1032,["label"])]),t("div",_e,[t("label",fe,[M(t("input",{type:"checkbox","onUpdate:modelValue":a=>e.periodStatus=a},null,8,he),[[Y,e.periodStatus]]),ve,U("   "+v(e.name),1)]),e.periodStatus?(i(),c("label",ge,[M(t("input",{type:"checkbox","onUpdate:modelValue":a=>e.live_doctor=a},null,8,be),[[Y,e.live_doctor]]),De,U("   Live Doctor ")])):b("",!0),e.periodStatus?(i(),c("label",Ve,[M(t("input",{type:"checkbox","onUpdate:modelValue":a=>e.telemedicine=a},null,8,ye),[[Y,e.telemedicine]]),ke,U("   Telemedicine ")])):b("",!0),e.periodStatus?(i(),c("label",Me,[M(t("input",{type:"checkbox","onUpdate:modelValue":a=>e.clinicVisit=a},null,8,Ye),[[Y,e.clinicVisit]]),Ue,U("   Clinic Visit ")])):b("",!0)]),t("div",xe,[l(p,{label:"Start Time"},{default:s(()=>[l(r,{modelValue:e.time_start,"onUpdate:modelValue":a=>e.time_start=a,type:"time",name:"stime"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(p,{label:"End Time"},{default:s(()=>[l(r,{modelValue:e.time_end,"onUpdate:modelValue":a=>e.time_end=a,type:"time",name:"etime"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(p,{label:"No. of Patient"},{default:s(()=>[l(r,{modelValue:e.no_of_patients,"onUpdate:modelValue":a=>e.no_of_patients=a,type:"number",name:"nopatient"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(p,{label:"Fees"},{default:s(()=>[l(r,{modelValue:e.fees,"onUpdate:modelValue":a=>e.fees=a,type:"number",name:"fees"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)])]))),128)),l(x,{class:"ml-1"},{default:s(()=>[l(g,{color:"themeColor",type:"button",label:"Submit",onClick:d[6]||(d[6]=D(e=>N(),["prevent"]))})]),_:1})])])]),_:1},8,["modelValue"]),l(I,{modelValue:n.value.deleteModal,"onUpdate:modelValue":d[10]||(d[10]=e=>n.value.deleteModal=e),title:"Delete Individual Schedule"},{default:s(()=>[t("section",null,[Se,l(x,{type:"justify-center lg:justify-center pt-5"},{default:s(()=>[l(g,{type:"button",color:"danger",small:"",label:"Yes",onClick:d[8]||(d[8]=D(e=>j(),["prevent"]))}),l(g,{type:"button",color:"info",small:"",label:"No",onClick:d[9]||(d[9]=D(e=>n.value.deleteModal=!1,["prevent"]))})]),_:1})])]),_:1},8,["modelValue"])],64)}}};export{Be as default};
