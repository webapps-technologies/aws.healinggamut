import{e as h,c as Q,z as D,j as d,k as r,l as c,m as a,A as s,H as _,B as I,y as o,u as C,F as L,I as U,E as b,x as m,t as g}from"./@vue-bQO0P59g.js";import{C as $,S as T}from"./@mdi-CZk6uuAL.js";import{u as H}from"./vuex-DHdsu8jA.js";import{u as P}from"./vue-router-D5J0r3Gc.js";const z={class:"grid grid-cols-2 lg:grid-cols-1 gap-2 py-2"},K={class:"w-full overflow-x-scroll"},R={key:0},G=o("thead",{class:"bg-white dark:bg-gray-900/80 dark:backdrop-blur-md"},[o("tr",null,[o("th",null,"Sl.No."),o("th",null,"Question"),o("th",null,"Answer"),o("th",null,"Created At"),o("th",{class:"text-center"},"Action")])],-1),J={"data-label":"Sr.No"},O={"data-label":"Question"},W={"data-label":"Answer"},X={"data-label":"Created At"},Y={class:"actions-cell"},Z={key:1,class:"flex justify-center items-center"},ee=o("div",{class:"spinner-dual-ring"},[o("div",{class:"ldio"},[o("div"),o("div",null,[o("div")])])],-1),te=[ee],oe={class:"grid grid-cols-1 lg:grid-cols-1 gap-2"},ue={__name:"Faq",setup(le){const f=H();P();const u=h(()=>f.state.Faq),e=Q({limit:10,offset:0,keyword:"",id:null,question:null,wsuModal:!1,submit:!1,editMode:!1,answer:null});D(()=>{w(e.limit,e.offset,e.keyword)});async function w(n,t,p){await f.dispatch("Faq/getFaq",{limit:n,offset:t,keyword:p})}function F(n){n.length>2?w(e.limit,e.offset,n):n.length<=0&&w(e.limit,e.offset,e.keyword)}function S(n){if(n){const t=new Date(n).toString().split(" ");return t[2]+" "+t[1]+", "+t[3]}return"-"}function x(n,t,p,i){e.wsuModal=!0,e.editMode=!0,e.id=n,e.question=t,e.answer=i}function j(){e.wsuModal=!0,e.id=null,e.question=null,e.answer=null,e.editMode=!1}async function N(){if(e.editMode){if(k.value){e.submit=!0;return}e.submit=!1,f.dispatch("Faq/updateFaq",{id:e.id,answer:e.answer})}else{if(q.value){e.submit=!0;return}e.submit=!1,f.dispatch("Faq/addFaq",{question:e.question})}e.wsuModal=!1}const q=h(()=>{if(!e.question)return"Question required!"}),k=h(()=>{if(!e.answer)return"Answer required!"});return(n,t)=>{const p=d("hero-bar"),i=d("control"),y=d("base-button"),v=d("base-buttons"),V=d("card-component"),B=d("main-section"),M=d("field"),E=d("modal-box");return r(),c("section",null,[a(p,null,{default:s(()=>[I("Faqs")]),_:1}),a(B,null,{default:s(()=>[o("div",z,[a(i,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=l=>e.search=l),type:"text",placeholder:"Search..",onKeyup:t[1]||(t[1]=l=>F(l.target.value))},null,8,["modelValue"])]),a(V,{title:"List (Total: "+u.value.total+")",onHeaderIconClicked:t[2]||(t[2]=l=>j()),headerIcon:C($),iconText:"Add New Faq","has-table":""},{default:s(()=>[o("div",K,[u.value.data.length>0?(r(),c("table",R,[G,o("tbody",null,[(r(!0),c(L,null,U(u.value.data,(l,A)=>(r(),c("tr",{key:A},[o("td",J,b(A+1),1),o("td",O,b(l.question),1),o("td",W,b(l.answer),1),o("td",X,b(S(l.createdAt)),1),o("td",Y,[a(v,{type:"justify-center lg:justify-center","no-wrap":""},{default:s(()=>[a(y,{color:"info",icon:C(T),title:"Edit setting",small:"",rounded:"",onClick:_(ne=>x(l.id,l.question,l.status,l.answer),["prevent"])},null,8,["icon","onClick"])]),_:2},1024)])]))),128))])])):m("",!0)])]),_:1},8,["title","headerIcon"]),u.value.data.length<=0?(r(),g(V,{key:0,empty:""})):m("",!0),u.value.dataLoader?(r(),c("div",Z,te)):m("",!0),u.value.loadMore&&!u.value.dataLoader?(r(),g(v,{key:2,type:"justify-center lg:justify-center"},{default:s(()=>[a(y,{type:"button",color:"info",label:"Load More",onClick:t[3]||(t[3]=_(l=>n.loadMoreData(),["prevent"]))})]),_:1})):m("",!0)]),_:1}),a(E,{modelValue:e.wsuModal,"onUpdate:modelValue":t[6]||(t[6]=l=>e.wsuModal=l),title:e.editMode?"Update Answer":"Add Question",form:"",onSubmit:t[7]||(t[7]=_(l=>n.onSubmit(),["prevent"]))},{default:s(()=>[o("section",null,[o("div",oe,[a(M,{label:"Question *",help:e.submit?q.value:""},{default:s(()=>[a(i,{modelValue:e.question,"onUpdate:modelValue":t[4]||(t[4]=l=>e.question=l),type:"text",name:"question",autocomplete:"question",placeholder:"Enter Question"},null,8,["modelValue"])]),_:1},8,["help"]),e.editMode?(r(),g(M,{key:0,label:"Answer *",help:e.submit?k.value:""},{default:s(()=>[a(i,{modelValue:e.answer,"onUpdate:modelValue":t[5]||(t[5]=l=>e.answer=l),type:"textarea",name:"answer",autocomplete:"answer",placeholder:"Enter Answer"},null,8,["modelValue"])]),_:1},8,["help"])):m("",!0)]),a(v,{type:"justify-center lg:justify-center pt-5"},{default:s(()=>[a(y,{type:"button",color:"info",small:"",label:"Submit",onClick:_(N,["prevent"])})]),_:1})])]),_:1},8,["modelValue","title"])])}}};export{ue as default};
