import{e as U,c as $,z as E,j as i,k as r,l as p,m as a,A as u,B as I,y as o,H as _,u as S,F as P,I as H,E as b,x as T,t as M}from"./@vue-bQO0P59g.js";import{C as W,M as q,X as z}from"./@mdi-CZk6uuAL.js";import{u as O}from"./vue-router-D5J0r3Gc.js";import{u as R}from"./vuex-DHdsu8jA.js";const X={class:"grid grid-cols-2 lg:grid-cols-2 gap-2"},G={class:"grid grid-cols-1 lg:grid-cols-1 gap-6 new-table"},J={class:"mt-3 px-6 table-sec"},K={key:0},Q=o("caption",null,null,-1),Y=o("thead",null,[o("tr",null,[o("th",null,"Sl.No."),o("th",null,"Day"),o("th",null,"From Time"),o("th",null,"To Time"),o("th",{class:"text-center"},"Actions")])],-1),Z={"data-label":"Sr.No"},ee={"data-label":"Day"},te={"data-label":"From Time"},oe={"data-label":"To Time"},le={class:"actions-cell"},ae={key:0,class:"flex justify-center items-center"},ne=o("div",{class:"spinner-dual-ring"},[o("div",{class:"ldio"},[o("div"),o("div",null,[o("div")])])],-1),de=[ne],se={class:"grid grid-cols-2 lg:grid-cols-2 gap-2"},fe={__name:"LabtestSchedule",setup(ie){const y=R(),C=O(),d=U(()=>y.state.LabtestSchedule),m=[{id:"Monday",label:"Monday"},{id:"Tuesday",label:"Tuesday"},{id:"Wednesday",label:"Wednesday"},{id:"Thursday",label:"Thursday"},{id:"Friday",label:"Friday"},{id:"Saturday",label:"Saturday"},{id:"Sunday",label:"Sunday"}],e=$({limit:10,offset:0,name:m[0],editMode:!1,dayName:m[0],fromTime:null,toTime:null,id:null});E(()=>{h()});function h(){y.dispatch("LabtestSchedule/all",{limit:e.limit,offset:e.offset,name:e.name.id})}function N(){e.offset=e.offset+e.limit,h()}function g(n){if(n){const s=n.split(":");var t=s[0];if(t>12){var c=t-12;c<10?t="0"+c:t=c}else t==="00"&&(t="12");return s[0]>=12?t+":"+s[1]+" PM":t+":"+s[1]+" AM"}}function L(n,t){C.push({path:n,query:{id:t}})}function x(){d.value.modalStatus=!0,e.editMode=!1,e.dayName=m[0],e.fromTime="00:00",e.toTime="00:00",e.id=null}function j(n){d.value.modalStatus=!0,e.editMode=!0,e.dayName={id:n.name,label:n.name},e.fromTime=n.fromTime,e.toTime=n.toTime,e.id=n.id}const B=()=>{e.dayName.id&&e.fromTime&&e.toTime&&(e.editMode&&e.id?y.dispatch("LabtestSchedule/update",{id:e.id,name:e.dayName.id,fromTime:e.fromTime,toTime:e.toTime}):y.dispatch("LabtestSchedule/save",{name:e.dayName.id,fromTime:e.fromTime,toTime:e.toTime}))};return(n,t)=>{const c=i("hero-bar"),s=i("control"),f=i("base-button"),V=i("main-section"),v=i("base-buttons"),F=i("new-card"),w=i("card-component"),A=i("modal-box");return r(),p("section",null,[a(c,null,{default:u(()=>[I("Labtest Schedule")]),_:1}),a(V,null,{default:u(()=>[o("div",X,[a(s,{modelValue:e.name,"onUpdate:modelValue":t[0]||(t[0]=l=>e.name=l),options:m},null,8,["modelValue"]),a(f,{type:"button",color:"themeColor",label:"Submit",onClick:t[1]||(t[1]=_(l=>h(),["prevent"]))})])]),_:1}),a(V,null,{default:u(()=>[o("div",G,[a(w,{class:"mb-6",title:"List","has-table":"",headerIcon:S(W),onHeaderIconClicked:t[2]||(t[2]=l=>x()),iconText:"Add Schedule"},{default:u(()=>[o("div",J,[d.value.data.length>0?(r(),p("table",K,[Q,Y,o("tbody",null,[(r(!0),p(P,null,H(d.value.data,(l,k)=>(r(),p("tr",{key:k},[o("td",Z,b(k+1),1),o("td",ee,b(l.name),1),o("td",te,b(g(l.fromTime)),1),o("td",oe,b(g(l.toTime)),1),o("td",le,[a(v,{type:"justify-start lg:justify-center","no-wrap":""},{default:u(()=>[a(f,{color:"info",title:"View",icon:S(q),small:"",onClick:_(D=>L("/labtest/info",l.id),["prevent"])},null,8,["icon","onClick"]),a(f,{type:"button",title:"Change Status",color:"info",icon:S(z),small:"",onClick:_(D=>j(l),["prevent"])},null,8,["icon","onClick"])]),_:2},1024)])]))),128))])])):T("",!0)]),d.value.data.length<=0?(r(),M(F,{key:0,empty:""})):T("",!0)]),_:1},8,["headerIcon"])]),d.value.dataLoader?(r(),p("div",ae,de)):T("",!0),d.value.loadMore&&!d.value.dataLoader?(r(),M(v,{key:1,type:"justify-center lg:justify-center"},{default:u(()=>[a(f,{type:"button",color:"themeColor",label:"Load More",onClick:t[3]||(t[3]=_(l=>N(),["prevent"]))})]),_:1})):T("",!0)]),_:1}),a(A,{modelValue:d.value.modalStatus,"onUpdate:modelValue":t[7]||(t[7]=l=>d.value.modalStatus=l),title:e.editMode?"Edit Schedule":"Add Schedule"},{default:u(()=>[o("div",se,[a(s,{class:"col-span-2",modelValue:e.dayName,"onUpdate:modelValue":t[4]||(t[4]=l=>e.dayName=l),options:m},null,8,["modelValue"]),a(s,{modelValue:e.fromTime,"onUpdate:modelValue":t[5]||(t[5]=l=>e.fromTime=l),type:"time"},null,8,["modelValue"]),a(s,{modelValue:e.toTime,"onUpdate:modelValue":t[6]||(t[6]=l=>e.toTime=l),type:"time"},null,8,["modelValue"])]),a(v,{type:"justify-center lg:justify-center pt-5"},{default:u(()=>[a(f,{type:"button",color:"themeColor",small:"",label:"Submit",onClick:_(B,["prevent"])})]),_:1})]),_:1},8,["modelValue","title"])])}}};export{fe as default};
