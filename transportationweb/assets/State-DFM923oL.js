import{e as D,c as Z,B as J,j as r,k as n,l as m,m as s,C as i,D as S,y as a,E as p,u as y,F as Q,G as X,x as c,t as v,q as E,H as j,I as w}from"./@vue-_x7nCA0A.js";import{f as Y,g as tt,h as et,i as at}from"./@mdi-D9eD29fv.js";import{u as ot}from"./vue-router-Dl416FTG.js";import{u as lt}from"./vuex-TZZnsCVb.js";const st={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},nt={class:"grid grid-cols-1 lg:grid-cols-1 gap-6 new-table"},it={class:"mt-3 table-sec"},dt={key:0},ut=a("caption",null,null,-1),rt=a("thead",{class:"bg-white dark:bg-gray-900/80 dark:backdrop-blur-md"},[a("tr",null,[a("th",null,"Sl.No."),a("th",null,"State Name"),a("th",null,"State Status"),a("th",{class:"lg:flex lg:justify-center"},"Action")])],-1),ct={"data-label":"Sr.No"},mt={"data-label":"State Name"},ft={"data-label":"State Status"},pt={key:0,class:"text-green-500 font-bold"},_t={key:1,class:"text-rose-500 font-bold"},ht={key:0,class:"flex justify-center items-center"},bt=a("div",{class:"spinner-dual-ring"},[a("div",{class:"ldio"},[a("div"),a("div",null,[a("div")])])],-1),gt=[bt],yt={key:0},vt={class:"flex justify-center"},kt={class:"form-check form-check-inline"},St={class:"form-check-label inline-block text-gray-800 dark:text-slate-300 mr-2 cursor-pointer"},Ct={class:"form-check form-check-inline"},Vt={class:"form-check-label inline-block text-gray-800 dark:text-slate-300 mr-2 cursor-pointer"},Mt={class:"grid grid-cols-1 lg:grid-cols-1 gap-2"},jt={__name:"State",setup(xt){const I=[{id:10,label:"10"},{id:50,label:"50"},{id:250,label:"250"},{id:1e3,label:"1000"},{id:2500,label:"2500"},{id:5e3,label:"5000"},{id:1e4,label:"10000"}],h=lt(),T=ot(),d=D(()=>h.state.Location),C=[{id:!0,name:"ACTIVE"},{id:!1,name:"DEACTIVE"}],t=Z({limit:I[0],offset:0,search:"",status:C[0],statusChange:null,id:null,submit:!1,statusModal:!1,addModal:!1,editMode:!1,name:null});J(()=>{b()});const A=()=>{var l;b(t.limit.id,t.offset,t.search,(l=t.status)==null?void 0:l.id)};function b(){h.dispatch("Location/getState",{limit:t.limit.id,offset:t.offset,keyword:t.search,status:t.status.id})}function U(){if(V.value){t.submit=!0;return}t.submit=!1,t.editMode?h.dispatch("Location/updateState",{id:t.id,name:t.name}):h.dispatch("Location/saveState",{name:t.name}),t.addModal=!1}function B(){t.id&&h.dispatch("Location/setStateStatus",{id:t.id,status:t.statusChange}),t.statusModal=!1}function $(){var l;t.offset=t.offset+t.limit.id,b(t.limit.id,t.offset,t.search,(l=t.status)==null?void 0:l.id)}function O(l){var e,_;t.offset=0,l.length>2?b(t.limit.id,t.offset,l,(e=t.status)==null?void 0:e.id):l.length<=0&&b(t.limit.id,t.offset,t.search,(_=t.status)==null?void 0:_.id)}function R(){t.addModal=!0,t.name=null}function F(l,e){t.id=l,t.name=e,t.editMode=!0,t.addModal=!0}function q(l,e){t.statusModal=!0,t.id=l,t.statusChange=e}function H(l,e,_){T.push({path:l,query:{id:e,name:_}})}const V=D(()=>{if(!t.name)return"Enter State Name!"});function K(l){let e=String.fromCharCode(l.keyCode);if(/^[a-zA-Z ]+$/.test(e))return!0;l.preventDefault()}return(l,e)=>{const _=r("hero-bar"),k=r("control"),f=r("base-button"),g=r("base-buttons"),P=r("new-card"),z=r("card-component"),G=r("main-section"),M=r("modal-box"),W=r("field");return n(),m("section",null,[s(_,null,{default:i(()=>[S("State")]),_:1}),s(G,null,{default:i(()=>[a("div",st,[s(k,{modelValue:t.search,"onUpdate:modelValue":e[0]||(e[0]=o=>t.search=o),onKeyup:e[1]||(e[1]=o=>O(o.target.value)),type:"text",placeholder:"Search by : State Name"},null,8,["modelValue"]),s(k,{modelValue:t.status,"onUpdate:modelValue":e[2]||(e[2]=o=>t.status=o),options:C},null,8,["modelValue"]),s(f,{type:"button",color:"themeColor",small:"",label:"SUBMIT",onClick:e[3]||(e[3]=p(o=>A(),["prevent"]))})]),a("div",nt,[s(z,{class:"mb-6",title:"List (Total: "+d.value.totalState+")",onHeaderIconClicked:R,headerIcon:y(Y),iconText:"Add New State","has-table":""},{default:i(()=>{var o,x;return[a("div",it,[((o=d.value.stateData)==null?void 0:o.length)>0?(n(),m("table",dt,[ut,rt,a("tbody",null,[(n(!0),m(Q,null,X(d.value.stateData,(u,N)=>(n(),m("tr",{key:N},[a("td",ct,w(N+1),1),a("td",mt,w(u.name),1),a("td",ft,[u.status?(n(),m("span",pt,"ACTIVE")):c("",!0),u.status?c("",!0):(n(),m("span",_t,"DEACTIVE"))]),a("td",null,[s(g,{type:"justify-start lg:justify-center","no-wrap":""},{default:i(()=>[s(f,{type:"button",title:"Update State",color:"info",icon:y(tt),small:"",rounded:"",onClick:p(L=>F(u.id,u.name),["prevent"])},null,8,["icon","onClick"]),s(f,{type:"button",title:"Change Status",color:"purple",icon:y(et),small:"",rounded:"",onClick:p(L=>q(u.id,u.status),["prevent"])},null,8,["icon","onClick"]),s(f,{type:"button",title:"City List",color:"orange",icon:y(at),small:"",rounded:"",onClick:p(L=>H("/city/all",u.id,u.name),["prevent"])},null,8,["icon","onClick"])]),_:2},1024)])]))),128))])])):c("",!0)]),((x=d.value.stateData)==null?void 0:x.length)<=0?(n(),v(P,{key:0,empty:""})):c("",!0)]}),_:1},8,["title","headerIcon"])]),d.value.dataLoader?(n(),m("div",ht,gt)):c("",!0),d.value.loadMore&&!d.value.dataLoader?(n(),v(g,{key:1,type:"justify-center lg:justify-center"},{default:i(()=>[s(f,{type:"button",color:"themeColor",label:"Load More",onClick:e[4]||(e[4]=p(o=>$(),["prevent"]))})]),_:1})):c("",!0)]),_:1}),s(M,{modelValue:t.statusModal,"onUpdate:modelValue":e[7]||(e[7]=o=>t.statusModal=o),title:"State status"},{default:i(()=>[t.id?(n(),m("section",yt,[a("div",vt,[a("div",kt,[a("label",St,[E(a("input",{class:"form-check-input ml-2",type:"radio",name:"inlineRadioOptions","onUpdate:modelValue":e[5]||(e[5]=o=>t.statusChange=o),value:!0},null,512),[[j,t.statusChange]]),S(" ACTIVE ")])]),a("div",Ct,[a("label",Vt,[E(a("input",{class:"form-check-input ml-2",type:"radio",name:"inlineRadioOptions","onUpdate:modelValue":e[6]||(e[6]=o=>t.statusChange=o),value:!1},null,512),[[j,t.statusChange]]),S(" DEACTIVE")])])]),s(g,{type:"justify-center lg:justify-center pt-5"},{default:i(()=>[d.value.loaderNew?c("",!0):(n(),v(f,{key:0,type:"button",color:"info",small:"",label:"Change Status",onClick:p(B,["prevent"])}))]),_:1})])):c("",!0)]),_:1},8,["modelValue"]),s(M,{modelValue:t.addModal,"onUpdate:modelValue":e[10]||(e[10]=o=>t.addModal=o),title:"State"},{default:i(()=>[a("div",Mt,[s(W,{label:"State Name *",help:t.submit?V.value:""},{default:i(()=>[s(k,{modelValue:t.name,"onUpdate:modelValue":e[8]||(e[8]=o=>t.name=o),type:"text",name:"name",autocomplete:"name",placeholder:"Enter State Name",onKeypress:e[9]||(e[9]=o=>K(o)),maxlength:"30"},null,8,["modelValue"])]),_:1},8,["help"])]),s(g,{type:"justify-center lg:justify-center pt-5"},{default:i(()=>[d.value.loaderNew?c("",!0):(n(),v(f,{key:0,type:"button",color:"info",small:"",label:"Submit",onClick:p(U,["prevent"])}))]),_:1})]),_:1},8,["modelValue"])])}}};export{jt as default};
