import{r as m,j as A,S as K,k as l,l as n,y as i,F as _,G as y,D as N,I as b,E as k,u as r,q as j,P as B,U as E,V as g,m as F,x as L,R as M}from"./@vue-_x7nCA0A.js";import{u as R}from"./vuex-TZZnsCVb.js";import{E as q}from"./@mdi-D9eD29fv.js";const U={class:"multi-select"},G={class:"tab-input"},O={class:"tabs"},P=["onClick"],Q=["placeholder","onKeydown"],$={key:0,class:"search-results"},z=["onClick"],H={class:"text-red-500"},Z={__name:"MultiSelect",props:{options:{type:Array,required:!0},tabs:{type:Array,default:[]},placeholder:{type:String,default:"Select..."}},emits:["update:modelValue","selected","specific","removed"],setup(h){const w=R(),x=h;let s=m(""),a=m([]),d=m([]),u=m(!1);const p=M(),C=e=>{s.value},S=()=>{s.value=""},T=(e,o)=>{p.emit("removed",e),a.value.splice(o,1),p.emit("selected",a.value)},V=e=>{a.value.findIndex(c=>c.id===e.id)<0?(a.value.push({id:e.id,name:e.name}),p.emit("specific",e),p.emit("selected",a.value),s.value="",d.value=[],u.value=!1):w.dispatch("Alert/error",{msg:"Alredy selected"})},f=e=>{const o=s.value.toLowerCase();d.value=x.options.filter(c=>c.name.toLowerCase().includes(o)),u.value=!0},D=e=>{console.log(e),u.value=!1};return(e,o)=>{const c=A("icon"),I=K("click-outside");return l(),n("div",U,[i("div",G,[i("div",O,[(l(!0),n(_,null,y(r(a),(t,v)=>(l(),n("span",{key:v,class:"tab"},[N(b(t.name)+" ",1),i("button",{class:"text-red-400",onClick:k(J=>T(t,v),["prevent"])},"â¤«",8,P)]))),128))]),j(i("input",{type:"text",class:"clsmulti px-3 py-2 max-w-full focus:ring ring-blue-300 focus:outline-none dark:border-gray-700 rounded w-full dark:placeholder-gray-400 border-blue-300 border","onUpdate:modelValue":o[0]||(o[0]=t=>E(s)?s.value=t:s=t),placeholder:h.placeholder,onInput:f,onFocus:f,onKeydown:g(k(C,["prevent"]),["enter"]),onKeyup:g(S,["enter"])},null,40,Q),[[B,r(s)],[I,D]]),F(c,{class:"absolute right-0",path:r(q)},null,8,["path"])]),r(u)&&r(d).length>0?(l(),n("ul",$,[(l(!0),n(_,null,y(r(d),t=>(l(),n("li",{key:t.id,onClick:v=>V(t)},[i("label",H,b(t.name),1)],8,z))),128))])):L("",!0)])}}};export{Z as default};
