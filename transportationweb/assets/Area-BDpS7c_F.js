import{e as A,c as Q,B as W,j as r,k as s,l as m,m as l,C as i,D as V,I as v,y as a,E as f,u as M,F as X,G as Y,x as u,t as k,q as w,H as L}from"./@vue-_x7nCA0A.js";import{f as ee,g as te,h as ae}from"./@mdi-D9eD29fv.js";import"./moment-Cl4UOzQZ.js";import{u as oe,b as le}from"./vue-router-Dl416FTG.js";import{u as ne}from"./vuex-TZZnsCVb.js";const se={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},ie={class:"grid grid-cols-1 lg:grid-cols-1 gap-6 new-table"},de={class:"mt-3 table-sec"},re={key:0},ue=a("caption",null,null,-1),ce=a("thead",{class:"bg-white dark:bg-gray-900/80 dark:backdrop-blur-md"},[a("tr",null,[a("th",null,"Sl.No."),a("th",null,"Area Name"),a("th",null,"Area Pincode"),a("th",null,"Area Status"),a("th",{class:"lg:flex lg:justify-center"},"Action")])],-1),me={"data-label":"Sr.No"},pe={"data-label":"Area Name"},fe={"data-label":"Area Pincode"},ye={"data-label":"Area Status"},he={key:0,class:"text-green-500 font-bold"},_e={key:1,class:"text-rose-500 font-bold"},be={key:0,class:"flex justify-center items-center"},ge=a("div",{class:"spinner-dual-ring"},[a("div",{class:"ldio"},[a("div"),a("div",null,[a("div")])])],-1),ve=[ge],ke={key:0},Ce={class:"flex justify-center"},Ae={class:"form-check form-check-inline"},Ve={class:"form-check-label inline-block text-gray-800 dark:text-slate-300 mr-2 cursor-pointer"},Me={class:"form-check form-check-inline"},Ie={class:"form-check-label inline-block text-gray-800 dark:text-slate-300 mr-2 cursor-pointer"},xe={class:"grid grid-cols-1 lg:grid-cols-1 gap-2"},Le={__name:"Area",setup(Ne){const T=[{id:10,label:"10"},{id:50,label:"50"},{id:250,label:"250"},{id:1e3,label:"1000"},{id:2500,label:"2500"},{id:5e3,label:"5000"},{id:1e4,label:"10000"}],y=ne();oe();const C=le(),d=A(()=>y.state.Location),I=[{id:!0,name:"ACTIVE"},{id:!1,name:"DEACTIVE"}],e=Q({limit:T[0],offset:0,search:"",status:I[0],statusChange:null,id:null,cityId:null,cityName:null,submit:!1,statusModal:!1,addModal:!1,editMode:!1,name:null,pincode:null});W(()=>{C.query.id&&(e.cityId=C.query.id,e.cityName=C.query.name,h())});const U=()=>{var n;h(e.limit.id,e.offset,e.search,(n=e.status)==null?void 0:n.id,e.cityId)};function h(){y.dispatch("Location/getArea",{limit:e.limit.id,offset:e.offset,keyword:e.search,status:e.status.id,cityId:e.cityId})}function B(){if(x.value||N.value){e.submit=!0;return}e.submit=!1,e.editMode?(y.dispatch("Location/updateArea",{id:e.id,name:e.name,pincode:e.pincode,cityId:e.cityId}),e.addModal=!1):(y.dispatch("Location/saveArea",{name:e.name,pincode:e.pincode,cityId:e.cityId}),e.addModal=!1)}function P(){e.id&&y.dispatch("Location/setAreaStatus",{id:e.id,status:e.statusChange}),e.statusModal=!1}function $(){e.offset=e.offset+e.limit.id,h()}function R(n){var t,_;e.offset=0,n.length>2?h(e.limit.id,e.offset,n,(t=e.status)==null?void 0:t.id,e.cityId):n.length<=0&&h(e.limit.id,e.offset,e.search,(_=e.status)==null?void 0:_.id,e.cityId)}function q(){e.addModal=!0,e.name=null,e.pincode=null}function O(n,t){e.id=n,e.name=t,e.editMode=!0,e.addModal=!0}function K(n,t){e.statusModal=!0,e.id=n,e.statusChange=t}const x=A(()=>{if(!e.name)return"Enter Area Name!"}),N=A(()=>{if(!e.pincode)return"Enter Pincode!"});function F(n){let t=String.fromCharCode(n.keyCode);if(/^[a-zA-Z0-9 ]+$/.test(t))return!0;n.preventDefault()}function H(n){let t=String.fromCharCode(n.keyCode);if(/^[0-9]+$/.test(t))return!0;n.preventDefault()}return(n,t)=>{const _=r("hero-bar"),b=r("control"),p=r("base-button"),g=r("base-buttons"),z=r("new-card"),G=r("card-component"),Z=r("main-section"),S=r("modal-box"),E=r("field");return s(),m("section",null,[l(_,null,{default:i(()=>[V(v(e.cityName)+" > Area ",1)]),_:1}),l(Z,null,{default:i(()=>[a("div",se,[l(b,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=o=>e.search=o),onKeyup:t[1]||(t[1]=o=>R(o.target.value)),type:"text",placeholder:"Search by : Area Name"},null,8,["modelValue"]),l(b,{modelValue:e.status,"onUpdate:modelValue":t[2]||(t[2]=o=>e.status=o),options:I},null,8,["modelValue"]),l(p,{type:"button",color:"themeColor",small:"",label:"SUBMIT",onClick:t[3]||(t[3]=f(o=>U(),["prevent"]))})]),a("div",ie,[l(G,{class:"mb-6",title:"List (Total: "+d.value.totalArea+")",onHeaderIconClicked:q,headerIcon:M(ee),iconText:"Add New Area","has-table":""},{default:i(()=>{var o,D;return[a("div",de,[((o=d.value.areaData)==null?void 0:o.length)>0?(s(),m("table",re,[ue,ce,a("tbody",null,[(s(!0),m(X,null,Y(d.value.areaData,(c,j)=>(s(),m("tr",{key:j},[a("td",me,v(j+1),1),a("td",pe,v(c.name),1),a("td",fe,v(c.pincode),1),a("td",ye,[c.status?(s(),m("span",he,"ACTIVE")):u("",!0),c.status?u("",!0):(s(),m("span",_e,"DEACTIVE"))]),a("td",null,[l(g,{type:"justify-start lg:justify-center","no-wrap":""},{default:i(()=>[l(p,{type:"button",title:"Update State",color:"info",icon:M(te),small:"",rounded:"",onClick:f(J=>O(c.id,c.name),["prevent"])},null,8,["icon","onClick"]),l(p,{type:"button",title:"Change Status",color:"purple",icon:M(ae),small:"",rounded:"",onClick:f(J=>K(c.id,c.status),["prevent"])},null,8,["icon","onClick"])]),_:2},1024)])]))),128))])])):u("",!0)]),((D=d.value.areaData)==null?void 0:D.length)<=0?(s(),k(z,{key:0,empty:""})):u("",!0)]}),_:1},8,["title","headerIcon"])]),d.value.dataLoader?(s(),m("div",be,ve)):u("",!0),d.value.loadMore&&!d.value.dataLoader?(s(),k(g,{key:1,type:"justify-center lg:justify-center"},{default:i(()=>[l(p,{type:"button",color:"themeColor",label:"Load More",onClick:t[4]||(t[4]=f(o=>$(),["prevent"]))})]),_:1})):u("",!0)]),_:1}),l(S,{modelValue:e.statusModal,"onUpdate:modelValue":t[7]||(t[7]=o=>e.statusModal=o),title:"Area status"},{default:i(()=>[e.id?(s(),m("section",ke,[a("div",Ce,[a("div",Ae,[a("label",Ve,[w(a("input",{class:"form-check-input ml-2",type:"radio",name:"inlineRadioOptions","onUpdate:modelValue":t[5]||(t[5]=o=>e.statusChange=o),value:!0},null,512),[[L,e.statusChange]]),V(" ACTIVE ")])]),a("div",Me,[a("label",Ie,[w(a("input",{class:"form-check-input ml-2",type:"radio",name:"inlineRadioOptions","onUpdate:modelValue":t[6]||(t[6]=o=>e.statusChange=o),value:!1},null,512),[[L,e.statusChange]]),V(" DEACTIVE")])])]),l(g,{type:"justify-center lg:justify-center pt-5"},{default:i(()=>[d.value.loaderNew?u("",!0):(s(),k(p,{key:0,type:"button",color:"info",small:"",label:"Change Status",onClick:f(P,["prevent"])}))]),_:1})])):u("",!0)]),_:1},8,["modelValue"]),l(S,{modelValue:e.addModal,"onUpdate:modelValue":t[12]||(t[12]=o=>e.addModal=o),title:"Area"},{default:i(()=>[a("div",xe,[l(E,{label:"Area Name *",help:e.submit?x.value:""},{default:i(()=>[l(b,{modelValue:e.name,"onUpdate:modelValue":t[8]||(t[8]=o=>e.name=o),type:"text",name:"name",autocomplete:"name",placeholder:"Enter Area Name",onKeypress:t[9]||(t[9]=o=>F(o)),maxlength:"30"},null,8,["modelValue"])]),_:1},8,["help"]),l(E,{label:"Area Pincode *",help:e.submit?N.value:""},{default:i(()=>[l(b,{modelValue:e.pincode,"onUpdate:modelValue":t[10]||(t[10]=o=>e.pincode=o),type:"text",name:"pincode",autocomplete:"pincode",placeholder:"Enter Pincode",onKeypress:t[11]||(t[11]=o=>H(o)),maxlength:"6"},null,8,["modelValue"])]),_:1},8,["help"])]),l(g,{type:"justify-center lg:justify-center pt-5"},{default:i(()=>[d.value.loaderNew?u("",!0):(s(),k(p,{key:0,type:"button",color:"info",small:"",label:"Submit",onClick:f(B,["prevent"])}))]),_:1})]),_:1},8,["modelValue"])])}}};export{Le as default};
