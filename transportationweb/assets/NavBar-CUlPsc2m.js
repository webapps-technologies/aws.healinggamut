import{e as n,c as q,r as E,j as u,k as V,l as F,q as D,v as I,y as a,m as e,C as s,E as r,u as p,J as y,I as O,t as J,x as Y,F as G}from"./@vue-_x7nCA0A.js";import{u as H}from"./vuex-TZZnsCVb.js";import{y as K,z as Q,u as W,A as X,l as Z,B as ee,C as oe}from"./@mdi-D9eD29fv.js";import i from"./NavBarItem-BOxoISEY.js";import k from"./NavBarItemLabel-B4y8LKnQ.js";import le from"./NavBarMenu-CshS3WDm.js";import g from"./Icon-D-8XWZqN.js";import{u as se}from"./vue-router-Dl416FTG.js";const te={class:"flex-1 items-stretch flex h-14 bg-[#ffffff10]"},ae={class:"flex-none items-stretch flex h-14 lg:hidden"},ne={class:"max-h-screen-menu overflow-y-auto lg:overflow-visible lg:flex lg:items-stretch lg:justify-end lg:ml-auto"},re=a("p",{class:"text-slate-600 dark:text-white/75 pb-5 text-xl flex justify-center"},"Are you sure, you want to Logout ?",-1),de={class:"grid grid-cols-1 lg:grid-cols-1 gap-6"},ve={__name:"NavBar",props:{name:{type:String,default:"Superadmin"}},setup(M){se();const d=H(),C=n(()=>d.state.Auth),o=q({oldPassword:null,password:null,confirmPassword:null,passwordModal:!1,deleteModelStatus:!1}),S=n(()=>!d.state.isFullScreen),w=n(()=>d.state.isAsideMobileExpanded),B=n(()=>w.value?K:Q),N=()=>d.dispatch("asideMobileToggle"),m=E(!1),L=n(()=>m.value?W:X),A=()=>{m.value=!m.value},$=()=>{d.dispatch("asideLgToggle",!0)};function j(){o.passwordModal=!0}async function z(){if(v.value||b.value||h.value)return null;await d.dispatch("Auth/changePass",{oldPassword:o.oldPassword,password:o.password,confirmPassword:o.confirmPassword}),o.passwordModal=!1}const T=()=>{o.deleteModelStatus=!1,localStorage.clear(),window.location.href="https://doctor.healinggamut.co.in/features"},v=n(()=>o.oldPassword?null:"Required."),b=n(()=>o.password?null:"Required."),h=n(()=>o.confirmPassword?null:"Required.");function R(){o.deleteModelStatus=!0}return(U,l)=>{const _=u("base-button"),x=u("base-buttons"),P=u("modal-box"),f=u("control"),c=u("field");return V(),F(G,null,[D(a("nav",{class:y(["top-0 left-0 right-0 fixed flex h-14 bg-[#1670ff20] backdrop-blur-md border-b border-[#1670ff20] shadow-lg shadow-[#1670ff30] dark:shadow-none z-30 w-screen transition-position xl:pl-60 lg:w-auto lg:items-stretch dark:bg-slate-900 dark:border-gray-800",{"ml-60 lg:ml-0":w.value}])},[a("div",te,[e(i,{type:"flex lg:hidden",onClick:r(N,["prevent"])},{default:s(()=>[e(g,{path:B.value,size:"24"},null,8,["path"])]),_:1}),e(i,{type:"hidden lg:flex xl:hidden",onClick:r($,["prevent"])},{default:s(()=>[e(g,{path:p(Z),size:"24"},null,8,["path"])]),_:1}),e(i)]),a("div",ae,[e(i,{onClick:r(A,["prevent"])},{default:s(()=>[e(g,{path:L.value,size:"24"},null,8,["path"])]),_:1})]),a("div",{class:y(["absolute w-screen top-14 left-0 bg-[#ffffff10] lg:w-auto lg:items-stretch lg:flex lg:flex-grow lg:static lg:border-b-0 lg:overflow-visible lg:shadow-none",[m.value?"block":"hidden"]])},[a("div",ne,[e(le,{"has-divider":""},{dropdown:s(()=>[e(i,{onClick:l[0]||(l[0]=r(t=>j(),["prevent"]))},{default:s(()=>[e(k,{icon:p(ee),label:"Change Password"},null,8,["icon"])]),_:1})]),default:s(()=>[a("div",null,[a("span",null,O(M.name),1)])]),_:1}),e(i,{"is-desktop-icon-only":"",onClick:r(R,["prevent"])},{default:s(()=>[e(k,{icon:p(oe),label:"Log out","is-desktop-icon-only":""},null,8,["icon"])]),_:1})])],2)],2),[[I,S.value]]),e(P,{modelValue:o.deleteModelStatus,"onUpdate:modelValue":l[2]||(l[2]=t=>o.deleteModelStatus=t),title:"Logout",class:"backdrop-blur-sm"},{default:s(()=>[re,e(x,{class:"flex justify-center"},{default:s(()=>[e(_,{onClick:l[1]||(l[1]=t=>T()),color:"danger",small:"",label:"Yes, Log me out !"})]),_:1})]),_:1},8,["modelValue"]),e(P,{modelValue:o.passwordModal,"onUpdate:modelValue":l[6]||(l[6]=t=>o.passwordModal=t),title:"Change Password",form:"",onSubmit:l[7]||(l[7]=r(t=>U.onPassSubmit(),["prevent"]))},{default:s(()=>[a("section",null,[a("div",de,[e(c,{label:"Old Password *",help:v.value},{default:s(()=>[e(f,{modelValue:o.oldPassword,"onUpdate:modelValue":l[3]||(l[3]=t=>o.oldPassword=t),type:"password",name:"oldPassword",autocomplete:"Old Password"},null,8,["modelValue"])]),_:1},8,["help"]),e(c,{label:"Password *",help:b.value},{default:s(()=>[e(f,{modelValue:o.password,"onUpdate:modelValue":l[4]||(l[4]=t=>o.password=t),type:"password",name:"password",autocomplete:"Password"},null,8,["modelValue"])]),_:1},8,["help"]),e(c,{label:"Confirm Password *",help:h.value},{default:s(()=>[e(f,{modelValue:o.confirmPassword,"onUpdate:modelValue":l[5]||(l[5]=t=>o.confirmPassword=t),type:"password",name:"confirmPassword",autocomplete:"Confirm Password"},null,8,["modelValue"])]),_:1},8,["help"])]),e(x,{type:"justify-center lg:justify-center pt-5"},{default:s(()=>[C.value.loaderNew?Y("",!0):(V(),J(_,{key:0,type:"button",color:"info",small:"",label:"Submit",onClick:r(z,["prevent"])}))]),_:1})])]),_:1},8,["modelValue"])],64)}}};export{ve as default};
